var bT=t=>{throw TypeError(t)};var mw=(t,e,n)=>e.has(t)||bT("Cannot "+n);var $=(t,e,n)=>(mw(t,e,"read from private field"),n?n.call(t):e.get(t)),it=(t,e,n)=>e.has(t)?bT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ue=(t,e,n,r)=>(mw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),En=(t,e,n)=>(mw(t,e,"access private method"),n);var Pf=(t,e,n,r)=>({set _(s){Ue(t,e,s,n)},get _(){return $(t,e,r)}});function Q$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sP={exports:{}},xy={},iP={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=Symbol.for("react.element"),Y$=Symbol.for("react.portal"),X$=Symbol.for("react.fragment"),J$=Symbol.for("react.strict_mode"),Z$=Symbol.for("react.profiler"),e3=Symbol.for("react.provider"),t3=Symbol.for("react.context"),n3=Symbol.for("react.forward_ref"),r3=Symbol.for("react.suspense"),s3=Symbol.for("react.memo"),i3=Symbol.for("react.lazy"),ET=Symbol.iterator;function o3(t){return t===null||typeof t!="object"?null:(t=ET&&t[ET]||t["@@iterator"],typeof t=="function"?t:null)}var oP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aP=Object.assign,lP={};function ou(t,e,n){this.props=t,this.context=e,this.refs=lP,this.updater=n||oP}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cP(){}cP.prototype=ou.prototype;function Vb(t,e,n){this.props=t,this.context=e,this.refs=lP,this.updater=n||oP}var $b=Vb.prototype=new cP;$b.constructor=Vb;aP($b,ou.prototype);$b.isPureReactComponent=!0;var ST=Array.isArray,uP=Object.prototype.hasOwnProperty,Ub={current:null},dP={key:!0,ref:!0,__self:!0,__source:!0};function hP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uP.call(e,r)&&!dP.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qh,type:t,key:i,ref:o,props:s,_owner:Ub.current}}function a3(t,e){return{$$typeof:qh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bb(t){return typeof t=="object"&&t!==null&&t.$$typeof===qh}function l3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var TT=/\/+/g;function gw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l3(""+t.key):e.toString(36)}function bp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qh:case Y$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+gw(o,0):r,ST(s)?(n="",t!=null&&(n=t.replace(TT,"$&/")+"/"),bp(s,e,n,"",function(u){return u})):s!=null&&(Bb(s)&&(s=a3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(TT,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ST(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+gw(i,a);o+=bp(i,e,n,l,s)}else if(l=o3(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+gw(i,a++),o+=bp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rf(t,e,n){if(t==null)return t;var r=[],s=0;return bp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function c3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qn={current:null},Ep={transition:null},u3={ReactCurrentDispatcher:Qn,ReactCurrentBatchConfig:Ep,ReactCurrentOwner:Ub};function fP(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Rf,forEach:function(t,e,n){Rf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rf(t,function(){e++}),e},toArray:function(t){return Rf(t,function(e){return e})||[]},only:function(t){if(!Bb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=ou;He.Fragment=X$;He.Profiler=Z$;He.PureComponent=Vb;He.StrictMode=J$;He.Suspense=r3;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u3;He.act=fP;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ub.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)uP.call(e,l)&&!dP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qh,type:t.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:t3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e3,_context:t},t.Consumer=t};He.createElement=hP;He.createFactory=function(t){var e=hP.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:n3,render:t}};He.isValidElement=Bb;He.lazy=function(t){return{$$typeof:i3,_payload:{_status:-1,_result:t},_init:c3}};He.memo=function(t,e){return{$$typeof:s3,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Ep.transition;Ep.transition={};try{t()}finally{Ep.transition=e}};He.unstable_act=fP;He.useCallback=function(t,e){return Qn.current.useCallback(t,e)};He.useContext=function(t){return Qn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Qn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Qn.current.useEffect(t,e)};He.useId=function(){return Qn.current.useId()};He.useImperativeHandle=function(t,e,n){return Qn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Qn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Qn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Qn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Qn.current.useReducer(t,e,n)};He.useRef=function(t){return Qn.current.useRef(t)};He.useState=function(t){return Qn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Qn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Qn.current.useTransition()};He.version="18.3.1";iP.exports=He;var m=iP.exports;const U=wy(m),pP=Q$({__proto__:null,default:U},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3=m,h3=Symbol.for("react.element"),f3=Symbol.for("react.fragment"),p3=Object.prototype.hasOwnProperty,m3=d3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g3={key:!0,ref:!0,__self:!0,__source:!0};function mP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)p3.call(e,r)&&!g3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:h3,type:t,key:i,ref:o,props:s,_owner:m3.current}}xy.Fragment=f3;xy.jsx=mP;xy.jsxs=mP;sP.exports=xy;var c=sP.exports,gP={exports:{}},Ar={},yP={exports:{}},vP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,D){var T=N.length;N.push(D);e:for(;0<T;){var K=T-1>>>1,se=N[K];if(0<s(se,D))N[K]=D,N[T]=se,T=K;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],T=N.pop();if(T!==D){N[0]=T;e:for(var K=0,se=N.length,C=se>>>1;K<C;){var Ee=2*(K+1)-1,nt=N[Ee],fe=Ee+1,ce=N[fe];if(0>s(nt,T))fe<se&&0>s(ce,nt)?(N[K]=ce,N[fe]=T,K=fe):(N[K]=nt,N[Ee]=T,K=Ee);else if(fe<se&&0>s(ce,T))N[K]=ce,N[fe]=T,K=fe;else break e}}return D}function s(N,D){var T=N.sortIndex-D.sortIndex;return T!==0?T:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,y=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function b(N){if(v=!1,x(N),!y)if(n(l)!==null)y=!0,G(E);else{var D=n(u);D!==null&&ee(b,D.startTime-N)}}function E(N,D){y=!1,v&&(v=!1,w(A),A=-1),p=!0;var T=f;try{for(x(D),h=n(l);h!==null&&(!(h.expirationTime>D)||N&&!L());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var se=K(h.expirationTime<=D);D=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),x(D)}else r(l);h=n(l)}if(h!==null)var C=!0;else{var Ee=n(u);Ee!==null&&ee(b,Ee.startTime-D),C=!1}return C}finally{h=null,f=T,p=!1}}var S=!1,k=null,A=-1,j=5,M=-1;function L(){return!(t.unstable_now()-M<j)}function P(){if(k!==null){var N=t.unstable_now();M=N;var D=!0;try{D=k(!0,N)}finally{D?B():(S=!1,k=null)}}else S=!1}var B;if(typeof g=="function")B=function(){g(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=P,B=function(){q.postMessage(null)}}else B=function(){_(P,0)};function G(N){k=N,S||(S=!0,B())}function ee(N,D){A=_(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,G(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var T=f;f=D;try{return N()}finally{f=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var T=f;f=N;try{return D()}finally{f=T}},t.unstable_scheduleCallback=function(N,D,T){var K=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?K+T:K):T=K,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=T+se,N={id:d++,callback:D,priorityLevel:N,startTime:T,expirationTime:se,sortIndex:-1},T>K?(N.sortIndex=T,e(u,N),n(l)===null&&N===n(u)&&(v?(w(A),A=-1):v=!0,ee(b,T-K))):(N.sortIndex=se,e(l,N),y||p||(y=!0,G(E))),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var D=f;return function(){var T=f;f=D;try{return N.apply(this,arguments)}finally{f=T}}}})(vP);yP.exports=vP;var y3=yP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3=m,Tr=y3;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wP=new Set,Hd={};function hl(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(Hd[t]=e,t=0;t<e.length;t++)wP.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yx=Object.prototype.hasOwnProperty,w3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CT={},kT={};function x3(t){return Yx.call(kT,t)?!0:Yx.call(CT,t)?!1:w3.test(t)?kT[t]=!0:(CT[t]=!0,!1)}function _3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b3(t,e,n,r){if(e===null||typeof e>"u"||_3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zb=/[\-:]([a-z])/g;function Wb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zb,Wb);wn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zb,Wb);wn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zb,Wb);wn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hb(t,e,n,r){var s=wn.hasOwnProperty(e)?wn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(b3(e,n,s,r)&&(n=null),r||s===null?x3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yi=v3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jf=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),Gb=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),Kb=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),bP=Symbol.for("react.offscreen"),IT=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=IT&&t[IT]||t["@@iterator"],typeof t=="function"?t:null)}var At=Object.assign,yw;function qu(t){if(yw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yw=e&&e[1]||""}return`
`+yw+t}var vw=!1;function ww(t,e){if(!t||vw)return"";vw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qu(t):""}function E3(t){switch(t.tag){case 5:return qu(t.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return t=ww(t.type,!1),t;case 11:return t=ww(t.type.render,!1),t;case 1:return t=ww(t.type,!0),t;default:return""}}function e0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wl:return"Fragment";case zl:return"Portal";case Xx:return"Profiler";case qb:return"StrictMode";case Jx:return"Suspense";case Zx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _P:return(t.displayName||"Context")+".Consumer";case xP:return(t._context.displayName||"Context")+".Provider";case Gb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kb:return e=t.displayName||null,e!==null?e:e0(t.type)||"Memo";case uo:e=t._payload,t=t._init;try{return e0(t(e))}catch{}}return null}function S3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e0(e);case 8:return e===qb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T3(t){var e=EP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Df(t){t._valueTracker||(t._valueTracker=T3(t))}function SP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function t0(t,e){var n=e.checked;return At({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function AT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TP(t,e){e=e.checked,e!=null&&Hb(t,"checked",e,!1)}function n0(t,e){TP(t,e);var n=Go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?r0(t,e.type,n):e.hasOwnProperty("defaultValue")&&r0(t,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function r0(t,e,n){(e!=="number"||hm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gu=Array.isArray;function ic(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Go(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function s0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return At({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Gu(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Go(n)}}function CP(t,e){var n=Go(e.value),r=Go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mf,IP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mf=Mf||document.createElement("div"),Mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C3=["Webkit","ms","Moz","O"];Object.keys(vd).forEach(function(t){C3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vd[e]=vd[t]})});function AP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vd.hasOwnProperty(t)&&vd[t]?(""+e).trim():e+"px"}function NP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var k3=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o0(t,e){if(e){if(k3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function a0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l0=null;function Qb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var c0=null,oc=null,ac=null;function jT(t){if(t=Qh(t)){if(typeof c0!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Ty(e),c0(t.stateNode,t.type,e))}}function PP(t){oc?ac?ac.push(t):ac=[t]:oc=t}function RP(){if(oc){var t=oc,e=ac;if(ac=oc=null,jT(t),e)for(t=0;t<e.length;t++)jT(e[t])}}function jP(t,e){return t(e)}function DP(){}var xw=!1;function MP(t,e,n){if(xw)return t(e,n);xw=!0;try{return jP(t,e,n)}finally{xw=!1,(oc!==null||ac!==null)&&(DP(),RP())}}function Gd(t,e){var n=t.stateNode;if(n===null)return null;var r=Ty(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var u0=!1;if(Vi)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){u0=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{u0=!1}function I3(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var wd=!1,fm=null,pm=!1,d0=null,A3={onError:function(t){wd=!0,fm=t}};function N3(t,e,n,r,s,i,o,a,l){wd=!1,fm=null,I3.apply(A3,arguments)}function P3(t,e,n,r,s,i,o,a,l){if(N3.apply(this,arguments),wd){if(wd){var u=fm;wd=!1,fm=null}else throw Error(Q(198));pm||(pm=!0,d0=u)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DT(t){if(fl(t)!==t)throw Error(Q(188))}function R3(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return DT(s),t;if(i===r)return DT(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function LP(t){return t=R3(t),t!==null?FP(t):null}function FP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FP(t);if(e!==null)return e;t=t.sibling}return null}var VP=Tr.unstable_scheduleCallback,MT=Tr.unstable_cancelCallback,j3=Tr.unstable_shouldYield,D3=Tr.unstable_requestPaint,Ft=Tr.unstable_now,M3=Tr.unstable_getCurrentPriorityLevel,Yb=Tr.unstable_ImmediatePriority,$P=Tr.unstable_UserBlockingPriority,mm=Tr.unstable_NormalPriority,O3=Tr.unstable_LowPriority,UP=Tr.unstable_IdlePriority,_y=null,Xs=null;function L3(t){if(Xs&&typeof Xs.onCommitFiberRoot=="function")try{Xs.onCommitFiberRoot(_y,t,void 0,(t.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:$3,F3=Math.log,V3=Math.LN2;function $3(t){return t>>>=0,t===0?32:31-(F3(t)/V3|0)|0}var Of=64,Lf=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ku(a):(i&=o,i!==0&&(r=Ku(i)))}else o=n&~s,o!==0?r=Ku(o):i!==0&&(r=Ku(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ws(e),s=1<<n,r|=t[n],e&=~s;return r}function U3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ws(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=U3(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function h0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BP(){var t=Of;return Of<<=1,!(Of&4194240)&&(Of=64),t}function _w(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ws(e),t[e]=n}function z3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ws(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ws(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ut=0;function zP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WP,Jb,HP,qP,GP,f0=!1,Ff=[],Po=null,Ro=null,jo=null,Kd=new Map,Qd=new Map,fo=[],W3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OT(t,e){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":Kd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qd.delete(e.pointerId)}}function Iu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Qh(e),e!==null&&Jb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function H3(t,e,n,r,s){switch(e){case"focusin":return Po=Iu(Po,t,e,n,r,s),!0;case"dragenter":return Ro=Iu(Ro,t,e,n,r,s),!0;case"mouseover":return jo=Iu(jo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kd.set(i,Iu(Kd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qd.set(i,Iu(Qd.get(i)||null,t,e,n,r,s)),!0}return!1}function KP(t){var e=Ca(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=OP(n),e!==null){t.blockedOn=e,GP(t.priority,function(){HP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=p0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);l0=r,n.target.dispatchEvent(r),l0=null}else return e=Qh(n),e!==null&&Jb(e),t.blockedOn=n,!1;e.shift()}return!0}function LT(t,e,n){Sp(t)&&n.delete(e)}function q3(){f0=!1,Po!==null&&Sp(Po)&&(Po=null),Ro!==null&&Sp(Ro)&&(Ro=null),jo!==null&&Sp(jo)&&(jo=null),Kd.forEach(LT),Qd.forEach(LT)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,f0||(f0=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,q3)))}function Yd(t){function e(s){return Au(s,t)}if(0<Ff.length){Au(Ff[0],t);for(var n=1;n<Ff.length;n++){var r=Ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Po!==null&&Au(Po,t),Ro!==null&&Au(Ro,t),jo!==null&&Au(jo,t),Kd.forEach(e),Qd.forEach(e),n=0;n<fo.length;n++)r=fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fo.length&&(n=fo[0],n.blockedOn===null);)KP(n),n.blockedOn===null&&fo.shift()}var lc=Yi.ReactCurrentBatchConfig,ym=!0;function G3(t,e,n,r){var s=ut,i=lc.transition;lc.transition=null;try{ut=1,Zb(t,e,n,r)}finally{ut=s,lc.transition=i}}function K3(t,e,n,r){var s=ut,i=lc.transition;lc.transition=null;try{ut=4,Zb(t,e,n,r)}finally{ut=s,lc.transition=i}}function Zb(t,e,n,r){if(ym){var s=p0(t,e,n,r);if(s===null)Pw(t,e,r,vm,n),OT(t,r);else if(H3(s,t,e,n,r))r.stopPropagation();else if(OT(t,r),e&4&&-1<W3.indexOf(t)){for(;s!==null;){var i=Qh(s);if(i!==null&&WP(i),i=p0(t,e,n,r),i===null&&Pw(t,e,r,vm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Pw(t,e,r,null,n)}}var vm=null;function p0(t,e,n,r){if(vm=null,t=Qb(r),t=Ca(t),t!==null)if(e=fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vm=t,null}function QP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M3()){case Yb:return 1;case $P:return 4;case mm:case O3:return 16;case UP:return 536870912;default:return 16}default:return 16}}var ko=null,e1=null,Tp=null;function YP(){if(Tp)return Tp;var t,e=e1,n=e.length,r,s="value"in ko?ko.value:ko.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tp=s.slice(t,1<r?1-r:void 0)}function Cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vf(){return!0}function FT(){return!1}function Nr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vf:FT,this.isPropagationStopped=FT,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),e}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=Nr(au),Kh=At({},au,{view:0,detail:0}),Q3=Nr(Kh),bw,Ew,Nu,by=At({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nu&&(Nu&&t.type==="mousemove"?(bw=t.screenX-Nu.screenX,Ew=t.screenY-Nu.screenY):Ew=bw=0,Nu=t),bw)},movementY:function(t){return"movementY"in t?t.movementY:Ew}}),VT=Nr(by),Y3=At({},by,{dataTransfer:0}),X3=Nr(Y3),J3=At({},Kh,{relatedTarget:0}),Sw=Nr(J3),Z3=At({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),eU=Nr(Z3),tU=At({},au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nU=Nr(tU),rU=At({},au,{data:0}),$T=Nr(rU),sU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oU[t])?!!e[t]:!1}function n1(){return aU}var lU=At({},Kh,{key:function(t){if(t.key){var e=sU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n1,charCode:function(t){return t.type==="keypress"?Cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cU=Nr(lU),uU=At({},by,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UT=Nr(uU),dU=At({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n1}),hU=Nr(dU),fU=At({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),pU=Nr(fU),mU=At({},by,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gU=Nr(mU),yU=[9,13,27,32],r1=Vi&&"CompositionEvent"in window,xd=null;Vi&&"documentMode"in document&&(xd=document.documentMode);var vU=Vi&&"TextEvent"in window&&!xd,XP=Vi&&(!r1||xd&&8<xd&&11>=xd),BT=" ",zT=!1;function JP(t,e){switch(t){case"keyup":return yU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hl=!1;function wU(t,e){switch(t){case"compositionend":return ZP(e);case"keypress":return e.which!==32?null:(zT=!0,BT);case"textInput":return t=e.data,t===BT&&zT?null:t;default:return null}}function xU(t,e){if(Hl)return t==="compositionend"||!r1&&JP(t,e)?(t=YP(),Tp=e1=ko=null,Hl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XP&&e.locale!=="ko"?null:e.data;default:return null}}var _U={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_U[t.type]:e==="textarea"}function eR(t,e,n,r){PP(r),e=wm(e,"onChange"),0<e.length&&(n=new t1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Xd=null;function bU(t){dR(t,0)}function Ey(t){var e=Kl(t);if(SP(e))return t}function EU(t,e){if(t==="change")return e}var tR=!1;if(Vi){var Tw;if(Vi){var Cw="oninput"in document;if(!Cw){var HT=document.createElement("div");HT.setAttribute("oninput","return;"),Cw=typeof HT.oninput=="function"}Tw=Cw}else Tw=!1;tR=Tw&&(!document.documentMode||9<document.documentMode)}function qT(){_d&&(_d.detachEvent("onpropertychange",nR),Xd=_d=null)}function nR(t){if(t.propertyName==="value"&&Ey(Xd)){var e=[];eR(e,Xd,t,Qb(t)),MP(bU,e)}}function SU(t,e,n){t==="focusin"?(qT(),_d=e,Xd=n,_d.attachEvent("onpropertychange",nR)):t==="focusout"&&qT()}function TU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ey(Xd)}function CU(t,e){if(t==="click")return Ey(e)}function kU(t,e){if(t==="input"||t==="change")return Ey(e)}function IU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _s=typeof Object.is=="function"?Object.is:IU;function Jd(t,e){if(_s(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yx.call(e,s)||!_s(t[s],e[s]))return!1}return!0}function GT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KT(t,e){var n=GT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GT(n)}}function rR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sR(){for(var t=window,e=hm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hm(t.document)}return e}function s1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AU(t){var e=sR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rR(n.ownerDocument.documentElement,n)){if(r!==null&&s1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=KT(n,i);var o=KT(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NU=Vi&&"documentMode"in document&&11>=document.documentMode,ql=null,m0=null,bd=null,g0=!1;function QT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;g0||ql==null||ql!==hm(r)||(r=ql,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Jd(bd,r)||(bd=r,r=wm(m0,"onSelect"),0<r.length&&(e=new t1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ql)))}function $f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gl={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},kw={},iR={};Vi&&(iR=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function Sy(t){if(kw[t])return kw[t];if(!Gl[t])return t;var e=Gl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iR)return kw[t]=e[n];return t}var oR=Sy("animationend"),aR=Sy("animationiteration"),lR=Sy("animationstart"),cR=Sy("transitionend"),uR=new Map,YT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){uR.set(t,e),hl(e,[t])}for(var Iw=0;Iw<YT.length;Iw++){var Aw=YT[Iw],PU=Aw.toLowerCase(),RU=Aw[0].toUpperCase()+Aw.slice(1);ia(PU,"on"+RU)}ia(oR,"onAnimationEnd");ia(aR,"onAnimationIteration");ia(lR,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(cR,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function XT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P3(r,e,void 0,t),t.currentTarget=null}function dR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;XT(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;XT(s,a,u),i=l}}}if(pm)throw t=d0,pm=!1,d0=null,t}function _t(t,e){var n=e[_0];n===void 0&&(n=e[_0]=new Set);var r=t+"__bubble";n.has(r)||(hR(e,t,2,!1),n.add(r))}function Nw(t,e,n){var r=0;e&&(r|=4),hR(n,t,r,e)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Uf]){t[Uf]=!0,wP.forEach(function(n){n!=="selectionchange"&&(jU.has(n)||Nw(n,!1,t),Nw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uf]||(e[Uf]=!0,Nw("selectionchange",!1,e))}}function hR(t,e,n,r){switch(QP(e)){case 1:var s=G3;break;case 4:s=K3;break;default:s=Zb}n=s.bind(null,e,n,t),s=void 0,!u0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Pw(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ca(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}MP(function(){var u=i,d=Qb(n),h=[];e:{var f=uR.get(t);if(f!==void 0){var p=t1,y=t;switch(t){case"keypress":if(Cp(n)===0)break e;case"keydown":case"keyup":p=cU;break;case"focusin":y="focus",p=Sw;break;case"focusout":y="blur",p=Sw;break;case"beforeblur":case"afterblur":p=Sw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=X3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hU;break;case oR:case aR:case lR:p=eU;break;case cR:p=pU;break;case"scroll":p=Q3;break;case"wheel":p=gU;break;case"copy":case"cut":case"paste":p=nU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UT}var v=(e&4)!==0,_=!v&&t==="scroll",w=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,w!==null&&(b=Gd(g,w),b!=null&&v.push(eh(g,b,x)))),_)break;g=g.return}0<v.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==l0&&(y=n.relatedTarget||n.fromElement)&&(Ca(y)||y[$i]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Ca(y):null,y!==null&&(_=fl(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=VT,b="onMouseLeave",w="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=UT,b="onPointerLeave",w="onPointerEnter",g="pointer"),_=p==null?f:Kl(p),x=y==null?f:Kl(y),f=new v(b,g+"leave",p,n,d),f.target=_,f.relatedTarget=x,b=null,Ca(d)===u&&(v=new v(w,g+"enter",y,n,d),v.target=x,v.relatedTarget=_,b=v),_=b,p&&y)t:{for(v=p,w=y,g=0,x=v;x;x=Cl(x))g++;for(x=0,b=w;b;b=Cl(b))x++;for(;0<g-x;)v=Cl(v),g--;for(;0<x-g;)w=Cl(w),x--;for(;g--;){if(v===w||w!==null&&v===w.alternate)break t;v=Cl(v),w=Cl(w)}v=null}else v=null;p!==null&&JT(h,f,p,v,!1),y!==null&&_!==null&&JT(h,_,y,v,!0)}}e:{if(f=u?Kl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=EU;else if(WT(f))if(tR)E=kU;else{E=TU;var S=SU}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=CU);if(E&&(E=E(t,u))){eR(h,E,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&r0(f,"number",f.value)}switch(S=u?Kl(u):window,t){case"focusin":(WT(S)||S.contentEditable==="true")&&(ql=S,m0=u,bd=null);break;case"focusout":bd=m0=ql=null;break;case"mousedown":g0=!0;break;case"contextmenu":case"mouseup":case"dragend":g0=!1,QT(h,n,d);break;case"selectionchange":if(NU)break;case"keydown":case"keyup":QT(h,n,d)}var k;if(r1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hl?JP(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(XP&&n.locale!=="ko"&&(Hl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hl&&(k=YP()):(ko=d,e1="value"in ko?ko.value:ko.textContent,Hl=!0)),S=wm(u,A),0<S.length&&(A=new $T(A,t,null,n,d),h.push({event:A,listeners:S}),k?A.data=k:(k=ZP(n),k!==null&&(A.data=k)))),(k=vU?wU(t,n):xU(t,n))&&(u=wm(u,"onBeforeInput"),0<u.length&&(d=new $T("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}dR(h,e)})}function eh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gd(t,n),i!=null&&r.unshift(eh(t,i,s)),i=Gd(t,e),i!=null&&r.push(eh(t,i,s))),t=t.return}return r}function Cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Gd(n,i),l!=null&&o.unshift(eh(n,l,a))):s||(l=Gd(n,i),l!=null&&o.push(eh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var DU=/\r\n?/g,MU=/\u0000|\uFFFD/g;function ZT(t){return(typeof t=="string"?t:""+t).replace(DU,`
`).replace(MU,"")}function Bf(t,e,n){if(e=ZT(e),ZT(t)!==e&&n)throw Error(Q(425))}function xm(){}var y0=null,v0=null;function w0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x0=typeof setTimeout=="function"?setTimeout:void 0,OU=typeof clearTimeout=="function"?clearTimeout:void 0,eC=typeof Promise=="function"?Promise:void 0,LU=typeof queueMicrotask=="function"?queueMicrotask:typeof eC<"u"?function(t){return eC.resolve(null).then(t).catch(FU)}:x0;function FU(t){setTimeout(function(){throw t})}function Rw(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yd(e)}function Do(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Bs="__reactFiber$"+lu,th="__reactProps$"+lu,$i="__reactContainer$"+lu,_0="__reactEvents$"+lu,VU="__reactListeners$"+lu,$U="__reactHandles$"+lu;function Ca(t){var e=t[Bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$i]||n[Bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tC(t);t!==null;){if(n=t[Bs])return n;t=tC(t)}return e}t=n,n=t.parentNode}return null}function Qh(t){return t=t[Bs]||t[$i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Ty(t){return t[th]||null}var b0=[],Ql=-1;function oa(t){return{current:t}}function St(t){0>Ql||(t.current=b0[Ql],b0[Ql]=null,Ql--)}function gt(t,e){Ql++,b0[Ql]=t.current,t.current=e}var Ko={},Mn=oa(Ko),rr=oa(!1),qa=Ko;function Oc(t,e){var n=t.type.contextTypes;if(!n)return Ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function sr(t){return t=t.childContextTypes,t!=null}function _m(){St(rr),St(Mn)}function nC(t,e,n){if(Mn.current!==Ko)throw Error(Q(168));gt(Mn,e),gt(rr,n)}function fR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,S3(t)||"Unknown",s));return At({},n,r)}function bm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ko,qa=Mn.current,gt(Mn,t),gt(rr,rr.current),!0}function rC(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=fR(t,e,qa),r.__reactInternalMemoizedMergedChildContext=t,St(rr),St(Mn),gt(Mn,t)):St(rr),gt(rr,n)}var Ti=null,Cy=!1,jw=!1;function pR(t){Ti===null?Ti=[t]:Ti.push(t)}function UU(t){Cy=!0,pR(t)}function aa(){if(!jw&&Ti!==null){jw=!0;var t=0,e=ut;try{var n=Ti;for(ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ti=null,Cy=!1}catch(s){throw Ti!==null&&(Ti=Ti.slice(t+1)),VP(Yb,aa),s}finally{ut=e,jw=!1}}return null}var Yl=[],Xl=0,Em=null,Sm=0,Vr=[],$r=0,Ga=null,Ci=1,ki="";function va(t,e){Yl[Xl++]=Sm,Yl[Xl++]=Em,Em=t,Sm=e}function mR(t,e,n){Vr[$r++]=Ci,Vr[$r++]=ki,Vr[$r++]=Ga,Ga=t;var r=Ci;t=ki;var s=32-ws(r)-1;r&=~(1<<s),n+=1;var i=32-ws(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ci=1<<32-ws(e)+s|n<<s|r,ki=i+t}else Ci=1<<i|n<<s|r,ki=t}function i1(t){t.return!==null&&(va(t,1),mR(t,1,0))}function o1(t){for(;t===Em;)Em=Yl[--Xl],Yl[Xl]=null,Sm=Yl[--Xl],Yl[Xl]=null;for(;t===Ga;)Ga=Vr[--$r],Vr[$r]=null,ki=Vr[--$r],Vr[$r]=null,Ci=Vr[--$r],Vr[$r]=null}var br=null,wr=null,Tt=!1,hs=null;function gR(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,wr=Do(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ga!==null?{id:Ci,overflow:ki}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,wr=null,!0):!1;default:return!1}}function E0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S0(t){if(Tt){var e=wr;if(e){var n=e;if(!sC(t,e)){if(E0(t))throw Error(Q(418));e=Do(n.nextSibling);var r=br;e&&sC(t,e)?gR(r,n):(t.flags=t.flags&-4097|2,Tt=!1,br=t)}}else{if(E0(t))throw Error(Q(418));t.flags=t.flags&-4097|2,Tt=!1,br=t}}}function iC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function zf(t){if(t!==br)return!1;if(!Tt)return iC(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w0(t.type,t.memoizedProps)),e&&(e=wr)){if(E0(t))throw yR(),Error(Q(418));for(;e;)gR(t,e),e=Do(e.nextSibling)}if(iC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Do(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=br?Do(t.stateNode.nextSibling):null;return!0}function yR(){for(var t=wr;t;)t=Do(t.nextSibling)}function Lc(){wr=br=null,Tt=!1}function a1(t){hs===null?hs=[t]:hs.push(t)}var BU=Yi.ReactCurrentBatchConfig;function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Wf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oC(t){var e=t._init;return e(t._payload)}function vR(t){function e(w,g){if(t){var x=w.deletions;x===null?(w.deletions=[g],w.flags|=16):x.push(g)}}function n(w,g){if(!t)return null;for(;g!==null;)e(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=Fo(w,g),w.index=0,w.sibling=null,w}function i(w,g,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<g?(w.flags|=2,g):x):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,g,x,b){return g===null||g.tag!==6?(g=$w(x,w.mode,b),g.return=w,g):(g=s(g,x),g.return=w,g)}function l(w,g,x,b){var E=x.type;return E===Wl?d(w,g,x.props.children,b,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===uo&&oC(E)===g.type)?(b=s(g,x.props),b.ref=Pu(w,g,x),b.return=w,b):(b=jp(x.type,x.key,x.props,null,w.mode,b),b.ref=Pu(w,g,x),b.return=w,b)}function u(w,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Uw(x,w.mode,b),g.return=w,g):(g=s(g,x.children||[]),g.return=w,g)}function d(w,g,x,b,E){return g===null||g.tag!==7?(g=za(x,w.mode,b,E),g.return=w,g):(g=s(g,x),g.return=w,g)}function h(w,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$w(""+g,w.mode,x),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case jf:return x=jp(g.type,g.key,g.props,null,w.mode,x),x.ref=Pu(w,null,g),x.return=w,x;case zl:return g=Uw(g,w.mode,x),g.return=w,g;case uo:var b=g._init;return h(w,b(g._payload),x)}if(Gu(g)||Cu(g))return g=za(g,w.mode,x,null),g.return=w,g;Wf(w,g)}return null}function f(w,g,x,b){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:a(w,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jf:return x.key===E?l(w,g,x,b):null;case zl:return x.key===E?u(w,g,x,b):null;case uo:return E=x._init,f(w,g,E(x._payload),b)}if(Gu(x)||Cu(x))return E!==null?null:d(w,g,x,b,null);Wf(w,x)}return null}function p(w,g,x,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(x)||null,a(g,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jf:return w=w.get(b.key===null?x:b.key)||null,l(g,w,b,E);case zl:return w=w.get(b.key===null?x:b.key)||null,u(g,w,b,E);case uo:var S=b._init;return p(w,g,x,S(b._payload),E)}if(Gu(b)||Cu(b))return w=w.get(x)||null,d(g,w,b,E,null);Wf(g,b)}return null}function y(w,g,x,b){for(var E=null,S=null,k=g,A=g=0,j=null;k!==null&&A<x.length;A++){k.index>A?(j=k,k=null):j=k.sibling;var M=f(w,k,x[A],b);if(M===null){k===null&&(k=j);break}t&&k&&M.alternate===null&&e(w,k),g=i(M,g,A),S===null?E=M:S.sibling=M,S=M,k=j}if(A===x.length)return n(w,k),Tt&&va(w,A),E;if(k===null){for(;A<x.length;A++)k=h(w,x[A],b),k!==null&&(g=i(k,g,A),S===null?E=k:S.sibling=k,S=k);return Tt&&va(w,A),E}for(k=r(w,k);A<x.length;A++)j=p(k,w,A,x[A],b),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?A:j.key),g=i(j,g,A),S===null?E=j:S.sibling=j,S=j);return t&&k.forEach(function(L){return e(w,L)}),Tt&&va(w,A),E}function v(w,g,x,b){var E=Cu(x);if(typeof E!="function")throw Error(Q(150));if(x=E.call(x),x==null)throw Error(Q(151));for(var S=E=null,k=g,A=g=0,j=null,M=x.next();k!==null&&!M.done;A++,M=x.next()){k.index>A?(j=k,k=null):j=k.sibling;var L=f(w,k,M.value,b);if(L===null){k===null&&(k=j);break}t&&k&&L.alternate===null&&e(w,k),g=i(L,g,A),S===null?E=L:S.sibling=L,S=L,k=j}if(M.done)return n(w,k),Tt&&va(w,A),E;if(k===null){for(;!M.done;A++,M=x.next())M=h(w,M.value,b),M!==null&&(g=i(M,g,A),S===null?E=M:S.sibling=M,S=M);return Tt&&va(w,A),E}for(k=r(w,k);!M.done;A++,M=x.next())M=p(k,w,A,M.value,b),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?A:M.key),g=i(M,g,A),S===null?E=M:S.sibling=M,S=M);return t&&k.forEach(function(P){return e(w,P)}),Tt&&va(w,A),E}function _(w,g,x,b){if(typeof x=="object"&&x!==null&&x.type===Wl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jf:e:{for(var E=x.key,S=g;S!==null;){if(S.key===E){if(E=x.type,E===Wl){if(S.tag===7){n(w,S.sibling),g=s(S,x.props.children),g.return=w,w=g;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===uo&&oC(E)===S.type){n(w,S.sibling),g=s(S,x.props),g.ref=Pu(w,S,x),g.return=w,w=g;break e}n(w,S);break}else e(w,S);S=S.sibling}x.type===Wl?(g=za(x.props.children,w.mode,b,x.key),g.return=w,w=g):(b=jp(x.type,x.key,x.props,null,w.mode,b),b.ref=Pu(w,g,x),b.return=w,w=b)}return o(w);case zl:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(w,g.sibling),g=s(g,x.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else e(w,g);g=g.sibling}g=Uw(x,w.mode,b),g.return=w,w=g}return o(w);case uo:return S=x._init,_(w,g,S(x._payload),b)}if(Gu(x))return y(w,g,x,b);if(Cu(x))return v(w,g,x,b);Wf(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,x),g.return=w,w=g):(n(w,g),g=$w(x,w.mode,b),g.return=w,w=g),o(w)):n(w,g)}return _}var Fc=vR(!0),wR=vR(!1),Tm=oa(null),Cm=null,Jl=null,l1=null;function c1(){l1=Jl=Cm=null}function u1(t){var e=Tm.current;St(Tm),t._currentValue=e}function T0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cc(t,e){Cm=t,l1=Jl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nr=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(l1!==t)if(t={context:t,memoizedValue:e,next:null},Jl===null){if(Cm===null)throw Error(Q(308));Jl=t,Cm.dependencies={lanes:0,firstContext:t}}else Jl=Jl.next=t;return e}var ka=null;function d1(t){ka===null?ka=[t]:ka.push(t)}function xR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,d1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ho=!1;function h1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _R(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ui(t,n)}return s=r.interleaved,s===null?(e.next=e,d1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ui(t,n)}function kp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xb(t,n)}}function aC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function km(t,e,n,r){var s=t.updateQueue;ho=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=At({},h,f);break e;case 2:ho=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qa|=o,t.lanes=o,t.memoizedState=h}}function lC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Yh={},Js=oa(Yh),nh=oa(Yh),rh=oa(Yh);function Ia(t){if(t===Yh)throw Error(Q(174));return t}function f1(t,e){switch(gt(rh,e),gt(nh,t),gt(Js,Yh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i0(e,t)}St(Js),gt(Js,e)}function Vc(){St(Js),St(nh),St(rh)}function bR(t){Ia(rh.current);var e=Ia(Js.current),n=i0(e,t.type);e!==n&&(gt(nh,t),gt(Js,n))}function p1(t){nh.current===t&&(St(Js),St(nh))}var kt=oa(0);function Im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dw=[];function m1(){for(var t=0;t<Dw.length;t++)Dw[t]._workInProgressVersionPrimary=null;Dw.length=0}var Ip=Yi.ReactCurrentDispatcher,Mw=Yi.ReactCurrentBatchConfig,Ka=0,It=null,Xt=null,rn=null,Am=!1,Ed=!1,sh=0,zU=0;function Sn(){throw Error(Q(321))}function g1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_s(t[n],e[n]))return!1;return!0}function y1(t,e,n,r,s,i){if(Ka=i,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ip.current=t===null||t.memoizedState===null?GU:KU,t=n(r,s),Ed){i=0;do{if(Ed=!1,sh=0,25<=i)throw Error(Q(301));i+=1,rn=Xt=null,e.updateQueue=null,Ip.current=QU,t=n(r,s)}while(Ed)}if(Ip.current=Nm,e=Xt!==null&&Xt.next!==null,Ka=0,rn=Xt=It=null,Am=!1,e)throw Error(Q(300));return t}function v1(){var t=sh!==0;return sh=0,t}function Ds(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?It.memoizedState=rn=t:rn=rn.next=t,rn}function Yr(){if(Xt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=rn===null?It.memoizedState:rn.next;if(e!==null)rn=e,Xt=t;else{if(t===null)throw Error(Q(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},rn===null?It.memoizedState=rn=t:rn=rn.next=t}return rn}function ih(t,e){return typeof e=="function"?e(t):e}function Ow(t){var e=Yr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Ka&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,It.lanes|=d,Qa|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,_s(r,e.memoizedState)||(nr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,It.lanes|=i,Qa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lw(t){var e=Yr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_s(i,e.memoizedState)||(nr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ER(){}function SR(t,e){var n=It,r=Yr(),s=e(),i=!_s(r.memoizedState,s);if(i&&(r.memoizedState=s,nr=!0),r=r.queue,w1(kR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,oh(9,CR.bind(null,n,r,s,e),void 0,null),sn===null)throw Error(Q(349));Ka&30||TR(n,e,s)}return s}function TR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CR(t,e,n,r){e.value=n,e.getSnapshot=r,IR(e)&&AR(t)}function kR(t,e,n){return n(function(){IR(e)&&AR(t)})}function IR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_s(t,n)}catch{return!0}}function AR(t){var e=Ui(t,1);e!==null&&xs(e,t,1,-1)}function cC(t){var e=Ds();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},e.queue=t,t=t.dispatch=qU.bind(null,It,t),[e.memoizedState,t]}function oh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NR(){return Yr().memoizedState}function Ap(t,e,n,r){var s=Ds();It.flags|=t,s.memoizedState=oh(1|e,n,void 0,r===void 0?null:r)}function ky(t,e,n,r){var s=Yr();r=r===void 0?null:r;var i=void 0;if(Xt!==null){var o=Xt.memoizedState;if(i=o.destroy,r!==null&&g1(r,o.deps)){s.memoizedState=oh(e,n,i,r);return}}It.flags|=t,s.memoizedState=oh(1|e,n,i,r)}function uC(t,e){return Ap(8390656,8,t,e)}function w1(t,e){return ky(2048,8,t,e)}function PR(t,e){return ky(4,2,t,e)}function RR(t,e){return ky(4,4,t,e)}function jR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DR(t,e,n){return n=n!=null?n.concat([t]):null,ky(4,4,jR.bind(null,e,t),n)}function x1(){}function MR(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OR(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LR(t,e,n){return Ka&21?(_s(n,e)||(n=BP(),It.lanes|=n,Qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=n)}function WU(t,e){var n=ut;ut=n!==0&&4>n?n:4,t(!0);var r=Mw.transition;Mw.transition={};try{t(!1),e()}finally{ut=n,Mw.transition=r}}function FR(){return Yr().memoizedState}function HU(t,e,n){var r=Lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VR(t))$R(e,n);else if(n=xR(t,e,n,r),n!==null){var s=Hn();xs(n,t,r,s),UR(n,e,r)}}function qU(t,e,n){var r=Lo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VR(t))$R(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_s(a,o)){var l=e.interleaved;l===null?(s.next=s,d1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xR(t,e,s,r),n!==null&&(s=Hn(),xs(n,t,r,s),UR(n,e,r))}}function VR(t){var e=t.alternate;return t===It||e!==null&&e===It}function $R(t,e){Ed=Am=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xb(t,n)}}var Nm={readContext:Qr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},GU={readContext:Qr,useCallback:function(t,e){return Ds().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:uC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ap(4194308,4,jR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ap(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ap(4,2,t,e)},useMemo:function(t,e){var n=Ds();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ds();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HU.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=Ds();return t={current:t},e.memoizedState=t},useState:cC,useDebugValue:x1,useDeferredValue:function(t){return Ds().memoizedState=t},useTransition:function(){var t=cC(!1),e=t[0];return t=WU.bind(null,t[1]),Ds().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,s=Ds();if(Tt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),sn===null)throw Error(Q(349));Ka&30||TR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uC(kR.bind(null,r,i,t),[t]),r.flags|=2048,oh(9,CR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ds(),e=sn.identifierPrefix;if(Tt){var n=ki,r=Ci;n=(r&~(1<<32-ws(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KU={readContext:Qr,useCallback:MR,useContext:Qr,useEffect:w1,useImperativeHandle:DR,useInsertionEffect:PR,useLayoutEffect:RR,useMemo:OR,useReducer:Ow,useRef:NR,useState:function(){return Ow(ih)},useDebugValue:x1,useDeferredValue:function(t){var e=Yr();return LR(e,Xt.memoizedState,t)},useTransition:function(){var t=Ow(ih)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:SR,useId:FR,unstable_isNewReconciler:!1},QU={readContext:Qr,useCallback:MR,useContext:Qr,useEffect:w1,useImperativeHandle:DR,useInsertionEffect:PR,useLayoutEffect:RR,useMemo:OR,useReducer:Lw,useRef:NR,useState:function(){return Lw(ih)},useDebugValue:x1,useDeferredValue:function(t){var e=Yr();return Xt===null?e.memoizedState=t:LR(e,Xt.memoizedState,t)},useTransition:function(){var t=Lw(ih)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:SR,useId:FR,unstable_isNewReconciler:!1};function as(t,e){if(t&&t.defaultProps){e=At({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function C0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Iy={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),s=Lo(t),i=Mi(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mo(t,i,s),e!==null&&(xs(e,t,s,r),kp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),s=Lo(t),i=Mi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mo(t,i,s),e!==null&&(xs(e,t,s,r),kp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=Lo(t),s=Mi(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mo(t,s,r),e!==null&&(xs(e,t,r,n),kp(e,t,r))}};function dC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jd(n,r)||!Jd(s,i):!0}function BR(t,e,n){var r=!1,s=Ko,i=e.contextType;return typeof i=="object"&&i!==null?i=Qr(i):(s=sr(e)?qa:Mn.current,r=e.contextTypes,i=(r=r!=null)?Oc(t,s):Ko),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Iy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Iy.enqueueReplaceState(e,e.state,null)}function k0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},h1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qr(i):(i=sr(e)?qa:Mn.current,s.context=Oc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(C0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Iy.enqueueReplaceState(s,s.state,null),km(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $c(t,e){try{var n="",r=e;do n+=E3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function I0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YU=typeof WeakMap=="function"?WeakMap:Map;function zR(t,e,n){n=Mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rm||(Rm=!0,F0=r),I0(t,e)},n}function WR(t,e,n){n=Mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){I0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){I0(t,e),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=u6.bind(null,t,e,n),e.then(t,t))}function pC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mi(-1,1),e.tag=2,Mo(n,e,1))),n.lanes|=1),t)}var XU=Yi.ReactCurrentOwner,nr=!1;function $n(t,e,n,r){e.child=t===null?wR(e,null,n,r):Fc(e,t.child,n,r)}function gC(t,e,n,r,s){n=n.render;var i=e.ref;return cc(e,s),r=y1(t,e,n,r,i,s),n=v1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bi(t,e,s)):(Tt&&n&&i1(e),e.flags|=1,$n(t,e,r,s),e.child)}function yC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!I1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,HR(t,e,i,r,s)):(t=jp(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jd,n(o,r)&&t.ref===e.ref)return Bi(t,e,s)}return e.flags|=1,t=Fo(i,r),t.ref=e.ref,t.return=e,e.child=t}function HR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jd(i,r)&&t.ref===e.ref)if(nr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(nr=!0);else return e.lanes=t.lanes,Bi(t,e,s)}return A0(t,e,n,r,s)}function qR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ec,yr),yr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(ec,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gt(ec,yr),yr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gt(ec,yr),yr|=r;return $n(t,e,s,n),e.child}function GR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function A0(t,e,n,r,s){var i=sr(n)?qa:Mn.current;return i=Oc(e,i),cc(e,s),n=y1(t,e,n,r,i,s),r=v1(),t!==null&&!nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Bi(t,e,s)):(Tt&&r&&i1(e),e.flags|=1,$n(t,e,n,s),e.child)}function vC(t,e,n,r,s){if(sr(n)){var i=!0;bm(e)}else i=!1;if(cc(e,s),e.stateNode===null)Np(t,e),BR(e,n,r),k0(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=sr(n)?qa:Mn.current,u=Oc(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hC(e,o,r,u),ho=!1;var f=e.memoizedState;o.state=f,km(e,r,o,s),l=e.memoizedState,a!==r||f!==l||rr.current||ho?(typeof d=="function"&&(C0(e,n,d,r),l=e.memoizedState),(a=ho||dC(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_R(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:as(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=sr(n)?qa:Mn.current,l=Oc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&hC(e,o,r,l),ho=!1,f=e.memoizedState,o.state=f,km(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||rr.current||ho?(typeof p=="function"&&(C0(e,n,p,r),y=e.memoizedState),(u=ho||dC(e,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return N0(t,e,n,r,i,s)}function N0(t,e,n,r,s,i){GR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rC(e,n,!1),Bi(t,e,i);r=e.stateNode,XU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fc(e,t.child,null,i),e.child=Fc(e,null,a,i)):$n(t,e,a,i),e.memoizedState=r.state,s&&rC(e,n,!0),e.child}function KR(t){var e=t.stateNode;e.pendingContext?nC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nC(t,e.context,!1),f1(t,e.containerInfo)}function wC(t,e,n,r,s){return Lc(),a1(s),e.flags|=256,$n(t,e,n,r),e.child}var P0={dehydrated:null,treeContext:null,retryLane:0};function R0(t){return{baseLanes:t,cachePool:null,transitions:null}}function QR(t,e,n){var r=e.pendingProps,s=kt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gt(kt,s&1),t===null)return S0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Py(o,r,0,null),t=za(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=R0(n),e.memoizedState=P0,t):_1(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return JU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Fo(a,i):(i=za(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?R0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=P0,r}return i=t.child,t=i.sibling,r=Fo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _1(t,e){return e=Py({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hf(t,e,n,r){return r!==null&&a1(r),Fc(e,t.child,null,n),t=_1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Fw(Error(Q(422))),Hf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Py({mode:"visible",children:r.children},s,0,null),i=za(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fc(e,t.child,null,o),e.child.memoizedState=R0(o),e.memoizedState=P0,i);if(!(e.mode&1))return Hf(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Fw(i,r,void 0),Hf(t,e,o,r)}if(a=(o&t.childLanes)!==0,nr||a){if(r=sn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ui(t,s),xs(r,t,s,-1))}return k1(),r=Fw(Error(Q(421))),Hf(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=d6.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wr=Do(s.nextSibling),br=e,Tt=!0,hs=null,t!==null&&(Vr[$r++]=Ci,Vr[$r++]=ki,Vr[$r++]=Ga,Ci=t.id,ki=t.overflow,Ga=e),e=_1(e,r.children),e.flags|=4096,e)}function xC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T0(t.return,e,n)}function Vw(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function YR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($n(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xC(t,n,e);else if(t.tag===19)xC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(kt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Im(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vw(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Im(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vw(e,!0,n,null,i);break;case"together":Vw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Np(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZU(t,e,n){switch(e.tag){case 3:KR(e),Lc();break;case 5:bR(e);break;case 1:sr(e.type)&&bm(e);break;case 4:f1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gt(Tm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?QR(t,e,n):(gt(kt,kt.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);gt(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,qR(t,e,n)}return Bi(t,e,n)}var XR,j0,JR,ZR;XR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j0=function(){};JR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ia(Js.current);var i=null;switch(n){case"input":s=t0(t,s),r=t0(t,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=s0(t,s),r=s0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xm)}o0(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_t("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};ZR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ru(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e6(t,e,n){var r=e.pendingProps;switch(o1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return sr(e.type)&&_m(),Tn(e),null;case 3:return r=e.stateNode,Vc(),St(rr),St(Mn),m1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(U0(hs),hs=null))),j0(t,e),Tn(e),null;case 5:p1(e);var s=Ia(rh.current);if(n=e.type,t!==null&&e.stateNode!=null)JR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Tn(e),null}if(t=Ia(Js.current),zf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Bs]=e,r[th]=i,t=(e.mode&1)!==0,n){case"dialog":_t("cancel",r),_t("close",r);break;case"iframe":case"object":case"embed":_t("load",r);break;case"video":case"audio":for(s=0;s<Qu.length;s++)_t(Qu[s],r);break;case"source":_t("error",r);break;case"img":case"image":case"link":_t("error",r),_t("load",r);break;case"details":_t("toggle",r);break;case"input":AT(r,i),_t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_t("invalid",r);break;case"textarea":PT(r,i),_t("invalid",r)}o0(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Bf(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Bf(r.textContent,a,t),s=["children",""+a]):Hd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_t("scroll",r)}switch(n){case"input":Df(r),NT(r,i,!0);break;case"textarea":Df(r),RT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Bs]=e,t[th]=r,XR(t,e,!1,!1),e.stateNode=t;e:{switch(o=a0(n,r),n){case"dialog":_t("cancel",t),_t("close",t),s=r;break;case"iframe":case"object":case"embed":_t("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qu.length;s++)_t(Qu[s],t);s=r;break;case"source":_t("error",t),s=r;break;case"img":case"image":case"link":_t("error",t),_t("load",t),s=r;break;case"details":_t("toggle",t),s=r;break;case"input":AT(t,r),s=t0(t,r),_t("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),_t("invalid",t);break;case"textarea":PT(t,r),s=s0(t,r),_t("invalid",t);break;default:s=r}o0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?NP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qd(t,l):typeof l=="number"&&qd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_t("scroll",t):l!=null&&Hb(t,i,l,o))}switch(n){case"input":Df(t),NT(t,r,!1);break;case"textarea":Df(t),RT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Go(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ic(t,!!r.multiple,i,!1):r.defaultValue!=null&&ic(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)ZR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Ia(rh.current),Ia(Js.current),zf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bs]=e,(i=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:Bf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bs]=e,e.stateNode=r}return Tn(e),null;case 13:if(St(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&wr!==null&&e.mode&1&&!(e.flags&128))yR(),Lc(),e.flags|=98560,i=!1;else if(i=zf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Bs]=e}else Lc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tn(e),i=!1}else hs!==null&&(U0(hs),hs=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?Zt===0&&(Zt=3):k1())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return Vc(),j0(t,e),t===null&&Zd(e.stateNode.containerInfo),Tn(e),null;case 10:return u1(e.type._context),Tn(e),null;case 17:return sr(e.type)&&_m(),Tn(e),null;case 19:if(St(kt),i=e.memoizedState,i===null)return Tn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ru(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Im(t),o!==null){for(e.flags|=128,Ru(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(kt,kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ft()>Uc&&(e.flags|=128,r=!0,Ru(i,!1),e.lanes=4194304)}else{if(!r)if(t=Im(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ru(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Tt)return Tn(e),null}else 2*Ft()-i.renderingStartTime>Uc&&n!==1073741824&&(e.flags|=128,r=!0,Ru(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ft(),e.sibling=null,n=kt.current,gt(kt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return C1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yr&1073741824&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function t6(t,e){switch(o1(e),e.tag){case 1:return sr(e.type)&&_m(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vc(),St(rr),St(Mn),m1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p1(e),null;case 13:if(St(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Lc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(kt),null;case 4:return Vc(),null;case 10:return u1(e.type._context),null;case 22:case 23:return C1(),null;case 24:return null;default:return null}}var qf=!1,Pn=!1,n6=typeof WeakSet=="function"?WeakSet:Set,he=null;function Zl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function D0(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var _C=!1;function r6(t,e){if(y0=ym,t=sR(),s1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(v0={focusedElem:t,selectionRange:n},ym=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,_=y.memoizedState,w=e.stateNode,g=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:as(e.type,v),_);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(b){Mt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return y=_C,_C=!1,y}function Sd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&D0(e,n,i)}s=s.next}while(s!==r)}}function Ay(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function M0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ej(t){var e=t.alternate;e!==null&&(t.alternate=null,ej(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bs],delete e[th],delete e[_0],delete e[VU],delete e[$U])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tj(t){return t.tag===5||t.tag===3||t.tag===4}function bC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function O0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xm));else if(r!==4&&(t=t.child,t!==null))for(O0(t,e,n),t=t.sibling;t!==null;)O0(t,e,n),t=t.sibling}function L0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(L0(t,e,n),t=t.sibling;t!==null;)L0(t,e,n),t=t.sibling}var un=null,ds=!1;function to(t,e,n){for(n=n.child;n!==null;)nj(t,e,n),n=n.sibling}function nj(t,e,n){if(Xs&&typeof Xs.onCommitFiberUnmount=="function")try{Xs.onCommitFiberUnmount(_y,n)}catch{}switch(n.tag){case 5:Pn||Zl(n,e);case 6:var r=un,s=ds;un=null,to(t,e,n),un=r,ds=s,un!==null&&(ds?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(ds?(t=un,n=n.stateNode,t.nodeType===8?Rw(t.parentNode,n):t.nodeType===1&&Rw(t,n),Yd(t)):Rw(un,n.stateNode));break;case 4:r=un,s=ds,un=n.stateNode.containerInfo,ds=!0,to(t,e,n),un=r,ds=s;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&D0(n,e,o),s=s.next}while(s!==r)}to(t,e,n);break;case 1:if(!Pn&&(Zl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}to(t,e,n);break;case 21:to(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,to(t,e,n),Pn=r):to(t,e,n);break;default:to(t,e,n)}}function EC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n6),e.forEach(function(r){var s=h6.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,ds=!1;break e;case 3:un=a.stateNode.containerInfo,ds=!0;break e;case 4:un=a.stateNode.containerInfo,ds=!0;break e}a=a.return}if(un===null)throw Error(Q(160));nj(i,o,s),un=null,ds=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Mt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rj(e,t),e=e.sibling}function rj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ts(e,t),Rs(t),r&4){try{Sd(3,t,t.return),Ay(3,t)}catch(v){Mt(t,t.return,v)}try{Sd(5,t,t.return)}catch(v){Mt(t,t.return,v)}}break;case 1:ts(e,t),Rs(t),r&512&&n!==null&&Zl(n,n.return);break;case 5:if(ts(e,t),Rs(t),r&512&&n!==null&&Zl(n,n.return),t.flags&32){var s=t.stateNode;try{qd(s,"")}catch(v){Mt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&TP(s,i),a0(a,o);var u=a0(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?NP(s,h):d==="dangerouslySetInnerHTML"?IP(s,h):d==="children"?qd(s,h):Hb(s,d,h,u)}switch(a){case"input":n0(s,i);break;case"textarea":CP(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ic(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ic(s,!!i.multiple,i.defaultValue,!0):ic(s,!!i.multiple,i.multiple?[]:"",!1))}s[th]=i}catch(v){Mt(t,t.return,v)}}break;case 6:if(ts(e,t),Rs(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Mt(t,t.return,v)}}break;case 3:if(ts(e,t),Rs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yd(e.containerInfo)}catch(v){Mt(t,t.return,v)}break;case 4:ts(e,t),Rs(t);break;case 13:ts(e,t),Rs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(S1=Ft())),r&4&&EC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(u=Pn)||d,ts(e,t),Pn=u):ts(e,t),Rs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(h=he=d;he!==null;){switch(f=he,p=f.child,f.tag){case 0:case 11:case 14:case 15:Sd(4,f,f.return);break;case 1:Zl(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Mt(r,n,v)}}break;case 5:Zl(f,f.return);break;case 22:if(f.memoizedState!==null){TC(h);continue}}p!==null?(p.return=f,he=p):TC(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=AP("display",o))}catch(v){Mt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Mt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ts(e,t),Rs(t),r&4&&EC(t);break;case 21:break;default:ts(e,t),Rs(t)}}function Rs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tj(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qd(s,""),r.flags&=-33);var i=bC(t);L0(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bC(t);O0(t,a,o);break;default:throw Error(Q(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s6(t,e,n){he=t,sj(t)}function sj(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var s=he,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||qf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=qf;var u=Pn;if(qf=o,(Pn=l)&&!u)for(he=s;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?CC(s):l!==null?(l.return=o,he=l):CC(s);for(;i!==null;)he=i,sj(i),i=i.sibling;he=s,qf=a,Pn=u}SC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,he=i):SC(t)}}function SC(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Ay(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:as(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lC(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lC(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Pn||e.flags&512&&M0(e)}catch(f){Mt(e,e.return,f)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function TC(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function CC(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ay(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Mt(e,s,l)}}var i=e.return;try{M0(e)}catch(l){Mt(e,i,l)}break;case 5:var o=e.return;try{M0(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var i6=Math.ceil,Pm=Yi.ReactCurrentDispatcher,b1=Yi.ReactCurrentOwner,Hr=Yi.ReactCurrentBatchConfig,tt=0,sn=null,Ht=null,gn=0,yr=0,ec=oa(0),Zt=0,ah=null,Qa=0,Ny=0,E1=0,Td=null,tr=null,S1=0,Uc=1/0,Si=null,Rm=!1,F0=null,Oo=null,Gf=!1,Io=null,jm=0,Cd=0,V0=null,Pp=-1,Rp=0;function Hn(){return tt&6?Ft():Pp!==-1?Pp:Pp=Ft()}function Lo(t){return t.mode&1?tt&2&&gn!==0?gn&-gn:BU.transition!==null?(Rp===0&&(Rp=BP()),Rp):(t=ut,t!==0||(t=window.event,t=t===void 0?16:QP(t.type)),t):1}function xs(t,e,n,r){if(50<Cd)throw Cd=0,V0=null,Error(Q(185));Gh(t,n,r),(!(tt&2)||t!==sn)&&(t===sn&&(!(tt&2)&&(Ny|=n),Zt===4&&po(t,gn)),ir(t,r),n===1&&tt===0&&!(e.mode&1)&&(Uc=Ft()+500,Cy&&aa()))}function ir(t,e){var n=t.callbackNode;B3(t,e);var r=gm(t,t===sn?gn:0);if(r===0)n!==null&&MT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MT(n),e===1)t.tag===0?UU(kC.bind(null,t)):pR(kC.bind(null,t)),LU(function(){!(tt&6)&&aa()}),n=null;else{switch(zP(r)){case 1:n=Yb;break;case 4:n=$P;break;case 16:n=mm;break;case 536870912:n=UP;break;default:n=mm}n=hj(n,ij.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ij(t,e){if(Pp=-1,Rp=0,tt&6)throw Error(Q(327));var n=t.callbackNode;if(uc()&&t.callbackNode!==n)return null;var r=gm(t,t===sn?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dm(t,r);else{e=r;var s=tt;tt|=2;var i=aj();(sn!==t||gn!==e)&&(Si=null,Uc=Ft()+500,Ba(t,e));do try{l6();break}catch(a){oj(t,a)}while(!0);c1(),Pm.current=i,tt=s,Ht!==null?e=0:(sn=null,gn=0,e=Zt)}if(e!==0){if(e===2&&(s=h0(t),s!==0&&(r=s,e=$0(t,s))),e===1)throw n=ah,Ba(t,0),po(t,r),ir(t,Ft()),n;if(e===6)po(t,r);else{if(s=t.current.alternate,!(r&30)&&!o6(s)&&(e=Dm(t,r),e===2&&(i=h0(t),i!==0&&(r=i,e=$0(t,i))),e===1))throw n=ah,Ba(t,0),po(t,r),ir(t,Ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:wa(t,tr,Si);break;case 3:if(po(t,r),(r&130023424)===r&&(e=S1+500-Ft(),10<e)){if(gm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=x0(wa.bind(null,t,tr,Si),e);break}wa(t,tr,Si);break;case 4:if(po(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ws(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i6(r/1960))-r,10<r){t.timeoutHandle=x0(wa.bind(null,t,tr,Si),r);break}wa(t,tr,Si);break;case 5:wa(t,tr,Si);break;default:throw Error(Q(329))}}}return ir(t,Ft()),t.callbackNode===n?ij.bind(null,t):null}function $0(t,e){var n=Td;return t.current.memoizedState.isDehydrated&&(Ba(t,e).flags|=256),t=Dm(t,e),t!==2&&(e=tr,tr=n,e!==null&&U0(e)),t}function U0(t){tr===null?tr=t:tr.push.apply(tr,t)}function o6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_s(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function po(t,e){for(e&=~E1,e&=~Ny,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ws(e),r=1<<n;t[n]=-1,e&=~r}}function kC(t){if(tt&6)throw Error(Q(327));uc();var e=gm(t,0);if(!(e&1))return ir(t,Ft()),null;var n=Dm(t,e);if(t.tag!==0&&n===2){var r=h0(t);r!==0&&(e=r,n=$0(t,r))}if(n===1)throw n=ah,Ba(t,0),po(t,e),ir(t,Ft()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wa(t,tr,Si),ir(t,Ft()),null}function T1(t,e){var n=tt;tt|=1;try{return t(e)}finally{tt=n,tt===0&&(Uc=Ft()+500,Cy&&aa())}}function Ya(t){Io!==null&&Io.tag===0&&!(tt&6)&&uc();var e=tt;tt|=1;var n=Hr.transition,r=ut;try{if(Hr.transition=null,ut=1,t)return t()}finally{ut=r,Hr.transition=n,tt=e,!(tt&6)&&aa()}}function C1(){yr=ec.current,St(ec)}function Ba(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OU(n)),Ht!==null)for(n=Ht.return;n!==null;){var r=n;switch(o1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_m();break;case 3:Vc(),St(rr),St(Mn),m1();break;case 5:p1(r);break;case 4:Vc();break;case 13:St(kt);break;case 19:St(kt);break;case 10:u1(r.type._context);break;case 22:case 23:C1()}n=n.return}if(sn=t,Ht=t=Fo(t.current,null),gn=yr=e,Zt=0,ah=null,E1=Ny=Qa=0,tr=Td=null,ka!==null){for(e=0;e<ka.length;e++)if(n=ka[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ka=null}return t}function oj(t,e){do{var n=Ht;try{if(c1(),Ip.current=Nm,Am){for(var r=It.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Am=!1}if(Ka=0,rn=Xt=It=null,Ed=!1,sh=0,b1.current=null,n===null||n.return===null){Zt=1,ah=e,Ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=gn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=pC(o);if(p!==null){p.flags&=-257,mC(p,o,a,i,e),p.mode&1&&fC(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){fC(i,u,e),k1();break e}l=Error(Q(426))}}else if(Tt&&a.mode&1){var _=pC(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),mC(_,o,a,i,e),a1($c(l,a));break e}}i=l=$c(l,a),Zt!==4&&(Zt=2),Td===null?Td=[i]:Td.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=zR(i,l,e);aC(i,w);break e;case 1:a=l;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Oo===null||!Oo.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=WR(i,a,e);aC(i,b);break e}}i=i.return}while(i!==null)}cj(n)}catch(E){e=E,Ht===n&&n!==null&&(Ht=n=n.return);continue}break}while(!0)}function aj(){var t=Pm.current;return Pm.current=Nm,t===null?Nm:t}function k1(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),sn===null||!(Qa&268435455)&&!(Ny&268435455)||po(sn,gn)}function Dm(t,e){var n=tt;tt|=2;var r=aj();(sn!==t||gn!==e)&&(Si=null,Ba(t,e));do try{a6();break}catch(s){oj(t,s)}while(!0);if(c1(),tt=n,Pm.current=r,Ht!==null)throw Error(Q(261));return sn=null,gn=0,Zt}function a6(){for(;Ht!==null;)lj(Ht)}function l6(){for(;Ht!==null&&!j3();)lj(Ht)}function lj(t){var e=dj(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?cj(t):Ht=e,b1.current=null}function cj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t6(n,e),n!==null){n.flags&=32767,Ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Ht=null;return}}else if(n=e6(n,e,yr),n!==null){Ht=n;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);Zt===0&&(Zt=5)}function wa(t,e,n){var r=ut,s=Hr.transition;try{Hr.transition=null,ut=1,c6(t,e,n,r)}finally{Hr.transition=s,ut=r}return null}function c6(t,e,n,r){do uc();while(Io!==null);if(tt&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(z3(t,i),t===sn&&(Ht=sn=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gf||(Gf=!0,hj(mm,function(){return uc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hr.transition,Hr.transition=null;var o=ut;ut=1;var a=tt;tt|=4,b1.current=null,r6(t,n),rj(n,t),AU(v0),ym=!!y0,v0=y0=null,t.current=n,s6(n),D3(),tt=a,ut=o,Hr.transition=i}else t.current=n;if(Gf&&(Gf=!1,Io=t,jm=s),i=t.pendingLanes,i===0&&(Oo=null),L3(n.stateNode),ir(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rm)throw Rm=!1,t=F0,F0=null,t;return jm&1&&t.tag!==0&&uc(),i=t.pendingLanes,i&1?t===V0?Cd++:(Cd=0,V0=t):Cd=0,aa(),null}function uc(){if(Io!==null){var t=zP(jm),e=Hr.transition,n=ut;try{if(Hr.transition=null,ut=16>t?16:t,Io===null)var r=!1;else{if(t=Io,Io=null,jm=0,tt&6)throw Error(Q(331));var s=tt;for(tt|=4,he=t.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Sd(8,d,i)}var h=d.child;if(h!==null)h.return=d,he=h;else for(;he!==null;){d=he;var f=d.sibling,p=d.return;if(ej(d),d===u){he=null;break}if(f!==null){f.return=p,he=f;break}he=p}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sd(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,he=w;break e}he=i.return}}var g=t.current;for(he=g;he!==null;){o=he;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,he=x;else e:for(o=g;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ay(9,a)}}catch(E){Mt(a,a.return,E)}if(a===o){he=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,he=b;break e}he=a.return}}if(tt=s,aa(),Xs&&typeof Xs.onPostCommitFiberRoot=="function")try{Xs.onPostCommitFiberRoot(_y,t)}catch{}r=!0}return r}finally{ut=n,Hr.transition=e}}return!1}function IC(t,e,n){e=$c(n,e),e=zR(t,e,1),t=Mo(t,e,1),e=Hn(),t!==null&&(Gh(t,1,e),ir(t,e))}function Mt(t,e,n){if(t.tag===3)IC(t,t,n);else for(;e!==null;){if(e.tag===3){IC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){t=$c(n,t),t=WR(e,t,1),e=Mo(e,t,1),t=Hn(),e!==null&&(Gh(e,1,t),ir(e,t));break}}e=e.return}}function u6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,sn===t&&(gn&n)===n&&(Zt===4||Zt===3&&(gn&130023424)===gn&&500>Ft()-S1?Ba(t,0):E1|=n),ir(t,e)}function uj(t,e){e===0&&(t.mode&1?(e=Lf,Lf<<=1,!(Lf&130023424)&&(Lf=4194304)):e=1);var n=Hn();t=Ui(t,e),t!==null&&(Gh(t,e,n),ir(t,n))}function d6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uj(t,n)}function h6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),uj(t,n)}var dj;dj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nr=!1,ZU(t,e,n);nr=!!(t.flags&131072)}else nr=!1,Tt&&e.flags&1048576&&mR(e,Sm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Np(t,e),t=e.pendingProps;var s=Oc(e,Mn.current);cc(e,n),s=y1(null,e,r,t,s,n);var i=v1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(i=!0,bm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,h1(e),s.updater=Iy,e.stateNode=s,s._reactInternals=e,k0(e,r,t,n),e=N0(null,e,r,!0,i,n)):(e.tag=0,Tt&&i&&i1(e),$n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Np(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=p6(r),t=as(r,t),s){case 0:e=A0(null,e,r,t,n);break e;case 1:e=vC(null,e,r,t,n);break e;case 11:e=gC(null,e,r,t,n);break e;case 14:e=yC(null,e,r,as(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),A0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),vC(t,e,r,s,n);case 3:e:{if(KR(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_R(t,e),km(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$c(Error(Q(423)),e),e=wC(t,e,r,n,s);break e}else if(r!==s){s=$c(Error(Q(424)),e),e=wC(t,e,r,n,s);break e}else for(wr=Do(e.stateNode.containerInfo.firstChild),br=e,Tt=!0,hs=null,n=wR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lc(),r===s){e=Bi(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return bR(e),t===null&&S0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,w0(r,s)?o=null:i!==null&&w0(r,i)&&(e.flags|=32),GR(t,e),$n(t,e,o,n),e.child;case 6:return t===null&&S0(e),null;case 13:return QR(t,e,n);case 4:return f1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fc(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),gC(t,e,r,s,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gt(Tm,r._currentValue),r._currentValue=o,i!==null)if(_s(i.value,o)){if(i.children===s.children&&!rr.current){e=Bi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Mi(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),T0(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),T0(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cc(e,n),s=Qr(s),r=r(s),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,s=as(r,e.pendingProps),s=as(r.type,s),yC(t,e,r,s,n);case 15:return HR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:as(r,s),Np(t,e),e.tag=1,sr(r)?(t=!0,bm(e)):t=!1,cc(e,n),BR(e,r,s),k0(e,r,s,n),N0(null,e,r,!0,t,n);case 19:return YR(t,e,n);case 22:return qR(t,e,n)}throw Error(Q(156,e.tag))};function hj(t,e){return VP(t,e)}function f6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new f6(t,e,n,r)}function I1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p6(t){if(typeof t=="function")return I1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gb)return 11;if(t===Kb)return 14}return 2}function Fo(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jp(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")I1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wl:return za(n.children,s,i,e);case qb:o=8,s|=8;break;case Xx:return t=Wr(12,n,e,s|2),t.elementType=Xx,t.lanes=i,t;case Jx:return t=Wr(13,n,e,s),t.elementType=Jx,t.lanes=i,t;case Zx:return t=Wr(19,n,e,s),t.elementType=Zx,t.lanes=i,t;case bP:return Py(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xP:o=10;break e;case _P:o=9;break e;case Gb:o=11;break e;case Kb:o=14;break e;case uo:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function za(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function Py(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=bP,t.lanes=n,t.stateNode={isHidden:!1},t}function $w(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function Uw(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m6(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_w(0),this.expirationTimes=_w(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_w(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function A1(t,e,n,r,s,i,o,a,l){return t=new m6(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h1(i),t}function g6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fj(t){if(!t)return Ko;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(sr(n))return fR(t,n,e)}return e}function pj(t,e,n,r,s,i,o,a,l){return t=A1(n,r,!0,t,s,i,o,a,l),t.context=fj(null),n=t.current,r=Hn(),s=Lo(n),i=Mi(r,s),i.callback=e??null,Mo(n,i,s),t.current.lanes=s,Gh(t,s,r),ir(t,r),t}function Ry(t,e,n,r){var s=e.current,i=Hn(),o=Lo(s);return n=fj(n),e.context===null?e.context=n:e.pendingContext=n,e=Mi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mo(s,e,o),t!==null&&(xs(t,s,o,i),kp(t,s,o)),o}function Mm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function N1(t,e){AC(t,e),(t=t.alternate)&&AC(t,e)}function y6(){return null}var mj=typeof reportError=="function"?reportError:function(t){console.error(t)};function P1(t){this._internalRoot=t}jy.prototype.render=P1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Ry(t,e,null,null)};jy.prototype.unmount=P1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ya(function(){Ry(null,t,null,null)}),e[$i]=null}};function jy(t){this._internalRoot=t}jy.prototype.unstable_scheduleHydration=function(t){if(t){var e=qP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fo.length&&e!==0&&e<fo[n].priority;n++);fo.splice(n,0,t),n===0&&KP(t)}};function R1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NC(){}function v6(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Mm(o);i.call(u)}}var o=pj(e,r,t,0,null,!1,!1,"",NC);return t._reactRootContainer=o,t[$i]=o.current,Zd(t.nodeType===8?t.parentNode:t),Ya(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Mm(l);a.call(u)}}var l=A1(t,0,!1,null,null,!1,!1,"",NC);return t._reactRootContainer=l,t[$i]=l.current,Zd(t.nodeType===8?t.parentNode:t),Ya(function(){Ry(e,l,n,r)}),l}function My(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mm(o);a.call(l)}}Ry(e,o,t,s)}else o=v6(n,e,t,s,r);return Mm(o)}WP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ku(e.pendingLanes);n!==0&&(Xb(e,n|1),ir(e,Ft()),!(tt&6)&&(Uc=Ft()+500,aa()))}break;case 13:Ya(function(){var r=Ui(t,1);if(r!==null){var s=Hn();xs(r,t,1,s)}}),N1(t,1)}};Jb=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=Hn();xs(e,t,134217728,n)}N1(t,134217728)}};HP=function(t){if(t.tag===13){var e=Lo(t),n=Ui(t,e);if(n!==null){var r=Hn();xs(n,t,e,r)}N1(t,e)}};qP=function(){return ut};GP=function(t,e){var n=ut;try{return ut=t,e()}finally{ut=n}};c0=function(t,e,n){switch(e){case"input":if(n0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ty(r);if(!s)throw Error(Q(90));SP(r),n0(r,s)}}}break;case"textarea":CP(t,n);break;case"select":e=n.value,e!=null&&ic(t,!!n.multiple,e,!1)}};jP=T1;DP=Ya;var w6={usingClientEntryPoint:!1,Events:[Qh,Kl,Ty,PP,RP,T1]},ju={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x6={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LP(t),t===null?null:t.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||y6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{_y=Kf.inject(x6),Xs=Kf}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w6;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R1(e))throw Error(Q(200));return g6(t,e,null,n)};Ar.createRoot=function(t,e){if(!R1(t))throw Error(Q(299));var n=!1,r="",s=mj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=A1(t,1,!1,null,null,n,!1,r,s),t[$i]=e.current,Zd(t.nodeType===8?t.parentNode:t),new P1(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=LP(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ya(t)};Ar.hydrate=function(t,e,n){if(!Dy(e))throw Error(Q(200));return My(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!R1(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pj(e,null,t,1,n??null,s,!1,i,o),t[$i]=e.current,Zd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jy(e)};Ar.render=function(t,e,n){if(!Dy(e))throw Error(Q(200));return My(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Dy(t))throw Error(Q(40));return t._reactRootContainer?(Ya(function(){My(null,null,t,!1,function(){t._reactRootContainer=null,t[$i]=null})}),!0):!1};Ar.unstable_batchedUpdates=T1;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dy(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return My(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gj)}catch(t){console.error(t)}}gj(),gP.exports=Ar;var pl=gP.exports;const yj=wy(pl);var vj,PC=pl;vj=PC.createRoot,PC.hydrateRoot;const _6=1,b6=1e6;let Bw=0;function E6(){return Bw=(Bw+1)%Number.MAX_SAFE_INTEGER,Bw.toString()}const zw=new Map,RC=t=>{if(zw.has(t))return;const e=setTimeout(()=>{zw.delete(t),kd({type:"REMOVE_TOAST",toastId:t})},b6);zw.set(t,e)},S6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RC(n):t.toasts.forEach(r=>{RC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Dp=[];let Mp={toasts:[]};function kd(t){Mp=S6(Mp,t),Dp.forEach(e=>{e(Mp)})}function T6({...t}){const e=E6(),n=s=>kd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>kd({type:"DISMISS_TOAST",toastId:e});return kd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function hi(){const[t,e]=m.useState(Mp);return m.useEffect(()=>(Dp.push(e),()=>{const n=Dp.indexOf(e);n>-1&&Dp.splice(n,1)}),[t]),{...t,toast:T6,dismiss:n=>kd({type:"DISMISS_TOAST",toastId:n})}}function Z(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function C6(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Oy(...t){return e=>t.forEach(n=>C6(n,e))}function Je(...t){return m.useCallback(Oy(...t),t)}function k6(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...y}=h,v=(f==null?void 0:f[t][l])||a,_=m.useMemo(()=>y,Object.values(y));return c.jsx(v.Provider,{value:_,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,I6(s,...e)]}function I6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Gn=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(A6);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return c.jsx(B0,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return c.jsx(B0,{...r,ref:e,children:n})});Gn.displayName="Slot";var B0=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=P6(n);return m.cloneElement(n,{...N6(r,n.props),ref:e?Oy(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});B0.displayName="SlotClone";var wj=({children:t})=>c.jsx(c.Fragment,{children:t});function A6(t){return m.isValidElement(t)&&t.type===wj}function N6(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function P6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ly(t){const e=t+"CollectionProvider",[n,r]=k6(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:v}=p,_=U.useRef(null),w=U.useRef(new Map).current;return c.jsx(s,{scope:y,itemMap:w,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=U.forwardRef((p,y)=>{const{scope:v,children:_}=p,w=i(a,v),g=Je(y,w.collectionRef);return c.jsx(Gn,{ref:g,children:_})});l.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=U.forwardRef((p,y)=>{const{scope:v,children:_,...w}=p,g=U.useRef(null),x=Je(y,g),b=i(u,v);return U.useEffect(()=>(b.itemMap.set(g,{ref:g,...w}),()=>void b.itemMap.delete(g))),c.jsx(Gn,{[d]:"",ref:x,children:_})});h.displayName=u;function f(p){const y=i(t+"CollectionConsumer",p);return U.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((b,E)=>w.indexOf(b.ref.current)-w.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function R6(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function fi(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:f,children:p,...y}=h,v=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,_=m.useMemo(()=>y,Object.values(y));return c.jsx(v.Provider,{value:_,children:p})};u.displayName=i+"Provider";function d(h,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,j6(s,...e)]}function j6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var D6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=D6.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Gn:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function j1(t,e){t&&pl.flushSync(()=>t.dispatchEvent(e))}function xn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function M6(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var O6="DismissableLayer",z0="dismissableLayer.update",L6="dismissableLayer.pointerDownOutside",F6="dismissableLayer.focusOutside",jC,xj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ml=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=m.useContext(xj),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Je(e,k=>h(k)),v=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(_),g=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,b=g>=w,E=$6(k=>{const A=k.target,j=[...u.branches].some(M=>M.contains(A));!b||j||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),S=U6(k=>{const A=k.target;[...u.branches].some(M=>M.contains(A))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return M6(k=>{g===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),DC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=jC)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),DC())},[d,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(z0,k),()=>document.removeEventListener(z0,k)},[]),c.jsx(xe.div,{...l,ref:y,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:Z(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Z(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Z(t.onPointerDownCapture,E.onPointerDownCapture)})});ml.displayName=O6;var V6="DismissableLayerBranch",_j=m.forwardRef((t,e)=>{const n=m.useContext(xj),r=m.useRef(null),s=Je(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(xe.div,{...t,ref:s})});_j.displayName=V6;function $6(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){bj(L6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function U6(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&bj(F6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DC(){const t=new CustomEvent(z0);document.dispatchEvent(t)}function bj(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var B6=ml,z6=_j,on=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},W6="Portal",cu=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);on(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yj.createPortal(c.jsx(xe.div,{...r,ref:e}),o):null});cu.displayName=W6;function H6(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ur=t=>{const{present:e,children:n}=t,r=q6(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Je(r.ref,G6(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ur.displayName="Presence";function q6(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=H6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Qf(r.current);i.current=a==="mounted"?u:"none"},[a]),on(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,p=Qf(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),on(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const v=Qf(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=p=>{p.target===e&&(i.current=Qf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Qf(t){return(t==null?void 0:t.animationName)||"none"}function G6(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function si({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=K6({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=xn(n),l=m.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,l]}function K6({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=xn(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Q6="VisuallyHidden",Xh=m.forwardRef((t,e)=>c.jsx(xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xh.displayName=Q6;var Y6=Xh,D1="ToastProvider",[M1,X6,J6]=Ly("Toast"),[Ej,she]=fi("Toast",[J6]),[Z6,Fy]=Ej(D1),Sj=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${D1}\`. Expected non-empty \`string\`.`),c.jsx(M1.Provider,{scope:e,children:c.jsx(Z6,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Sj.displayName=D1;var Tj="ToastViewport",e9=["F8"],W0="toast.viewportPause",H0="toast.viewportResume",Cj=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=e9,label:s="Notifications ({hotkey})",...i}=t,o=Fy(Tj,n),a=X6(n),l=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=Je(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;m.useEffect(()=>{const _=w=>{var x;r.length!==0&&r.every(b=>w[b]||w.code===b)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,w=h.current;if(y&&_&&w){const g=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(W0);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(H0);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!_.contains(S.relatedTarget)&&x()},E=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",g),_.addEventListener("focusout",b),_.addEventListener("pointermove",g),_.addEventListener("pointerleave",E),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",g),_.removeEventListener("focusout",b),_.removeEventListener("pointermove",g),_.removeEventListener("pointerleave",E),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const g=a().map(x=>{const b=x.ref.current,E=[b,...f9(b)];return _==="forwards"?E:E.reverse()});return(_==="forwards"?g.reverse():g).flat()},[a]);return m.useEffect(()=>{const _=h.current;if(_){const w=g=>{var E,S,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const A=document.activeElement,j=g.shiftKey;if(g.target===_&&j){(E=u.current)==null||E.focus();return}const P=v({tabbingDirection:j?"backwards":"forwards"}),B=P.findIndex(V=>V===A);Ww(P.slice(B+1))?g.preventDefault():j?(S=u.current)==null||S.focus():(k=d.current)==null||k.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,v]),c.jsxs(z6,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&c.jsx(q0,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});Ww(_)}}),c.jsx(M1.Slot,{scope:n,children:c.jsx(xe.ol,{tabIndex:-1,...i,ref:f})}),y&&c.jsx(q0,{ref:d,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});Ww(_)}})]})});Cj.displayName=Tj;var kj="ToastFocusProxy",q0=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fy(kj,n);return c.jsx(Xh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});q0.displayName=kj;var Vy="Toast",t9="toast.swipeStart",n9="toast.swipeMove",r9="toast.swipeCancel",s9="toast.swipeEnd",Ij=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=si({prop:r,defaultProp:s,onChange:i});return c.jsx(ur,{present:n||a,children:c.jsx(a9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xn(t.onPause),onResume:xn(t.onResume),onSwipeStart:Z(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Z(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Z(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Z(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Ij.displayName=Vy;var[i9,o9]=Ej(Vy,{onClose(){}}),a9=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...y}=t,v=Fy(Vy,n),[_,w]=m.useState(null),g=Je(e,V=>w(V)),x=m.useRef(null),b=m.useRef(null),E=s||v.duration,S=m.useRef(0),k=m.useRef(E),A=m.useRef(0),{onToastAdd:j,onToastRemove:M}=v,L=xn(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),o()}),P=m.useCallback(V=>{!V||V===1/0||(window.clearTimeout(A.current),S.current=new Date().getTime(),A.current=window.setTimeout(L,V))},[L]);m.useEffect(()=>{const V=v.viewport;if(V){const q=()=>{P(k.current),u==null||u()},G=()=>{const ee=new Date().getTime()-S.current;k.current=k.current-ee,window.clearTimeout(A.current),l==null||l()};return V.addEventListener(W0,G),V.addEventListener(H0,q),()=>{V.removeEventListener(W0,G),V.removeEventListener(H0,q)}}},[v.viewport,E,l,u,P]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(E)},[i,E,v.isClosePausedRef,P]),m.useEffect(()=>(j(),()=>M()),[j,M]);const B=m.useMemo(()=>_?Mj(_):null,[_]);return v.viewport?c.jsxs(c.Fragment,{children:[B&&c.jsx(l9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),c.jsx(i9,{scope:n,onClose:L,children:pl.createPortal(c.jsx(M1.ItemSlot,{scope:n,children:c.jsx(B6,{asChild:!0,onEscapeKeyDown:Z(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||L(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:g,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Z(t.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Z(t.onPointerDown,V=>{V.button===0&&(x.current={x:V.clientX,y:V.clientY})}),onPointerMove:Z(t.onPointerMove,V=>{if(!x.current)return;const q=V.clientX-x.current.x,G=V.clientY-x.current.y,ee=!!b.current,N=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,T=N?D(0,q):0,K=N?0:D(0,G),se=V.pointerType==="touch"?10:2,C={x:T,y:K},Ee={originalEvent:V,delta:C};ee?(b.current=C,Yf(n9,h,Ee,{discrete:!1})):MC(C,v.swipeDirection,se)?(b.current=C,Yf(t9,d,Ee,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(q)>se||Math.abs(G)>se)&&(x.current=null)}),onPointerUp:Z(t.onPointerUp,V=>{const q=b.current,G=V.target;if(G.hasPointerCapture(V.pointerId)&&G.releasePointerCapture(V.pointerId),b.current=null,x.current=null,q){const ee=V.currentTarget,N={originalEvent:V,delta:q};MC(q,v.swipeDirection,v.swipeThreshold)?Yf(s9,p,N,{discrete:!0}):Yf(r9,f,N,{discrete:!0}),ee.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),l9=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fy(Vy,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return d9(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(cu,{asChild:!0,children:c.jsx(Xh,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},c9="ToastTitle",Aj=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xe.div,{...r,ref:e})});Aj.displayName=c9;var u9="ToastDescription",Nj=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(xe.div,{...r,ref:e})});Nj.displayName=u9;var Pj="ToastAction",Rj=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(Dj,{altText:n,asChild:!0,children:c.jsx(O1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pj}\`. Expected non-empty \`string\`.`),null)});Rj.displayName=Pj;var jj="ToastClose",O1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=o9(jj,n);return c.jsx(Dj,{asChild:!0,children:c.jsx(xe.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,s.onClose)})})});O1.displayName=jj;var Dj=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Mj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),h9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Mj(r))}}),e}function Yf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?j1(s,i):s.dispatchEvent(i)}var MC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function d9(t=()=>{}){const e=xn(t);on(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function h9(t){return t.nodeType===t.ELEMENT_NODE}function f9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ww(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var p9=Sj,Oj=Cj,Lj=Ij,Fj=Aj,Vj=Nj,$j=Rj,Uj=O1;function Bj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Bj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zj(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Bj(t))&&(r&&(r+=" "),r+=e);return r}const OC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LC=zj,gl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return LC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=OC(d)||OC(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[v,_]=y;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...u,h,f]:u},[]);return LC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...g9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Wj("lucide",s),...a},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(y9,{ref:i,iconNode:e,className:Wj(`lucide-${m9(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=pe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=pe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=pe("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=pe("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=pe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=pe("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=pe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=pe("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=pe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=pe("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=pe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=pe("SquarePlay",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 8 6 4-6 4Z",key:"f1r3lt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=pe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$1="-",z9=t=>{const e=H9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split($1);return a[0]===""&&a.length!==1&&a.shift(),n2(a,e)||W9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},n2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?n2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($1);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},WC=/^\[(.+)\]$/,W9=t=>{if(WC.test(t)){const e=WC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},H9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return G9(Object.entries(t.classGroups),n).forEach(([i,o])=>{J0(o,r,i,e)}),r},J0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:HC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(q9(s)){J0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{J0(o,HC(e,i),n,r)})})},HC=(t,e)=>{let n=t;return e.split($1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},q9=t=>t.isThemeGetter,G9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,K9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},r2="!",Q9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(u===0){if(w===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(d,_)),d=_+i;continue}if(w==="/"){h=_;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(r2),y=p?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Y9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},X9=t=>({cache:K9(t.cacheSize),parseClassName:Q9(t),...z9(t)}),J9=/\s+/,Z9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(J9);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let y=!!p,v=r(y?f.substring(0,p):f);if(!v){if(!y){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}y=!1}const _=Y9(d).join(":"),w=h?_+r2:_,g=w+v;if(i.includes(g))continue;i.push(g);const x=s(v,y);for(let b=0;b<x.length;++b){const E=x[b];i.push(w+E)}a=u+(a.length>0?" "+a:a)}return a};function eB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=s2(e))&&(r&&(r+=" "),r+=n);return r}const s2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=s2(t[r]))&&(n&&(n+=" "),n+=e);return n};function tB(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=X9(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Z9(l,n);return s(l,d),d}return function(){return i(eB.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},i2=/^\[(?:([a-z-]+):)?(.+)\]$/i,nB=/^\d+\/\d+$/,rB=new Set(["px","full","screen"]),sB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vi=t=>dc(t)||rB.has(t)||nB.test(t),no=t=>uu(t,"length",gB),dc=t=>!!t&&!Number.isNaN(Number(t)),Hw=t=>uu(t,"number",dc),Du=t=>!!t&&Number.isInteger(Number(t)),cB=t=>t.endsWith("%")&&dc(t.slice(0,-1)),$e=t=>i2.test(t),ro=t=>sB.test(t),uB=new Set(["length","size","percentage"]),dB=t=>uu(t,uB,o2),hB=t=>uu(t,"position",o2),fB=new Set(["image","url"]),pB=t=>uu(t,fB,vB),mB=t=>uu(t,"",yB),Mu=()=>!0,uu=(t,e,n)=>{const r=i2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},gB=t=>iB.test(t)&&!oB.test(t),o2=()=>!1,yB=t=>aB.test(t),vB=t=>lB.test(t),wB=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),r=xt("brightness"),s=xt("borderColor"),i=xt("borderRadius"),o=xt("borderSpacing"),a=xt("borderWidth"),l=xt("contrast"),u=xt("grayscale"),d=xt("hueRotate"),h=xt("invert"),f=xt("gap"),p=xt("gradientColorStops"),y=xt("gradientColorStopPositions"),v=xt("inset"),_=xt("margin"),w=xt("opacity"),g=xt("padding"),x=xt("saturate"),b=xt("scale"),E=xt("sepia"),S=xt("skew"),k=xt("space"),A=xt("translate"),j=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",$e,e],P=()=>[$e,e],B=()=>["",vi,no],V=()=>["auto",dc,$e],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",$e],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[dc,$e];return{cacheSize:500,separator:":",theme:{colors:[Mu],spacing:[vi,no],blur:["none","",ro,$e],brightness:K(),borderColor:[t],borderRadius:["none","","full",ro,$e],borderSpacing:P(),borderWidth:B(),contrast:K(),grayscale:D(),hueRotate:K(),invert:D(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[cB,no],inset:L(),margin:L(),opacity:K(),padding:P(),saturate:K(),scale:K(),sepia:D(),skew:K(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[ro]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),$e]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Du,$e]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Du,$e]}],"grid-cols":[{"grid-cols":[Mu]}],"col-start-end":[{col:["auto",{span:["full",Du,$e]},$e]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Mu]}],"row-start-end":[{row:["auto",{span:[Du,$e]},$e]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[ro]},ro]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ro,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hw]}],"font-family":[{font:[Mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",dc,Hw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vi,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vi,no]}],"underline-offset":[{"underline-offset":["auto",vi,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),hB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[vi,$e]}],"outline-w":[{outline:[vi,no]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[vi,no]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ro,mB]}],"shadow-color":[{shadow:[Mu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ro,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Du,$e]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vi,no,Hw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xB=tB(wB);function re(...t){return xB(zj(t))}const _B=p9,a2=m.forwardRef(({className:t,...e},n)=>c.jsx(Oj,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));a2.displayName=Oj.displayName;const bB=gl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l2=m.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(Lj,{ref:r,className:re(bB({variant:e}),t),...n}));l2.displayName=Lj.displayName;const EB=m.forwardRef(({className:t,...e},n)=>c.jsx($j,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));EB.displayName=$j.displayName;const c2=m.forwardRef(({className:t,...e},n)=>c.jsx(Uj,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(V1,{className:"h-4 w-4"})}));c2.displayName=Uj.displayName;const u2=m.forwardRef(({className:t,...e},n)=>c.jsx(Fj,{ref:n,className:re("text-sm font-semibold",t),...e}));u2.displayName=Fj.displayName;const d2=m.forwardRef(({className:t,...e},n)=>c.jsx(Vj,{ref:n,className:re("text-sm opacity-90",t),...e}));d2.displayName=Vj.displayName;function SB(){const{toasts:t}=hi();return c.jsxs(_B,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(l2,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(u2,{children:n}),r&&c.jsx(d2,{children:r})]}),s,c.jsx(c2,{})]},e)}),c.jsx(a2,{})]})}var qC=["light","dark"],TB="(prefers-color-scheme: dark)",CB=m.createContext(void 0),kB={setTheme:t=>{},themes:[]},IB=()=>{var t;return(t=m.useContext(CB))!=null?t:kB};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?qC.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,v=!1,_=!0)=>{let w=o?o[y]:y,g=v?y+"|| ''":`'${w}'`,x="";return s&&_&&!v&&qC.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?v||w?x+=`c.add(${g})`:x+="null":w&&(x+=`d[s](n,${g})`),x},p=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${TB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var AB=t=>{switch(t){case"success":return RB;case"info":return DB;case"warning":return jB;case"error":return MB;default:return null}},NB=Array(12).fill(0),PB=({visible:t})=>U.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},U.createElement("div",{className:"sonner-spinner"},NB.map((e,n)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RB=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jB=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DB=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MB=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),OB=()=>{let[t,e]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Z0=1,LB=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Z0++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(VB(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Z0++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},gr=new LB,FB=(t,e)=>{let n=(e==null?void 0:e.id)||Z0++;return gr.addToast({title:t,...e,id:n}),n},VB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$B=FB,UB=()=>gr.toasts;Object.assign($B,{success:gr.success,info:gr.info,warning:gr.warning,error:gr.error,custom:gr.custom,message:gr.message,promise:gr.promise,dismiss:gr.dismiss,loading:gr.loading},{getHistory:UB});function BB(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}BB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xf(t){return t.label!==void 0}var zB=3,WB="32px",HB=4e3,qB=356,GB=14,KB=20,QB=200;function YB(...t){return t.filter(Boolean).join(" ")}var XB=t=>{var e,n,r,s,i,o,a,l,u,d;let{invert:h,toast:f,unstyled:p,interacting:y,setHeights:v,visibleToasts:_,heights:w,index:g,toasts:x,expanded:b,removeToast:E,defaultRichColors:S,closeButton:k,style:A,cancelButtonStyle:j,actionButtonStyle:M,className:L="",descriptionClassName:P="",duration:B,position:V,gap:q,loadingIcon:G,expandByDefault:ee,classNames:N,icons:D,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:K,cn:se}=t,[C,Ee]=U.useState(!1),[nt,fe]=U.useState(!1),[ce,Te]=U.useState(!1),[Oe,Pe]=U.useState(!1),[Be,qe]=U.useState(0),[Ut,tn]=U.useState(0),Rr=U.useRef(null),bn=U.useRef(null),es=g===0,I=g+1<=_,R=f.type,F=f.dismissible!==!1,ae=f.className||"",te=f.descriptionClassName||"",Y=U.useMemo(()=>w.findIndex(be=>be.toastId===f.id)||0,[w,f.id]),ye=U.useMemo(()=>{var be;return(be=f.closeButton)!=null?be:k},[f.closeButton,k]),De=U.useMemo(()=>f.duration||B||HB,[f.duration,B]),O=U.useRef(0),H=U.useRef(0),ve=U.useRef(0),Re=U.useRef(null),[Qe,cn]=V.split("-"),jr=U.useMemo(()=>w.reduce((be,wt,pt)=>pt>=Y?be:be+wt.height,0),[w,Y]),Fn=OB(),yi=f.invert||h,Dr=R==="loading";H.current=U.useMemo(()=>Y*q+jr,[Y,jr]),U.useEffect(()=>{Ee(!0)},[]),U.useLayoutEffect(()=>{if(!C)return;let be=bn.current,wt=be.style.height;be.style.height="auto";let pt=be.getBoundingClientRect().height;be.style.height=wt,tn(pt),v(Ns=>Ns.find(Ps=>Ps.toastId===f.id)?Ns.map(Ps=>Ps.toastId===f.id?{...Ps,height:pt}:Ps):[{toastId:f.id,height:pt,position:f.position},...Ns])},[C,f.title,f.description,v,f.id]);let Pt=U.useCallback(()=>{fe(!0),qe(H.current),v(be=>be.filter(wt=>wt.toastId!==f.id)),setTimeout(()=>{E(f)},QB)},[f,E,v,H]);U.useEffect(()=>{if(f.promise&&R==="loading"||f.duration===1/0||f.type==="loading")return;let be,wt=De;return b||y||K&&Fn?(()=>{if(ve.current<O.current){let pt=new Date().getTime()-O.current;wt=wt-pt}ve.current=new Date().getTime()})():wt!==1/0&&(O.current=new Date().getTime(),be=setTimeout(()=>{var pt;(pt=f.onAutoClose)==null||pt.call(f,f),Pt()},wt)),()=>clearTimeout(be)},[b,y,ee,f,De,Pt,f.promise,R,K,Fn]),U.useEffect(()=>{let be=bn.current;if(be){let wt=be.getBoundingClientRect().height;return tn(wt),v(pt=>[{toastId:f.id,height:wt,position:f.position},...pt]),()=>v(pt=>pt.filter(Ns=>Ns.toastId!==f.id))}},[v,f.id]),U.useEffect(()=>{f.delete&&Pt()},[Pt,f.delete]);function eo(){return D!=null&&D.loading?U.createElement("div",{className:"sonner-loader","data-visible":R==="loading"},D.loading):G?U.createElement("div",{className:"sonner-loader","data-visible":R==="loading"},G):U.createElement(PB,{visible:R==="loading"})}return U.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:bn,className:se(L,ae,N==null?void 0:N.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,N==null?void 0:N.default,N==null?void 0:N[R],(n=f==null?void 0:f.classNames)==null?void 0:n[R]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":C,"data-promise":!!f.promise,"data-removed":nt,"data-visible":I,"data-y-position":Qe,"data-x-position":cn,"data-index":g,"data-front":es,"data-swiping":ce,"data-dismissible":F,"data-type":R,"data-invert":yi,"data-swipe-out":Oe,"data-expanded":!!(b||ee&&C),style:{"--index":g,"--toasts-before":g,"--z-index":x.length-g,"--offset":`${nt?Be:H.current}px`,"--initial-height":ee?"auto":`${Ut}px`,...A,...f.style},onPointerDown:be=>{Dr||!F||(Rr.current=new Date,qe(H.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Te(!0),Re.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,wt,pt,Ns;if(Oe||!F)return;Re.current=null;let Ps=Number(((be=bn.current)==null?void 0:be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Nf=new Date().getTime()-((wt=Rr.current)==null?void 0:wt.getTime()),K$=Math.abs(Ps)/Nf;if(Math.abs(Ps)>=KB||K$>.11){qe(H.current),(pt=f.onDismiss)==null||pt.call(f,f),Pt(),Pe(!0);return}(Ns=bn.current)==null||Ns.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:be=>{var wt;if(!Re.current||!F)return;let pt=be.clientY-Re.current.y,Ns=be.clientX-Re.current.x,Ps=(Qe==="top"?Math.min:Math.max)(0,pt),Nf=be.pointerType==="touch"?10:2;Math.abs(Ps)>Nf?(wt=bn.current)==null||wt.style.setProperty("--swipe-amount",`${pt}px`):Math.abs(Ns)>Nf&&(Re.current=null)}},ye&&!f.jsx?U.createElement("button",{"aria-label":T,"data-disabled":Dr,"data-close-button":!0,onClick:Dr||!F?()=>{}:()=>{var be;Pt(),(be=f.onDismiss)==null||be.call(f,f)},className:se(N==null?void 0:N.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||U.isValidElement(f.title)?f.jsx||f.title:U.createElement(U.Fragment,null,R||f.icon||f.promise?U.createElement("div",{"data-icon":"",className:se(N==null?void 0:N.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||eo():null,f.type!=="loading"?f.icon||(D==null?void 0:D[R])||AB(R):null):null,U.createElement("div",{"data-content":"",className:se(N==null?void 0:N.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},U.createElement("div",{"data-title":"",className:se(N==null?void 0:N.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?U.createElement("div",{"data-description":"",className:se(P,te,N==null?void 0:N.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),U.isValidElement(f.cancel)?f.cancel:f.cancel&&Xf(f.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:be=>{var wt,pt;Xf(f.cancel)&&F&&((pt=(wt=f.cancel).onClick)==null||pt.call(wt,be),Pt())},className:se(N==null?void 0:N.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,U.isValidElement(f.action)?f.action:f.action&&Xf(f.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:be=>{var wt,pt;Xf(f.action)&&(be.defaultPrevented||((pt=(wt=f.action).onClick)==null||pt.call(wt,be),Pt()))},className:se(N==null?void 0:N.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function GC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var JB=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:d,style:h,visibleToasts:f=zB,toastOptions:p,dir:y=GC(),gap:v=GB,loadingIcon:_,icons:w,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:x,cn:b=YB}=t,[E,S]=U.useState([]),k=U.useMemo(()=>Array.from(new Set([n].concat(E.filter(K=>K.position).map(K=>K.position)))),[E,n]),[A,j]=U.useState([]),[M,L]=U.useState(!1),[P,B]=U.useState(!1),[V,q]=U.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=U.useRef(null),ee=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=U.useRef(null),D=U.useRef(!1),T=U.useCallback(K=>{var se;(se=E.find(C=>C.id===K.id))!=null&&se.delete||gr.dismiss(K.id),S(C=>C.filter(({id:Ee})=>Ee!==K.id))},[E]);return U.useEffect(()=>gr.subscribe(K=>{if(K.dismiss){S(se=>se.map(C=>C.id===K.id?{...C,delete:!0}:C));return}setTimeout(()=>{yj.flushSync(()=>{S(se=>{let C=se.findIndex(Ee=>Ee.id===K.id);return C!==-1?[...se.slice(0,C),{...se[C],...K},...se.slice(C+1)]:[K,...se]})})})}),[]),U.useEffect(()=>{if(l!=="system"){q(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{q(K?"dark":"light")})},[l]),U.useEffect(()=>{E.length<=1&&L(!1)},[E]),U.useEffect(()=>{let K=se=>{var C,Ee;r.every(nt=>se[nt]||se.code===nt)&&(L(!0),(C=G.current)==null||C.focus()),se.code==="Escape"&&(document.activeElement===G.current||(Ee=G.current)!=null&&Ee.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),U.useEffect(()=>{if(G.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,D.current=!1)}},[G.current]),E.length?U.createElement("section",{"aria-label":`${g} ${ee}`,tabIndex:-1},k.map((K,se)=>{var C;let[Ee,nt]=K.split("-");return U.createElement("ol",{key:K,dir:y==="auto"?GC():y,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Ee,"data-x-position":nt,style:{"--front-toast-height":`${((C=A[0])==null?void 0:C.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||WB,"--width":`${qB}px`,"--gap":`${v}px`,...h},onBlur:fe=>{D.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(D.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||D.current||(D.current=!0,N.current=fe.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{P||L(!1)},onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},E.filter(fe=>!fe.position&&se===0||fe.position===K).map((fe,ce)=>{var Te,Oe;return U.createElement(XB,{key:fe.id,icons:w,index:ce,toast:fe,defaultRichColors:u,duration:(Te=p==null?void 0:p.duration)!=null?Te:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Oe=p==null?void 0:p.closeButton)!=null?Oe:i,interacting:P,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:T,toasts:E.filter(Pe=>Pe.position==fe.position),heights:A.filter(Pe=>Pe.position==fe.position),setHeights:j,expandByDefault:s,gap:v,loadingIcon:_,expanded:M,pauseWhenPageIsHidden:x,cn:b})}))})):null};const ZB=({...t})=>{const{theme:e="system"}=IB();return c.jsx(JB,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ez=pP.useId||(()=>{}),tz=0;function qr(t){const[e,n]=m.useState(ez());return on(()=>{t||n(r=>r??String(tz++))},[t]),t||(e?`radix-${e}`:"")}const nz=["top","right","bottom","left"],Qo=Math.min,vr=Math.max,Om=Math.round,Jf=Math.floor,Yo=t=>({x:t,y:t}),rz={left:"right",right:"left",bottom:"top",top:"bottom"},sz={start:"end",end:"start"};function e_(t,e,n){return vr(t,Qo(e,n))}function zi(t,e){return typeof t=="function"?t(e):t}function Wi(t){return t.split("-")[0]}function du(t){return t.split("-")[1]}function U1(t){return t==="x"?"y":"x"}function B1(t){return t==="y"?"height":"width"}function Xo(t){return["top","bottom"].includes(Wi(t))?"y":"x"}function z1(t){return U1(Xo(t))}function iz(t,e,n){n===void 0&&(n=!1);const r=du(t),s=z1(t),i=B1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Lm(o)),[o,Lm(o)]}function oz(t){const e=Lm(t);return[t_(t),e,t_(e)]}function t_(t){return t.replace(/start|end/g,e=>sz[e])}function az(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function lz(t,e,n,r){const s=du(t);let i=az(Wi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(t_)))),i}function Lm(t){return t.replace(/left|right|bottom|top/g,e=>rz[e])}function cz(t){return{top:0,right:0,bottom:0,left:0,...t}}function h2(t){return typeof t!="number"?cz(t):{top:t,right:t,bottom:t,left:t}}function Fm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function KC(t,e,n){let{reference:r,floating:s}=t;const i=Xo(e),o=z1(e),a=B1(o),l=Wi(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(du(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const uz=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=KC(u,r,l),f=r,p={},y=0;for(let v=0;v<a.length;v++){const{name:_,fn:w}=a[v],{x:g,y:x,data:b,reset:E}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=g??d,h=x??h,p={...p,[_]:{...p[_],...b}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:h}=KC(u,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function uh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=zi(e,t),y=h2(p),_=a[f?h==="floating"?"reference":"floating":h],w=Fm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},E=Fm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:x,strategy:l}):g);return{top:(w.top-E.top+y.top)/b.y,bottom:(E.bottom-w.bottom+y.bottom)/b.y,left:(w.left-E.left+y.left)/b.x,right:(E.right-w.right+y.right)/b.x}}const dz=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=zi(t,e)||{};if(u==null)return{};const h=h2(d),f={x:n,y:r},p=z1(s),y=B1(p),v=await o.getDimensions(u),_=p==="y",w=_?"top":"left",g=_?"bottom":"right",x=_?"clientHeight":"clientWidth",b=i.reference[y]+i.reference[p]-f[p]-i.floating[y],E=f[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=S?S[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=a.floating[x]||i.floating[y]);const A=b/2-E/2,j=k/2-v[y]/2-1,M=Qo(h[w],j),L=Qo(h[g],j),P=M,B=k-v[y]-L,V=k/2-v[y]/2+A,q=e_(P,V,B),G=!l.arrow&&du(s)!=null&&V!==q&&i.reference[y]/2-(V<P?M:L)-v[y]/2<0,ee=G?V<P?V-P:V-B:0;return{[p]:f[p]+ee,data:{[p]:q,centerOffset:V-q-ee,...G&&{alignmentOffset:ee}},reset:G}}}),hz=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,..._}=zi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Wi(s),g=Xo(a),x=Wi(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=f||(x||!v?[Lm(a)]:oz(a)),S=y!=="none";!f&&S&&E.push(...lz(a,v,y,b));const k=[a,...E],A=await uh(e,_),j=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&j.push(A[w]),h){const V=iz(s,o,b);j.push(A[V[0]],A[V[1]])}if(M=[...M,{placement:s,overflows:j}],!j.every(V=>V<=0)){var L,P;const V=(((L=i.flip)==null?void 0:L.index)||0)+1,q=k[V];if(q)return{data:{index:V,overflows:M},reset:{placement:q}};let G=(P=M.filter(ee=>ee.overflows[0]<=0).sort((ee,N)=>ee.overflows[1]-N.overflows[1])[0])==null?void 0:P.placement;if(!G)switch(p){case"bestFit":{var B;const ee=(B=M.filter(N=>{if(S){const D=Xo(N.placement);return D===g||D==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(D=>D>0).reduce((D,T)=>D+T,0)]).sort((N,D)=>N[1]-D[1])[0])==null?void 0:B[0];ee&&(G=ee);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function QC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function YC(t){return nz.some(e=>t[e]>=0)}const fz=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=zi(t,e);switch(r){case"referenceHidden":{const i=await uh(e,{...s,elementContext:"reference"}),o=QC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YC(o)}}}case"escaped":{const i=await uh(e,{...s,altBoundary:!0}),o=QC(i,n.floating);return{data:{escapedOffsets:o,escaped:YC(o)}}}default:return{}}}}};async function pz(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Wi(n),a=du(n),l=Xo(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=zi(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const mz=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await pz(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},gz=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:g}=_;return{x:w,y:g}}},...l}=zi(t,e),u={x:n,y:r},d=await uh(e,l),h=Xo(Wi(s)),f=U1(h);let p=u[f],y=u[h];if(i){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=p+d[_],x=p-d[w];p=e_(g,p,x)}if(o){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=y+d[_],x=y-d[w];y=e_(g,y,x)}const v=a.fn({...e,[f]:p,[h]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:o}}}}}},yz=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zi(t,e),d={x:n,y:r},h=Xo(s),f=U1(h);let p=d[f],y=d[h];const v=zi(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=f==="y"?"height":"width",b=i.reference[f]-i.floating[x]+_.mainAxis,E=i.reference[f]+i.reference[x]-_.mainAxis;p<b?p=b:p>E&&(p=E)}if(u){var w,g;const x=f==="y"?"width":"height",b=["top","left"].includes(Wi(s)),E=i.reference[h]-i.floating[x]+(b&&((w=o.offset)==null?void 0:w[h])||0)+(b?0:_.crossAxis),S=i.reference[h]+i.reference[x]+(b?0:((g=o.offset)==null?void 0:g[h])||0)-(b?_.crossAxis:0);y<E?y=E:y>S&&(y=S)}return{[f]:p,[h]:y}}}},vz=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=zi(t,e),d=await uh(e,u),h=Wi(s),f=du(s),p=Xo(s)==="y",{width:y,height:v}=i.floating;let _,w;h==="top"||h==="bottom"?(_=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,_=f==="end"?"top":"bottom");const g=v-d.top-d.bottom,x=y-d.left-d.right,b=Qo(v-d[_],g),E=Qo(y-d[w],x),S=!e.middlewareData.shift;let k=b,A=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=g),S&&!f){const M=vr(d.left,0),L=vr(d.right,0),P=vr(d.top,0),B=vr(d.bottom,0);p?A=y-2*(M!==0||L!==0?M+L:vr(d.left,d.right)):k=v-2*(P!==0||B!==0?P+B:vr(d.top,d.bottom))}await l({...e,availableWidth:A,availableHeight:k});const j=await o.getDimensions(a.floating);return y!==j.width||v!==j.height?{reset:{rects:!0}}:{}}}};function Uy(){return typeof window<"u"}function hu(t){return f2(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pi(t){var e;return(e=(f2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function f2(t){return Uy()?t instanceof Node||t instanceof Er(t).Node:!1}function bs(t){return Uy()?t instanceof Element||t instanceof Er(t).Element:!1}function oi(t){return Uy()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function XC(t){return!Uy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}function Jh(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function wz(t){return["table","td","th"].includes(hu(t))}function By(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function W1(t){const e=H1(),n=bs(t)?Es(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function xz(t){let e=Jo(t);for(;oi(e)&&!Bc(e);){if(W1(e))return e;if(By(e))return null;e=Jo(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bc(t){return["html","body","#document"].includes(hu(t))}function Es(t){return Er(t).getComputedStyle(t)}function zy(t){return bs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jo(t){if(hu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XC(t)&&t.host||pi(t);return XC(e)?e.host:e}function p2(t){const e=Jo(t);return Bc(e)?t.ownerDocument?t.ownerDocument.body:t.body:oi(e)&&Jh(e)?e:p2(e)}function dh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=p2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Er(s);if(i){const a=n_(o);return e.concat(o,o.visualViewport||[],Jh(s)?s:[],a&&n?dh(a):[])}return e.concat(s,dh(s,[],n))}function n_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function m2(t){const e=Es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=oi(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Om(n)!==i||Om(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function q1(t){return bs(t)?t:t.contextElement}function hc(t){const e=q1(t);if(!oi(e))return Yo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=m2(e);let o=(i?Om(n.width):n.width)/r,a=(i?Om(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const _z=Yo(0);function g2(t){const e=Er(t);return!H1()||!e.visualViewport?_z:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function Xa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=q1(t);let o=Yo(1);e&&(r?bs(r)&&(o=hc(r)):o=hc(t));const a=bz(i,n,r)?g2(i):Yo(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Er(i),p=r&&bs(r)?Er(r):r;let y=f,v=n_(y);for(;v&&r&&p!==y;){const _=hc(v),w=v.getBoundingClientRect(),g=Es(v),x=w.left+(v.clientLeft+parseFloat(g.paddingLeft))*_.x,b=w.top+(v.clientTop+parseFloat(g.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,h*=_.y,l+=x,u+=b,y=Er(v),v=n_(y)}}return Fm({width:d,height:h,x:l,y:u})}function Ez(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=pi(r),a=e?By(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Yo(1);const d=Yo(0),h=oi(r);if((h||!h&&!i)&&((hu(r)!=="body"||Jh(o))&&(l=zy(r)),oi(r))){const f=Xa(r);u=hc(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function Sz(t){return Array.from(t.getClientRects())}function r_(t,e){const n=zy(t).scrollLeft;return e?e.left+n:Xa(pi(t)).left+n}function Tz(t){const e=pi(t),n=zy(t),r=t.ownerDocument.body,s=vr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+r_(t);const a=-n.scrollTop;return Es(r).direction==="rtl"&&(o+=vr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function Cz(t,e){const n=Er(t),r=pi(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=H1();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function kz(t,e){const n=Xa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=oi(t)?hc(t):Yo(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function JC(t,e,n){let r;if(e==="viewport")r=Cz(t,n);else if(e==="document")r=Tz(pi(t));else if(bs(e))r=kz(e,n);else{const s=g2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Fm(r)}function y2(t,e){const n=Jo(t);return n===e||!bs(n)||Bc(n)?!1:Es(n).position==="fixed"||y2(n,e)}function Iz(t,e){const n=e.get(t);if(n)return n;let r=dh(t,[],!1).filter(a=>bs(a)&&hu(a)!=="body"),s=null;const i=Es(t).position==="fixed";let o=i?Jo(t):t;for(;bs(o)&&!Bc(o);){const a=Es(o),l=W1(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Jh(o)&&!l&&y2(t,o))?r=r.filter(d=>d!==o):s=a,o=Jo(o)}return e.set(t,r),r}function Az(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?By(e)?[]:Iz(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=JC(e,d,s);return u.top=vr(h.top,u.top),u.right=Qo(h.right,u.right),u.bottom=Qo(h.bottom,u.bottom),u.left=vr(h.left,u.left),u},JC(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Nz(t){const{width:e,height:n}=m2(t);return{width:e,height:n}}function Pz(t,e,n){const r=oi(e),s=pi(e),i=n==="fixed",o=Xa(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Yo(0);if(r||!r&&!i)if((hu(e)!=="body"||Jh(s))&&(a=zy(e)),r){const p=Xa(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=r_(s));let u=0,d=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-r_(s,p)}const h=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-d;return{x:h,y:f,width:o.width,height:o.height}}function qw(t){return Es(t).position==="static"}function ZC(t,e){if(!oi(t)||Es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pi(t)===n&&(n=n.ownerDocument.body),n}function v2(t,e){const n=Er(t);if(By(t))return n;if(!oi(t)){let s=Jo(t);for(;s&&!Bc(s);){if(bs(s)&&!qw(s))return s;s=Jo(s)}return n}let r=ZC(t,e);for(;r&&wz(r)&&qw(r);)r=ZC(r,e);return r&&Bc(r)&&qw(r)&&!W1(r)?n:r||xz(t)||n}const Rz=async function(t){const e=this.getOffsetParent||v2,n=this.getDimensions,r=await n(t.floating);return{reference:Pz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jz(t){return Es(t).direction==="rtl"}const Dz={convertOffsetParentRelativeRectToViewportRelativeRect:Ez,getDocumentElement:pi,getClippingRect:Az,getOffsetParent:v2,getElementRects:Rz,getClientRects:Sz,getDimensions:Nz,getScale:hc,isElement:bs,isRTL:jz};function Mz(t,e){let n=null,r;const s=pi(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Jf(d),y=Jf(s.clientWidth-(u+h)),v=Jf(s.clientHeight-(d+f)),_=Jf(u),g={rootMargin:-p+"px "+-y+"px "+-v+"px "+-_+"px",threshold:vr(0,Qo(1,l))||1};let x=!0;function b(E){const S=E[0].intersectionRatio;if(S!==l){if(!x)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(b,{...g,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,g)}n.observe(t)}return o(!0),i}function Oz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=q1(t),d=s||i?[...u?dh(u):[],...dh(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&a?Mz(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let y,v=l?Xa(t):null;l&&_();function _(){const w=Xa(t);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,y=requestAnimationFrame(_)}return n(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const Lz=mz,Fz=gz,Vz=hz,$z=vz,Uz=fz,ek=dz,Bz=yz,zz=(t,e,n)=>{const r=new Map,s={platform:Dz,...n},i={...s.platform,_c:r};return uz(t,e,{...s,platform:i})};var Op=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Vm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function w2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tk(t,e){const n=w2(t);return Math.round(e*n)/n}function Gw(t){const e=m.useRef(t);return Op(()=>{e.current=t}),e}function Wz(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);Vm(f,r)||p(r);const[y,v]=m.useState(null),[_,w]=m.useState(null),g=m.useCallback(N=>{N!==S.current&&(S.current=N,v(N))},[]),x=m.useCallback(N=>{N!==k.current&&(k.current=N,w(N))},[]),b=i||y,E=o||_,S=m.useRef(null),k=m.useRef(null),A=m.useRef(d),j=l!=null,M=Gw(l),L=Gw(s),P=Gw(u),B=m.useCallback(()=>{if(!S.current||!k.current)return;const N={placement:e,strategy:n,middleware:f};L.current&&(N.platform=L.current),zz(S.current,k.current,N).then(D=>{const T={...D,isPositioned:P.current!==!1};V.current&&!Vm(A.current,T)&&(A.current=T,pl.flushSync(()=>{h(T)}))})},[f,e,n,L,P]);Op(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[u]);const V=m.useRef(!1);Op(()=>(V.current=!0,()=>{V.current=!1}),[]),Op(()=>{if(b&&(S.current=b),E&&(k.current=E),b&&E){if(M.current)return M.current(b,E,B);B()}},[b,E,B,M,j]);const q=m.useMemo(()=>({reference:S,floating:k,setReference:g,setFloating:x}),[g,x]),G=m.useMemo(()=>({reference:b,floating:E}),[b,E]),ee=m.useMemo(()=>{const N={position:n,left:0,top:0};if(!G.floating)return N;const D=tk(G.floating,d.x),T=tk(G.floating,d.y);return a?{...N,transform:"translate("+D+"px, "+T+"px)",...w2(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:T}},[n,a,G.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:B,refs:q,elements:G,floatingStyles:ee}),[d,B,q,G,ee])}const Hz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ek({element:r.current,padding:s}).fn(n):{}:r?ek({element:r,padding:s}).fn(n):{}}}},qz=(t,e)=>({...Lz(t),options:[t,e]}),Gz=(t,e)=>({...Fz(t),options:[t,e]}),Kz=(t,e)=>({...Bz(t),options:[t,e]}),Qz=(t,e)=>({...Vz(t),options:[t,e]}),Yz=(t,e)=>({...$z(t),options:[t,e]}),Xz=(t,e)=>({...Uz(t),options:[t,e]}),Jz=(t,e)=>({...Hz(t),options:[t,e]});var Zz="Arrow",x2=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});x2.displayName=Zz;var e8=x2;function t8(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...y}=h,v=(f==null?void 0:f[t][l])||a,_=m.useMemo(()=>y,Object.values(y));return c.jsx(v.Provider,{value:_,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,n8(s,...e)]}function n8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _2(t){const[e,n]=m.useState(void 0);return on(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var G1="Popper",[b2,la]=t8(G1),[r8,E2]=b2(G1),S2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return c.jsx(r8,{scope:e,anchor:r,onAnchorChange:s,children:n})};S2.displayName=G1;var T2="PopperAnchor",C2=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=E2(T2,n),o=m.useRef(null),a=Je(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(xe.div,{...s,ref:a})});C2.displayName=T2;var K1="PopperContent",[s8,i8]=b2(K1),k2=m.forwardRef((t,e)=>{var ce,Te,Oe,Pe,Be,qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=t,_=E2(K1,n),[w,g]=m.useState(null),x=Je(e,Ut=>g(Ut)),[b,E]=m.useState(null),S=_2(b),k=(S==null?void 0:S.width)??0,A=(S==null?void 0:S.height)??0,j=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],P=L.length>0,B={padding:M,boundary:L.filter(a8),altBoundary:P},{refs:V,floatingStyles:q,placement:G,isPositioned:ee,middlewareData:N}=Wz({strategy:"fixed",placement:j,whileElementsMounted:(...Ut)=>Oz(...Ut,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[qz({mainAxis:s+A,alignmentAxis:o}),l&&Gz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Kz():void 0,...B}),l&&Qz({...B}),Yz({...B,apply:({elements:Ut,rects:tn,availableWidth:Rr,availableHeight:bn})=>{const{width:es,height:I}=tn.reference,R=Ut.floating.style;R.setProperty("--radix-popper-available-width",`${Rr}px`),R.setProperty("--radix-popper-available-height",`${bn}px`),R.setProperty("--radix-popper-anchor-width",`${es}px`),R.setProperty("--radix-popper-anchor-height",`${I}px`)}}),b&&Jz({element:b,padding:a}),l8({arrowWidth:k,arrowHeight:A}),f&&Xz({strategy:"referenceHidden",...B})]}),[D,T]=N2(G),K=xn(y);on(()=>{ee&&(K==null||K())},[ee,K]);const se=(ce=N.arrow)==null?void 0:ce.x,C=(Te=N.arrow)==null?void 0:Te.y,Ee=((Oe=N.arrow)==null?void 0:Oe.centerOffset)!==0,[nt,fe]=m.useState();return on(()=>{w&&fe(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:ee?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[(Pe=N.transformOrigin)==null?void 0:Pe.x,(Be=N.transformOrigin)==null?void 0:Be.y].join(" "),...((qe=N.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(s8,{scope:n,placedSide:D,onArrowChange:E,arrowX:se,arrowY:C,shouldHideArrow:Ee,children:c.jsx(xe.div,{"data-side":D,"data-align":T,...v,ref:x,style:{...v.style,animation:ee?void 0:"none"}})})})});k2.displayName=K1;var I2="PopperArrow",o8={top:"bottom",right:"left",bottom:"top",left:"right"},A2=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=i8(I2,r),o=o8[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(e8,{...s,ref:n,style:{...s.style,display:"block"}})})});A2.displayName=I2;function a8(t){return t!==null}var l8=t=>({name:"transformOrigin",options:t,fn(e){var _,w,g;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=N2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let y="",v="";return u==="bottom"?(y=o?h:`${f}px`,v=`${-l}px`):u==="top"?(y=o?h:`${f}px`,v=`${r.floating.height+l}px`):u==="right"?(y=`${-l}px`,v=o?h:`${p}px`):u==="left"&&(y=`${r.floating.width+l}px`,v=o?h:`${p}px`),{data:{x:y,y:v}}}});function N2(t){const[e,n="center"]=t.split("-");return[e,n]}var Wy=S2,Zh=C2,Hy=k2,qy=A2,[Gy,ihe]=fi("Tooltip",[la]),Ky=la(),P2="TooltipProvider",c8=700,s_="tooltip.open",[u8,Q1]=Gy(P2),R2=t=>{const{__scopeTooltip:e,delayDuration:n=c8,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(u8,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};R2.displayName=P2;var Qy="Tooltip",[d8,Yy]=Gy(Qy),j2=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Q1(Qy,t.__scopeTooltip),u=Ky(e),[d,h]=m.useState(null),f=qr(),p=m.useRef(0),y=o??l.disableHoverableContent,v=a??l.delayDuration,_=m.useRef(!1),[w=!1,g]=si({prop:r,defaultProp:s,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(s_))):l.onClose(),i==null||i(k)}}),x=m.useMemo(()=>w?_.current?"delayed-open":"instant-open":"closed",[w]),b=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_.current=!1,g(!0)},[g]),E=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{_.current=!0,g(!0),p.current=0},v)},[v,g]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(Wy,{...u,children:c.jsx(d8,{scope:e,contentId:f,open:w,stateAttribute:x,trigger:d,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayed?S():b()},[l.isOpenDelayed,S,b]),onTriggerLeave:m.useCallback(()=>{y?E():(window.clearTimeout(p.current),p.current=0)},[E,y]),onOpen:b,onClose:E,disableHoverableContent:y,children:n})})};j2.displayName=Qy;var i_="TooltipTrigger",D2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yy(i_,n),i=Q1(i_,n),o=Ky(n),a=m.useRef(null),l=Je(e,a,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(Zh,{asChild:!0,...o,children:c.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Z(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Z(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Z(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Z(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Z(t.onBlur,s.onClose),onClick:Z(t.onClick,s.onClose)})})});D2.displayName=i_;var h8="TooltipPortal",[ohe,f8]=Gy(h8,{forceMount:void 0}),zc="TooltipContent",M2=m.forwardRef((t,e)=>{const n=f8(zc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Yy(zc,t.__scopeTooltip);return c.jsx(ur,{present:r||o.open,children:o.disableHoverableContent?c.jsx(O2,{side:s,...i,ref:e}):c.jsx(p8,{side:s,...i,ref:e})})}),p8=m.forwardRef((t,e)=>{const n=Yy(zc,t.__scopeTooltip),r=Q1(zc,t.__scopeTooltip),s=m.useRef(null),i=Je(e,s),[o,a]=m.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=m.useCallback(()=>{a(null),h(!1)},[h]),p=m.useCallback((y,v)=>{const _=y.currentTarget,w={x:y.clientX,y:y.clientY},g=v8(w,_.getBoundingClientRect()),x=w8(w,g),b=x8(v.getBoundingClientRect()),E=b8([...x,...b]);a(E),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(l&&d){const y=_=>p(_,d),v=_=>p(_,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[l,d,p,f]),m.useEffect(()=>{if(o){const y=v=>{const _=v.target,w={x:v.clientX,y:v.clientY},g=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),x=!_8(w,o);g?f():x&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,u,f]),c.jsx(O2,{...t,ref:i})}),[m8,g8]=Gy(Qy,{isInside:!1}),O2=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Yy(zc,n),u=Ky(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(s_,d),()=>document.removeEventListener(s_,d)),[d]),m.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(Hy,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(wj,{children:r}),c.jsx(m8,{scope:n,isInside:!0,children:c.jsx(Y6,{id:l.contentId,role:"tooltip",children:s||r})})]})})});M2.displayName=zc;var L2="TooltipArrow",y8=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ky(n);return g8(L2,n).isInside?null:c.jsx(qy,{...s,...r,ref:e})});y8.displayName=L2;function v8(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function w8(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function x8(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function _8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function b8(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),E8(e)}function E8(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var S8=R2,T8=j2,C8=D2,F2=M2;const V2=S8,k8=T8,I8=C8,$2=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(F2,{ref:r,sideOffset:e,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));$2.displayName=F2.displayName;var Xy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jy=typeof window>"u"||"Deno"in globalThis;function ls(){}function A8(t,e){return typeof t=="function"?t(e):t}function N8(t){return typeof t=="number"&&t>=0&&t!==1/0}function P8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nk(t,e){return typeof t=="function"?t(e):t}function R8(t,e){return typeof t=="function"?t(e):t}function rk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Y1(o,e.options))return!1}else if(!fh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function sk(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hh(e.options.mutationKey)!==hh(i))return!1}else if(!fh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Y1(t,e){return((e==null?void 0:e.queryKeyHashFn)||hh)(t)}function hh(t){return JSON.stringify(t,(e,n)=>o_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!fh(t[n],e[n])):!1}function U2(t,e){if(t===e)return t;const n=ik(t)&&ik(e);if(n||o_(t)&&o_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=U2(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ik(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function o_(t){if(!ok(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ok(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ok(t){return Object.prototype.toString.call(t)==="[object Object]"}function j8(t){return new Promise(e=>{setTimeout(e,t)})}function D8(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?U2(t,e):e}function M8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function O8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var X1=Symbol();function B2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===X1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fa,bo,Cc,YN,L8=(YN=class extends Xy{constructor(){super();it(this,Fa);it(this,bo);it(this,Cc);Ue(this,Cc,e=>{if(!Jy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,bo)||this.setEventListener($(this,Cc))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,bo))==null||e.call(this),Ue(this,bo,void 0))}setEventListener(e){var n;Ue(this,Cc,e),(n=$(this,bo))==null||n.call(this),Ue(this,bo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,Fa)!==e&&(Ue(this,Fa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,Fa)=="boolean"?$(this,Fa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fa=new WeakMap,bo=new WeakMap,Cc=new WeakMap,YN),z2=new L8,kc,Eo,Ic,XN,F8=(XN=class extends Xy{constructor(){super();it(this,kc,!0);it(this,Eo);it(this,Ic);Ue(this,Ic,e=>{if(!Jy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Eo)||this.setEventListener($(this,Ic))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Eo))==null||e.call(this),Ue(this,Eo,void 0))}setEventListener(e){var n;Ue(this,Ic,e),(n=$(this,Eo))==null||n.call(this),Ue(this,Eo,e(this.setOnline.bind(this)))}setOnline(e){$(this,kc)!==e&&(Ue(this,kc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,kc)}},kc=new WeakMap,Eo=new WeakMap,Ic=new WeakMap,XN),$m=new F8;function V8(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function $8(t){return Math.min(1e3*2**t,3e4)}function W2(t){return(t??"online")==="online"?$m.isOnline():!0}var H2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kw(t){return t instanceof H2}function q2(t){let e=!1,n=0,r=!1,s;const i=V8(),o=v=>{var _;r||(f(new H2(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>z2.isFocused()&&(t.networkMode==="always"||$m.isOnline())&&t.canRun(),d=()=>W2(t.networkMode)&&t.canRun(),h=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var _;s=w=>{(r||u())&&v(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{var S;if(r)return;const g=t.retry??(Jy?0:3),x=t.retryDelay??$8,b=typeof x=="function"?x(n,w):x,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,w);if(e||!E){f(w);return}n++,(S=t.onFail)==null||S.call(t,n,w),j8(b).then(()=>u()?void 0:p()).then(()=>{e?f(w):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?y():p().then(y),i)}}function U8(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var zn=U8(),Va,JN,G2=(JN=class{constructor(){it(this,Va)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),N8(this.gcTime)&&Ue(this,Va,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jy?1/0:5*60*1e3))}clearGcTimeout(){$(this,Va)&&(clearTimeout($(this,Va)),Ue(this,Va,void 0))}},Va=new WeakMap,JN),Ac,Nc,Or,An,Wh,$a,us,xi,ZN,B8=(ZN=class extends G2{constructor(n){super();it(this,us);it(this,Ac);it(this,Nc);it(this,Or);it(this,An);it(this,Wh);it(this,$a);Ue(this,$a,!1),Ue(this,Wh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ue(this,Or,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ue(this,Ac,W8(this.options)),this.state=n.state??$(this,Ac),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,An))==null?void 0:n.promise}setOptions(n){this.options={...$(this,Wh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Or).remove(this)}setData(n,r){const s=D8(this.state.data,n,this.options);return En(this,us,xi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){En(this,us,xi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,An))==null?void 0:s.promise;return(i=$(this,An))==null||i.cancel(n),r?r.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ac))}isActive(){return this.observers.some(n=>R8(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===X1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!P8(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,An))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,An))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,Or).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,An)&&($(this,$a)?$(this,An).cancel({revert:!0}):$(this,An).cancelRetry()),this.scheduleGc()),$(this,Or).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,us,xi).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,An))return $(this,An).continueRetry(),$(this,An).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ue(this,$a,!0),s.signal)})},o=()=>{const f=B2(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),Ue(this,$a,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),Ue(this,Nc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&En(this,us,xi).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var p,y,v,_;Kw(f)&&f.silent||En(this,us,xi).call(this,{type:"error",error:f}),Kw(f)||((y=(p=$(this,Or).config).onError)==null||y.call(p,f,this),(_=(v=$(this,Or).config).onSettled)==null||_.call(v,this.state.data,f,this)),this.scheduleGc()};return Ue(this,An,q2({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var p,y,v,_;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(y=(p=$(this,Or).config).onSuccess)==null||y.call(p,f,this),(_=(v=$(this,Or).config).onSettled)==null||_.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{En(this,us,xi).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{En(this,us,xi).call(this,{type:"pause"})},onContinue:()=>{En(this,us,xi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,An).start()}},Ac=new WeakMap,Nc=new WeakMap,Or=new WeakMap,An=new WeakMap,Wh=new WeakMap,$a=new WeakMap,us=new WeakSet,xi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...z8(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Kw(i)&&i.revert&&$(this,Nc)?{...$(this,Nc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Or).notify({query:this,type:"updated",action:n})})},ZN);function z8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ls,eP,H8=(eP=class extends Xy{constructor(e={}){super();it(this,Ls);this.config=e,Ue(this,Ls,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Y1(s,n);let o=this.get(i);return o||(o=new B8({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Ls).has(e.queryHash)||($(this,Ls).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Ls).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Ls).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Ls).get(e)}getAll(){return[...$(this,Ls).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rk(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>rk(e,r)):n}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ls=new WeakMap,eP),Fs,Vn,Ua,Vs,lo,tP,q8=(tP=class extends G2{constructor(n){super();it(this,Vs);it(this,Fs);it(this,Vn);it(this,Ua);this.mutationId=n.mutationId,Ue(this,Vn,n.mutationCache),Ue(this,Fs,[]),this.state=n.state||G8(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,Fs).includes(n)||($(this,Fs).push(n),this.clearGcTimeout(),$(this,Vn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ue(this,Fs,$(this,Fs).filter(r=>r!==n)),this.scheduleGc(),$(this,Vn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():$(this,Vn).remove(this))}continue(){var n;return((n=$(this,Ua))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,u,d,h,f,p,y,v,_,w,g,x,b,E,S,k,A;Ue(this,Ua,q2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(j,M)=>{En(this,Vs,lo).call(this,{type:"failed",failureCount:j,error:M})},onPause:()=>{En(this,Vs,lo).call(this,{type:"pause"})},onContinue:()=>{En(this,Vs,lo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Vn).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Ua).canStart();try{if(!r){En(this,Vs,lo).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,Vn).config).onMutate)==null?void 0:o.call(i,n,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));M!==this.state.context&&En(this,Vs,lo).call(this,{type:"pending",context:M,variables:n,isPaused:s})}const j=await $(this,Ua).start();return await((d=(u=$(this,Vn).config).onSuccess)==null?void 0:d.call(u,j,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,j,n,this.state.context)),await((y=(p=$(this,Vn).config).onSettled)==null?void 0:y.call(p,j,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,j,null,n,this.state.context)),En(this,Vs,lo).call(this,{type:"success",data:j}),j}catch(j){try{throw await((g=(w=$(this,Vn).config).onError)==null?void 0:g.call(w,j,n,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,j,n,this.state.context)),await((S=(E=$(this,Vn).config).onSettled)==null?void 0:S.call(E,void 0,j,this.state.variables,this.state.context,this)),await((A=(k=this.options).onSettled)==null?void 0:A.call(k,void 0,j,n,this.state.context)),j}finally{En(this,Vs,lo).call(this,{type:"error",error:j})}}finally{$(this,Vn).runNext(this)}}},Fs=new WeakMap,Vn=new WeakMap,Ua=new WeakMap,Vs=new WeakSet,lo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zn.batch(()=>{$(this,Fs).forEach(s=>{s.onMutationUpdate(n)}),$(this,Vn).notify({mutation:this,type:"updated",action:n})})},tP);function G8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,Hh,nP,K8=(nP=class extends Xy{constructor(e={}){super();it(this,mr);it(this,Hh);this.config=e,Ue(this,mr,new Map),Ue(this,Hh,Date.now())}build(e,n,r){const s=new q8({mutationCache:this,mutationId:++Pf(this,Hh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Zf(e),r=$(this,mr).get(n)??[];r.push(e),$(this,mr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Zf(e);if($(this,mr).has(n)){const s=(r=$(this,mr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,mr).delete(n):$(this,mr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,mr).get(Zf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,mr).get(Zf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,mr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>sk(n,r))}findAll(e={}){return this.getAll().filter(n=>sk(e,n))}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ls))))}},mr=new WeakMap,Hh=new WeakMap,nP);function Zf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ak(t){return{onFetch:(e,n)=>{var d,h,f,p,y;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=B2(e.options,e.fetchOptions),g=async(x,b,E)=>{if(v)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const S={queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};_(S);const k=await w(S),{maxPages:A}=e.options,j=E?O8:M8;return{pages:j(x.pages,k,A),pageParams:j(x.pageParams,b,A)}};if(s&&i.length){const x=s==="backward",b=x?Q8:lk,E={pages:i,pageParams:o},S=b(r,E);a=await g(E,S,x)}else{const x=t??i.length;do{const b=l===0?o[0]??r.initialPageParam:lk(r,a);if(l>0&&b==null)break;a=await g(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function lk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q8(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rt,So,To,Pc,Rc,Co,jc,Dc,rP,Y8=(rP=class{constructor(t={}){it(this,Rt);it(this,So);it(this,To);it(this,Pc);it(this,Rc);it(this,Co);it(this,jc);it(this,Dc);Ue(this,Rt,t.queryCache||new H8),Ue(this,So,t.mutationCache||new K8),Ue(this,To,t.defaultOptions||{}),Ue(this,Pc,new Map),Ue(this,Rc,new Map),Ue(this,Co,0)}mount(){Pf(this,Co)._++,$(this,Co)===1&&(Ue(this,jc,z2.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Rt).onFocus())})),Ue(this,Dc,$m.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Rt).onOnline())})))}unmount(){var t,e;Pf(this,Co)._--,$(this,Co)===0&&((t=$(this,jc))==null||t.call(this),Ue(this,jc,void 0),(e=$(this,Dc))==null||e.call(this),Ue(this,Dc,void 0))}isFetching(t){return $(this,Rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,So).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Rt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,Rt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(nk(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,Rt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=A8(e,i);if(o!==void 0)return $(this,Rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>$(this,Rt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Rt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Rt);zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Rt),r={type:"active",...t};return zn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=zn.batch(()=>$(this,Rt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t={},e={}){return zn.batch(()=>{if($(this,Rt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=zn.batch(()=>$(this,Rt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ls)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Rt).build(this,e);return n.isStaleByTime(nk(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=ak(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=ak(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $m.isOnline()?$(this,So).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Rt)}getMutationCache(){return $(this,So)}getDefaultOptions(){return $(this,To)}setDefaultOptions(t){Ue(this,To,t)}setQueryDefaults(t,e){$(this,Pc).set(hh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Pc).values()];let n={};return e.forEach(r=>{fh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,Rc).set(hh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Rc).values()];let n={};return e.forEach(r=>{fh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,To).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Y1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===X1&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,To).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Rt).clear(),$(this,So).clear()}},Rt=new WeakMap,So=new WeakMap,To=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Co=new WeakMap,jc=new WeakMap,Dc=new WeakMap,rP),X8=m.createContext(void 0),J8=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(X8.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}var Ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ao||(Ao={}));const ck="popstate";function Z8(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return a_("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Um(s)}return t7(e,n,null,t)}function Vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e7(){return Math.random().toString(36).substr(2,8)}function uk(t,e){return{usr:t.state,key:t.key,idx:e}}function a_(t,e,n,r){return n===void 0&&(n=null),ph({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fu(e):e,{state:n,key:e&&e.key||r||e7()})}function Um(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function t7(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ao.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ph({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ao.Pop;let _=d(),w=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:w})}function f(_,w){a=Ao.Push;let g=a_(v.location,_,w);u=d()+1;let x=uk(g,u),b=v.createHref(g);try{o.pushState(x,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}i&&l&&l({action:a,location:v.location,delta:1})}function p(_,w){a=Ao.Replace;let g=a_(v.location,_,w);u=d();let x=uk(g,u),b=v.createHref(g);o.replaceState(x,"",b),i&&l&&l({action:a,location:v.location,delta:0})}function y(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof _=="string"?_:Um(_);return g=g.replace(/ $/,"%20"),Vt(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ck,h),l=_,()=>{s.removeEventListener(ck,h),l=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}var dk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dk||(dk={}));function n7(t,e,n){return n===void 0&&(n="/"),r7(t,e,n,!1)}function r7(t,e,n,r){let s=typeof e=="string"?fu(e):e,i=J1(s.pathname||"/",n);if(i==null)return null;let o=Q2(t);s7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=m7(i);a=f7(o[l],u,r)}return a}function Q2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$o([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Q2(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:d7(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Y2(i.path))s(i,o,l)}),e}function Y2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Y2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function s7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:h7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i7=/^:[\w-]+$/,o7=3,a7=2,l7=1,c7=10,u7=-2,hk=t=>t==="*";function d7(t,e){let n=t.split("/"),r=n.length;return n.some(hk)&&(r+=u7),e&&(r+=a7),n.filter(s=>!hk(s)).reduce((s,i)=>s+(i7.test(i)?o7:i===""?l7:c7),r)}function h7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function f7(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=fk({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:$o([i,h.pathname]),pathnameBase:w7($o([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$o([i,h.pathnameBase]))}return o}function fk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p7(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function p7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),K2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function m7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return K2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function J1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fu(t):t;return{pathname:n?n.startsWith("/")?n:y7(n,e):e,search:x7(r),hash:_7(s)}}function y7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z1(t,e){let n=v7(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fu(t):(s=ph({},t),Vt(!s.pathname||!s.pathname.includes("?"),Qw("?","pathname","search",s)),Vt(!s.pathname||!s.pathname.includes("#"),Qw("#","pathname","hash",s)),Vt(!s.search||!s.search.includes("#"),Qw("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=g7(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),w7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const X2=["post","put","patch","delete"];new Set(X2);const E7=["get",...X2];new Set(E7);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}const tE=m.createContext(null),S7=m.createContext(null),ca=m.createContext(null),Zy=m.createContext(null),Xi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),J2=m.createContext(null);function T7(t,e){let{relative:n}=e===void 0?{}:e;pu()||Vt(!1);let{basename:r,navigator:s}=m.useContext(ca),{hash:i,pathname:o,search:a}=eD(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$o([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pu(){return m.useContext(Zy)!=null}function Ji(){return pu()||Vt(!1),m.useContext(Zy).location}function Z2(t){m.useContext(ca).static||m.useLayoutEffect(t)}function Pr(){let{isDataRoute:t}=m.useContext(Xi);return t?V7():C7()}function C7(){pu()||Vt(!1);let t=m.useContext(tE),{basename:e,future:n,navigator:r}=m.useContext(ca),{matches:s}=m.useContext(Xi),{pathname:i}=Ji(),o=JSON.stringify(Z1(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return Z2(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=eE(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$o([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function k7(){let{matches:t}=m.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function eD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ca),{matches:s}=m.useContext(Xi),{pathname:i}=Ji(),o=JSON.stringify(Z1(s,r.v7_relativeSplatPath));return m.useMemo(()=>eE(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function I7(t,e){return A7(t,e)}function A7(t,e,n,r){pu()||Vt(!1);let{navigator:s}=m.useContext(ca),{matches:i}=m.useContext(Xi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ji(),d;if(e){var h;let _=typeof e=="string"?fu(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Vt(!1),d=_}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=n7(t,{pathname:p}),v=D7(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:$o([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:$o([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?m.createElement(Zy.Provider,{value:{location:mh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ao.Pop}},v):v}function N7(){let t=F7(),e=b7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const P7=m.createElement(N7,null);class R7 extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Xi.Provider,{value:this.props.routeContext},m.createElement(J2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j7(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(tE);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Xi.Provider,{value:e},r)}function D7(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Vt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,v=null,_=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||P7,l&&(u<0&&f===0?(y=!0,_=null):u===f&&(y=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),g=()=>{let x;return p?x=v:y?x=_:h.route.Component?x=m.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,m.createElement(j7,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(R7,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var tD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tD||{}),Bm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bm||{});function M7(t){let e=m.useContext(tE);return e||Vt(!1),e}function O7(t){let e=m.useContext(S7);return e||Vt(!1),e}function L7(t){let e=m.useContext(Xi);return e||Vt(!1),e}function nD(t){let e=L7(),n=e.matches[e.matches.length-1];return n.route.id||Vt(!1),n.route.id}function F7(){var t;let e=m.useContext(J2),n=O7(Bm.UseRouteError),r=nD(Bm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V7(){let{router:t}=M7(tD.UseNavigateStable),e=nD(Bm.UseNavigateStable),n=m.useRef(!1);return Z2(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mh({fromRouteId:e},i)))},[t,e])}function rD(t){let{to:e,replace:n,state:r,relative:s}=t;pu()||Vt(!1);let{future:i,static:o}=m.useContext(ca),{matches:a}=m.useContext(Xi),{pathname:l}=Ji(),u=Pr(),d=eE(e,Z1(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function kn(t){Vt(!1)}function $7(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ao.Pop,navigator:i,static:o=!1,future:a}=t;pu()&&Vt(!1);let l=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:i,static:o,future:mh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=fu(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,v=m.useMemo(()=>{let _=J1(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:y},navigationType:s}},[l,d,h,f,p,y,s]);return v==null?null:m.createElement(ca.Provider,{value:u},m.createElement(Zy.Provider,{children:n,value:v}))}function U7(t){let{children:e,location:n}=t;return I7(l_(e),n)}new Promise(()=>{});function l_(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,l_(r.props.children,i));return}r.type!==kn&&Vt(!1),!r.props.index||!r.props.children||Vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=l_(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(this,arguments)}function B7(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function z7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W7(t,e){return t.button===0&&(!e||e==="_self")&&!z7(t)}const H7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q7="6";try{window.__reactRouterVersion=q7}catch{}const G7="startTransition",pk=pP[G7];function K7(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=Z8({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&pk?pk(()=>l(h)):l(h)},[l,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement($7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Q7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=B7(e,H7),{basename:p}=m.useContext(ca),y,v=!1;if(typeof u=="string"&&Y7.test(u)&&(y=u,Q7))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=J1(b.pathname,p);b.origin===x.origin&&E!=null?u=E+b.search+b.hash:v=!0}catch{}let _=T7(u,{relative:s}),w=X7(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function g(x){r&&r(x),x.defaultPrevented||w(x)}return m.createElement("a",c_({},f,{href:y||_,onClick:v||i?r:g,ref:n,target:l}))});var mk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mk||(mk={}));var gk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gk||(gk={}));function X7(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Pr(),u=Ji(),d=eD(t,{relative:o});return m.useCallback(h=>{if(W7(h,n)){h.preventDefault();let f=r!==void 0?r:Um(u)===Um(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}var yk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Z7;const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eW=function(t){const e=sD(t);return iD.encodeByteArray(e,!0)},zm=function(t){return eW(t).replace(/\./g,"")},oD=function(t){try{return iD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=()=>tW().__FIREBASE_DEFAULTS__,rW=()=>{if(typeof process>"u"||typeof yk>"u")return;const t=yk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oD(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return nW()||rW()||sW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aD=t=>{var e,n;return(n=(e=ev())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lD=t=>{const e=aD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cD=()=>{var t;return(t=ev())===null||t===void 0?void 0:t.config},uD=t=>{var e;return(e=ev())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zm(JSON.stringify(n)),zm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function aW(){var t;const e=(t=ev())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cW(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uW(){return!aW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nE(){try{return typeof indexedDB=="object"}catch{return!1}}function fD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function dW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hW,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fW(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Jr(s,a,r)}}function fW(t,e){return t.replace(pW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pW=/\{\$([^}]+)}/g;function mW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vk(i)&&vk(o)){if(!gh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gW(t,e){const n=new yW(t,e);return n.subscribe.bind(n)}class yW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yw),s.error===void 0&&(s.error=Yw),s.complete===void 0&&(s.complete=Yw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=1e3,xW=2,_W=4*60*60*1e3,bW=.5;function wk(t,e=wW,n=xW){const r=e*Math.pow(n,t),s=Math.round(bW*r*(Math.random()-.5)*2);return Math.min(_W,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class Xr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TW(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SW(t){return t===xa?void 0:t}function TW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const kW={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},IW=Ke.INFO,AW={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},NW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=AW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=IW,this._logHandler=NW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const PW=(t,e)=>e.some(n=>t instanceof n);let xk,_k;function RW(){return xk||(xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jW(){return _k||(_k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pD=new WeakMap,u_=new WeakMap,mD=new WeakMap,Xw=new WeakMap,rE=new WeakMap;function DW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Uo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pD.set(n,t)}).catch(()=>{}),rE.set(e,t),e}function MW(t){if(u_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});u_.set(t,e)}let d_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OW(t){d_=t(d_)}function LW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jw(this),e,...n);return mD.set(r,e.sort?e.sort():[e]),Uo(r)}:jW().includes(t)?function(...e){return t.apply(Jw(this),e),Uo(pD.get(this))}:function(...e){return Uo(t.apply(Jw(this),e))}}function FW(t){return typeof t=="function"?LW(t):(t instanceof IDBTransaction&&MW(t),PW(t,RW())?new Proxy(t,d_):t)}function Uo(t){if(t instanceof IDBRequest)return DW(t);if(Xw.has(t))return Xw.get(t);const e=FW(t);return e!==t&&(Xw.set(t,e),rE.set(e,t)),e}const Jw=t=>rE.get(t);function gD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Uo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Uo(o.result),l.oldVersion,l.newVersion,Uo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const VW=["get","getKey","getAll","getAllKeys","count"],$W=["put","add","delete","clear"],Zw=new Map;function bk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zw.get(e))return Zw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$W.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||VW.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Zw.set(e,i),i}OW(t=>({...t,get:(e,n,r)=>bk(e,n)||t.get(e,n,r),has:(e,n)=>!!bk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h_="@firebase/app",Ek="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new tv("@firebase/app"),zW="@firebase/app-compat",WW="@firebase/analytics-compat",HW="@firebase/analytics",qW="@firebase/app-check-compat",GW="@firebase/app-check",KW="@firebase/auth",QW="@firebase/auth-compat",YW="@firebase/database",XW="@firebase/database-compat",JW="@firebase/functions",ZW="@firebase/functions-compat",eH="@firebase/installations",tH="@firebase/installations-compat",nH="@firebase/messaging",rH="@firebase/messaging-compat",sH="@firebase/performance",iH="@firebase/performance-compat",oH="@firebase/remote-config",aH="@firebase/remote-config-compat",lH="@firebase/storage",cH="@firebase/storage-compat",uH="@firebase/firestore",dH="@firebase/firestore-compat",hH="firebase",fH="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="[DEFAULT]",pH={[h_]:"fire-core",[zW]:"fire-core-compat",[HW]:"fire-analytics",[WW]:"fire-analytics-compat",[GW]:"fire-app-check",[qW]:"fire-app-check-compat",[KW]:"fire-auth",[QW]:"fire-auth-compat",[YW]:"fire-rtdb",[XW]:"fire-rtdb-compat",[JW]:"fire-fn",[ZW]:"fire-fn-compat",[eH]:"fire-iid",[tH]:"fire-iid-compat",[nH]:"fire-fcm",[rH]:"fire-fcm-compat",[sH]:"fire-perf",[iH]:"fire-perf-compat",[oH]:"fire-rc",[aH]:"fire-rc-compat",[lH]:"fire-gcs",[cH]:"fire-gcs-compat",[uH]:"fire-fst",[dH]:"fire-fst-compat","fire-js":"fire-js",[hH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=new Map,p_=new Map;function mH(t,e){try{t.container.addComponent(e)}catch(n){Ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(p_.has(e))return Ja.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,t);for(const n of Wm.values())mH(n,t);return!0}function ua(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bo=new yl("app","Firebase",gH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=fH;function yD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Bo.create("bad-app-name",{appName:String(s)});if(n||(n=cD()),!n)throw Bo.create("no-options");const i=Wm.get(s);if(i){if(gh(n,i.options)&&gh(r,i.config))return i;throw Bo.create("duplicate-app",{appName:s})}const o=new CW(s);for(const l of p_.values())o.addComponent(l);const a=new yH(n,r,o);return Wm.set(s,a),a}function nv(t=f_){const e=Wm.get(t);if(!e&&t===f_&&cD())return yD();if(!e)throw Bo.create("no-app",{appName:t});return e}function or(t,e,n){var r;let s=(r=pH[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ja.warn(a.join(" "));return}Ss(new Xr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="firebase-heartbeat-database",wH=1,yh="firebase-heartbeat-store";let ex=null;function vD(){return ex||(ex=gD(vH,wH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),ex}async function xH(t){try{const n=(await vD()).transaction(yh),r=await n.objectStore(yh).get(wD(t));return await n.done,r}catch(e){if(e instanceof Jr)Ja.warn(e.message);else{const n=Bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ja.warn(n.message)}}}async function Sk(t,e){try{const r=(await vD()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,wD(t)),await r.done}catch(n){if(n instanceof Jr)Ja.warn(n.message);else{const r=Bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ja.warn(r.message)}}}function wD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=1024,bH=30*24*60*60*1e3;class EH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Tk();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=bH}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tk(),{heartbeatsToSend:r,unsentEntries:s}=SH(this._heartbeatsCache.heartbeats),i=zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Tk(){return new Date().toISOString().substring(0,10)}function SH(t,e=_H){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ck(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ck(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nE()?fD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ck(t){return zm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(t){Ss(new Xr("platform-logger",e=>new UW(e),"PRIVATE")),Ss(new Xr("heartbeat",e=>new EH(e),"PRIVATE")),or(h_,Ek,t),or(h_,Ek,"esm2017"),or("fire-js","")}CH("");var zs=function(){return zs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zs.apply(this,arguments)};function tf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kH(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function xD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IH=xD,_D=new yl("auth","Firebase",xD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new tv("@firebase/auth");function AH(t,...e){Hm.logLevel<=Ke.WARN&&Hm.warn(`Auth (${vl}): ${t}`,...e)}function Lp(t,...e){Hm.logLevel<=Ke.ERROR&&Hm.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,...e){throw sE(t,...e)}function Zs(t,...e){return sE(t,...e)}function NH(t,e,n){const r=Object.assign(Object.assign({},IH()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function sE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _D.create(t,...e)}function ke(t,e,...n){if(!t)throw sE(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lp(e),new Error(e)}function Hi(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PH(){return kk()==="http:"||kk()==="https:"}function kk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PH()||hD()||"connection"in navigator)?navigator.onLine:!0}function jH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=oW()||lW()}get(){return RH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new nf(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mi(t,e,n,r,s={}){return ED(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ef(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bD.fetch()(SD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function ED(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DH),e);try{const s=new LH(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ep(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ep(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ep(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ep(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NH(t,d,u);Ts(t,d)}}catch(s){if(s instanceof Jr)throw s;Ts(t,"network-request-failed",{message:String(s)})}}async function rf(t,e,n,r,s={}){const i=await mi(t,e,n,r,s);return"mfaPendingCredential"in i&&Ts(t,"multi-factor-auth-required",{_serverResponse:i}),i}function SD(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?iE(t.config,s):`${t.config.apiScheme}://${s}`}function OH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),MH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zs(t,e,r);return s.customData._tokenResponse=n,s}function Ik(t){return t!==void 0&&t.enterprise!==void 0}class FH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VH(t,e){return mi(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e){return mi(t,"POST","/v1/accounts:delete",e)}async function UH(t,e){return mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BH(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),s=oE(r);ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ad(tx(s.auth_time)),issuedAtTime:Ad(tx(s.iat)),expirationTime:Ad(tx(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function tx(t){return Number(t)*1e3}function oE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const s=oD(n);return s?JSON.parse(s):(Lp("Failed to decode base64 JWT payload"),null)}catch(s){return Lp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zH(t){const e=oE(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&WH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Wc(t,UH(n,{idToken:r}));ke(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?KH(i.providerUserInfo):[],a=GH(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new TD(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function qH(t){const e=Kt(t);await qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GH(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function KH(t){return t.map(e=>{var{providerId:n}=e,r=tf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(t,e){const n=await ED(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=SD(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YH(t,e){return mi(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await QH(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vh;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ke(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ke(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wa{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=tf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new TD(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BH(this,e)}reload(){return qH(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wc(this,$H(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:b,isAnonymous:E,providerData:S,stsTokenManager:k}=n;ke(x&&k,e,"internal-error");const A=vh.fromJSON(this.name,k);ke(typeof x=="string",e,"internal-error"),so(h,e.name),so(f,e.name),ke(typeof b=="boolean",e,"internal-error"),ke(typeof E=="boolean",e,"internal-error"),so(p,e.name),so(y,e.name),so(v,e.name),so(_,e.name),so(w,e.name),so(g,e.name);const j=new Wa({uid:x,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:A,createdAt:w,lastLoginAt:g});return S&&Array.isArray(S)&&(j.providerData=S.map(M=>Object.assign({},M))),_&&(j._redirectEventId=_),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new vh;s.updateFromServerResponse(n);const i=new Wa({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qm(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;function Ai(t){Hi(t instanceof Function,"Expected a class definition");let e=Ak.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ak.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CD.type="NONE";const Nk=CD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e,n){return`firebase:${t}:${e}:${n}`}class fc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fp(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fc(Ai(Nk),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ai(Nk);const o=Fp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Wa._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new fc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new fc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PD(e))return"Blackberry";if(RD(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||ID(e))&&!e.includes("edge/"))return"Chrome";if(ND(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kD(t=Gt()){return/firefox\//i.test(t)}function aE(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ID(t=Gt()){return/crios\//i.test(t)}function AD(t=Gt()){return/iemobile/i.test(t)}function ND(t=Gt()){return/android/i.test(t)}function PD(t=Gt()){return/blackberry/i.test(t)}function RD(t=Gt()){return/webos/i.test(t)}function rv(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XH(t=Gt()){var e;return rv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JH(){return cW()&&document.documentMode===10}function jD(t=Gt()){return rv(t)||ND(t)||RD(t)||PD(t)||/windows phone/i.test(t)||AD(t)}function ZH(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e=[]){let n;switch(t){case"Browser":n=Pk(Gt());break;case"Worker":n=`${Pk(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tq(t,e={}){return mi(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=6;class rq{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rk(this),this.idTokenSubscription=new Rk(this),this.beforeStateQueue=new eq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_D,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await fc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tq(this),n=new rq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await fc.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(t){return Kt(t)}let Rk=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gW(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iq(t){sv=t}function MD(t){return sv.loadJS(t)}function oq(){return sv.recaptchaEnterpriseScript}function aq(){return sv.gapiScript}function lq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cq="recaptcha-enterprise",uq="NO_RECAPTCHA";class dq{constructor(e){this.type=cq,this.auth=da(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{VH(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new FH(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ik(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(uq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ik(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=oq();l.length!==0&&(l+=a),MD(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function jk(t,e,n,r=!1){const s=new dq(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await jk(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t,e){const n=ua(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(gh(i,e??{}))return s;Ts(s,"already-initialized")}return n.initialize({options:e})}function fq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pq(t,e,n){const r=da(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=OD(e),{host:o,port:a}=mq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),gq()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mq(t){const e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Dk(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Dk(o)}}}function Dk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function yq(t,e){return mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e){return rf(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}async function wq(t,e){return mi(t,"POST","/v1/accounts:sendOobCode",Zi(t,e))}async function xq(t,e){return wq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _q(t,e){return rf(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function bq(t,e){return rf(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends lE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",vq);case"emailLink":return _q(e,{email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,r,"signUpPassword",yq);case"emailLink":return bq(e,{idToken:n,email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e){return rf(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="http://localhost";class Za extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=tf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Za(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pc(e,n)}buildRequest(){const e={requestUri:Eq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tq(t){const e=Yu(Xu(t)).link,n=e?Yu(Xu(e)).deep_link_id:null,r=Yu(Xu(t)).deep_link_id;return(r?Yu(Xu(r)).link:null)||r||n||e||t}class cE{constructor(e){var n,r,s,i,o,a;const l=Yu(Xu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Sq((s=l.mode)!==null&&s!==void 0?s:null);ke(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Tq(e);try{return new cE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return wh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cE.parseLink(n);return ke(r,"argument-error"),wh._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends LD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends sf{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return go.credential(n,r)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends sf{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends sf{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e){return rf(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wa._fromIdTokenResponse(e,r,s),o=Mk(r);return new el({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Mk(r);return new el({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Mk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Jr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Km(e,n,r,s)}}function FD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Km._fromErrorAndOperation(t,i,e,r):i})}async function kq(t,e,n=!1){const r=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Wc(t,FD(r,s,e,t),n);ke(i.idToken,r,"internal-error");const o=oE(i.idToken);ke(o,r,"internal-error");const{sub:a}=o;return ke(t.uid===a,r,"user-mismatch"),el._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ts(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e,n=!1){const r="signIn",s=await FD(t,r,e),i=await el._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Aq(t,e){return VD(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t){const e=da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Nq(t,e,n){const r=da(t);await Gm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xq)}async function Ok(t,e,n){const r=da(t),o=await Gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$D(t),l}),a=await el._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Pq(t,e,n){return Aq(Kt(t),mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$D(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jq(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Kt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Wc(r,Rq(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Dq(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function Mq(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function Oq(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}function Lq(t){return Kt(t).signOut()}const Qm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qm,"1"),this.storage.removeItem(Qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(){const t=Gt();return aE(t)||rv(t)}const Vq=1e3,$q=10;class BD extends UD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Fq()&&ZH(),this.fallbackToPolling=jD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);JH()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$q):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BD.type="LOCAL";const Uq=BD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends UD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zD.type="SESSION";const WD=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new iv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await Bq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=uE("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function Wq(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function Hq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Gq(){return HD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebaseLocalStorageDb",Kq=1,Ym="firebaseLocalStorage",GD="fbase_key";class of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ov(t,e){return t.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function Qq(){const t=indexedDB.deleteDatabase(qD);return new of(t).toPromise()}function g_(){const t=indexedDB.open(qD,Kq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ym,{keyPath:GD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ym)?e(r):(r.close(),await Qq(),e(await g_()))})})}async function Lk(t,e,n){const r=ov(t,!0).put({[GD]:e,value:n});return new of(r).toPromise()}async function Yq(t,e){const n=ov(t,!1).get(e),r=await new of(n).toPromise();return r===void 0?null:r.value}function Fk(t,e){const n=ov(t,!0).delete(e);return new of(n).toPromise()}const Xq=800,Jq=3;class KD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iv._getInstance(Gq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Hq(),!this.activeServiceWorker)return;this.sender=new zq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g_();return await Lk(e,Qm,"1"),await Fk(e,Qm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ov(s,!1).getAll();return new of(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KD.type="LOCAL";const Zq=KD;new nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t,e){return e?Ai(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tG(t){return VD(t.auth,new dE(t),t.bypassAuthState)}function nG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),Iq(n,new dE(t),t.bypassAuthState)}async function rG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),kq(n,new dE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tG;case"linkViaPopup":case"linkViaRedirect":return rG;case"reauthViaPopup":case"reauthViaRedirect":return nG;default:Ts(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new nf(2e3,1e4);class tc extends QD{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sG.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="pendingRedirect",Vp=new Map;class oG extends QD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vp.get(this.auth._key());if(!e){try{const r=await aG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vp.set(this.auth._key(),e)}return this.bypassAuthState||Vp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aG(t,e){const n=uG(e),r=cG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function lG(t,e){Vp.set(t._key(),e)}function cG(t){return Ai(t._redirectPersistence)}function uG(t){return Fp(iG,t.config.apiKey,t.name)}async function dG(t,e,n=!1){const r=da(t),s=eG(r,e),o=await new oG(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=10*60*1e3;class fG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hG&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vk(e))}saveEventToCache(e){this.cachedEventUids.add(Vk(e)),this.lastProcessedEventTime=Date.now()}}function Vk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e={}){return mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yG=/^https?/;async function vG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mG(t);for(const n of e)try{if(wG(n))return}catch{}Ts(t,"unauthorized-domain")}function wG(t){const e=m_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yG.test(n))return!1;if(gG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG=new nf(3e4,6e4);function $k(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _G(t){return new Promise((e,n)=>{var r,s,i;function o(){$k(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$k(),n(Zs(t,"network-request-failed"))},timeout:xG.get()})}if(!((s=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ei().gapi)===null||i===void 0)&&i.load)o();else{const a=lq("iframefcb");return ei()[a]=()=>{gapi.load?o():n(Zs(t,"network-request-failed"))},MD(`${aq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $p=null,e})}let $p=null;function bG(t){return $p=$p||_G(t),$p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new nf(5e3,15e3),SG="__/auth/iframe",TG="emulator/auth/iframe",CG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IG(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iE(e,TG):`https://${t.config.authDomain}/${SG}`,r={apiKey:e.apiKey,appName:t.name,v:vl},s=kG.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ef(r).slice(1)}`}async function AG(t){const e=await bG(t),n=ei().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:IG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zs(t,"network-request-failed"),a=ei().setTimeout(()=>{i(o)},EG.get());function l(){ei().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PG=500,RG=600,jG="_blank",DG="http://localhost";class Uk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MG(t,e,n,r=PG,s=RG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NG),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Gt().toLowerCase();n&&(a=ID(u)?jG:n),kD(u)&&(e=e||DG,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(XH(u)&&a!=="_self")return OG(e||"",a),new Uk(null);const h=window.open(e||"",a,d);ke(h,t,"popup-blocked");try{h.focus()}catch{}return new Uk(h)}function OG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG="__/auth/handler",FG="emulator/auth/handler",VG=encodeURIComponent("fac");async function Bk(t,e,n,r,s,i){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:s};if(e instanceof LD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof sf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${VG}=${encodeURIComponent(l)}`:"";return`${$G(t)}?${ef(a).slice(1)}${u}`}function $G({config:t}){return t.emulator?iE(t,FG):`https://${t.authDomain}/${LG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="webStorageSupport";class UG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WD,this._completeRedirectFn=dG,this._overrideRedirectResult=lG}async _openPopup(e,n,r,s){var i;Hi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Bk(e,n,r,m_(),s);return MG(e,o,uE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Bk(e,n,r,m_(),s);return Wq(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Hi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AG(e),r=new fG(e);return n.register("authEvent",s=>(ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nx,{type:nx},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[nx];o!==void 0&&n(!!o),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jD()||aE()||rv()}}const BG=UG;var zk="@firebase/auth",Wk="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HG(t){Ss(new Xr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DD(t)},u=new sq(r,s,i,l);return fq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ss(new Xr("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(r=>new zG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(zk,Wk,WG(t)),or(zk,Wk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=5*60,GG=uD("authIdTokenMaxAge")||qG;let Hk=null;const KG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GG)return;const s=n==null?void 0:n.token;Hk!==s&&(Hk=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QG(t=nv()){const e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hq(t,{popupRedirectResolver:BG,persistence:[Zq,Uq,WD]}),r=uD("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const i=KG(r);Mq(n,i,()=>i(n.currentUser)),Dq(n,o=>i(o))}const s=aD("auth");return s&&pq(n,`http://${s}`),n}function YG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",YG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HG("Browser");var XG="firebase",JG="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(XG,JG,"app");var ZG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,hE=hE||{},Ne=ZG||self;function av(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lv(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eK(t){return Object.prototype.hasOwnProperty.call(t,rx)&&t[rx]||(t[rx]=++tK)}var rx="closure_uid_"+(1e9*Math.random()>>>0),tK=0;function nK(t,e,n){return t.call.apply(t.bind,arguments)}function rK(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=nK:jn=rK,jn.apply(null,arguments)}function tp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ln(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ha(){this.s=this.s,this.o=this.o}var sK=0;ha.prototype.s=!1;ha.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),sK!=0)&&eK(this)};ha.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function fE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(av(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dn.prototype.h=function(){this.defaultPrevented=!0};var iK=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ne.addEventListener("test",n,e),Ne.removeEventListener("test",n,e)}catch{}return t}();function xh(t){return/^[\s\xa0]*$/.test(t)}function cv(){var t=Ne.navigator;return t&&(t=t.userAgent)?t:""}function Ws(t){return cv().indexOf(t)!=-1}function pE(t){return pE[" "](t),t}pE[" "]=function(){};function oK(t,e){var n=ZK;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var aK=Ws("Opera"),Hc=Ws("Trident")||Ws("MSIE"),JD=Ws("Edge"),y_=JD||Hc,ZD=Ws("Gecko")&&!(cv().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge"))&&!(Ws("Trident")||Ws("MSIE"))&&!Ws("Edge"),lK=cv().toLowerCase().indexOf("webkit")!=-1&&!Ws("Edge");function eM(){var t=Ne.document;return t?t.documentMode:void 0}var v_;e:{var sx="",ix=function(){var t=cv();if(ZD)return/rv:([^\);]+)(\)|;)/.exec(t);if(JD)return/Edge\/([\d\.]+)/.exec(t);if(Hc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lK)return/WebKit\/(\S+)/.exec(t);if(aK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(ix&&(sx=ix?ix[1]:""),Hc){var ox=eM();if(ox!=null&&ox>parseFloat(sx)){v_=String(ox);break e}}v_=sx}var w_;if(Ne.document&&Hc){var Gk=eM();w_=Gk||parseInt(v_,10)||void 0}else w_=void 0;var cK=w_;function _h(t,e){if(Dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZD){e:{try{pE(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_h.$.h.call(this)}}ln(_h,Dn);var uK={2:"touch",3:"pen",4:"mouse"};_h.prototype.h=function(){_h.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var uv="closure_listenable_"+(1e6*Math.random()|0),dK=0;function hK(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++dK,this.fa=this.ia=!1}function dv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tM(t){const e={};for(const n in t)e[n]=t[n];return e}const Kk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nM(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Kk.length;i++)n=Kk[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hv(t){this.src=t,this.g={},this.h=0}hv.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=__(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new hK(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function x_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=XD(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(dv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function __(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var gE="closure_lm_"+(1e6*Math.random()|0),ax={};function rM(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)rM(t,e[i],n,r,s);return null}return n=oM(n),t&&t[uv]?t.O(e,n,lv(r)?!!r.capture:!!r,s):pK(t,e,n,!1,r,s)}function pK(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=lv(s)?!!s.capture:!!s,a=vE(t);if(a||(t[gE]=a=new hv(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=mK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iK||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(iM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mK(){function t(n){return e.call(t.src,t.listener,n)}const e=gK;return t}function sM(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)sM(t,e[i],n,r,s);else r=lv(r)?!!r.capture:!!r,n=oM(n),t&&t[uv]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=__(i,n,r,s),-1<n&&(dv(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=vE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=__(e,n,r,s)),(n=-1<t?e[t]:null)&&yE(n))}function yE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[uv])x_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vE(e))?(x_(n,t),n.h==0&&(n.src=null,e[gE]=null)):dv(t)}}}function iM(t){return t in ax?ax[t]:ax[t]="on"+t}function gK(t,e){if(t.fa)t=!0;else{e=new _h(e,this);var n=t.listener,r=t.la||t.src;t.ia&&yE(t),t=n.call(r,e)}return t}function vE(t){return t=t[gE],t instanceof hv?t:null}var lx="__closure_events_fn_"+(1e9*Math.random()>>>0);function oM(t){return typeof t=="function"?t:(t[lx]||(t[lx]=function(e){return t.handleEvent(e)}),t[lx])}function an(){ha.call(this),this.i=new hv(this),this.S=this,this.J=null}ln(an,ha);an.prototype[uv]=!0;an.prototype.removeEventListener=function(t,e,n,r){sM(this,t,e,n,r)};function yn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Dn(e,t);else if(e instanceof Dn)e.target=e.target||t;else{var s=e;e=new Dn(r,t),nM(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=np(o,r,!0,e)&&s}if(o=e.g=t,s=np(o,r,!0,e)&&s,s=np(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=np(o,r,!1,e)&&s}an.prototype.N=function(){if(an.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dv(n[r]);delete t.g[e],t.h--}}this.J=null};an.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};an.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function np(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&x_(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var wE=Ne.JSON.stringify;class yK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function vK(){var t=xE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wK{constructor(){this.h=this.g=null}add(e,n){const r=aM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aM=new yK(()=>new xK,t=>t.reset());class xK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _K(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bK(t){Ne.setTimeout(()=>{throw t},0)}let bh,Eh=!1,xE=new wK,lM=()=>{const t=Ne.Promise.resolve(void 0);bh=()=>{t.then(EK)}};var EK=()=>{for(var t;t=vK();){try{t.h.call(t.g)}catch(n){bK(n)}var e=aM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Eh=!1};function fv(t,e){an.call(this),this.h=t||1,this.g=e||Ne,this.j=jn(this.qb,this),this.l=Date.now()}ln(fv,an);oe=fv.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yn(this,"tick"),this.ga&&(_E(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _E(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){fv.$.N.call(this),_E(this),delete this.g};function bE(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function cM(t){t.g=bE(()=>{t.g=null,t.i&&(t.i=!1,cM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class SK extends ha{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cM(this)}N(){super.N(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sh(t){ha.call(this),this.h=t,this.g={}}ln(Sh,ha);var Qk=[];function uM(t,e,n,r){Array.isArray(n)||(n&&(Qk[0]=n.toString()),n=Qk);for(var s=0;s<n.length;s++){var i=rM(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function dM(t){mE(t.g,function(e,n){this.g.hasOwnProperty(n)&&yE(e)},t),t.g={}}Sh.prototype.N=function(){Sh.$.N.call(this),dM(this)};Sh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pv(){this.g=!0}pv.prototype.Ea=function(){this.g=!1};function TK(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function CK(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function nc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+IK(t,n)+(r?" "+r:"")})}function kK(t,e){t.info(function(){return"TIMEOUT: "+e})}pv.prototype.info=function(){};function IK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return wE(n)}catch{return e}}var wl={},Yk=null;function mv(){return Yk=Yk||new an}wl.Ta="serverreachability";function hM(t){Dn.call(this,wl.Ta,t)}ln(hM,Dn);function Th(t){const e=mv();yn(e,new hM(e))}wl.STAT_EVENT="statevent";function fM(t,e){Dn.call(this,wl.STAT_EVENT,t),this.stat=e}ln(fM,Dn);function Wn(t){const e=mv();yn(e,new fM(e,t))}wl.Ua="timingevent";function pM(t,e){Dn.call(this,wl.Ua,t),this.size=e}ln(pM,Dn);function af(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var gv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function EE(){}EE.prototype.h=null;function Xk(t){return t.h||(t.h=t.i())}function gM(){}var lf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function SE(){Dn.call(this,"d")}ln(SE,Dn);function TE(){Dn.call(this,"c")}ln(TE,Dn);var b_;function yv(){}ln(yv,EE);yv.prototype.g=function(){return new XMLHttpRequest};yv.prototype.i=function(){return{}};b_=new yv;function cf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sh(this),this.P=AK,t=y_?125:void 0,this.V=new fv(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yM}function yM(){this.i=null,this.g="",this.h=!1}var AK=45e3,vM={},E_={};oe=cf.prototype;oe.setTimeout=function(t){this.P=t};function S_(t,e,n){t.L=1,t.A=wv(qi(e)),t.u=n,t.S=!0,wM(t,null)}function wM(t,e){t.G=Date.now(),uf(t),t.B=qi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),kM(n.i,"t",r),t.o=0,n=t.l.J,t.h=new yM,t.g=KM(t.l,n?e:null,!t.u),0<t.O&&(t.M=new SK(jn(t.Pa,t,t.g),t.O)),uM(t.U,t.g,"readystatechange",t.nb),e=t.I?tM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Th(),TK(t.j,t.v,t.B,t.m,t.W,t.u)}oe.nb=function(t){t=t.target;const e=this.M;e&&qs(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const d=qs(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||y_||this.g&&(this.h.h||this.g.ja()||tI(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Th(3):Th(2)),vv(this);var n=this.g.da();this.ca=n;t:if(xM(this)){var r=tI(this.g);t="";var s=r.length,i=qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Na(this),Nd(this);var o="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,CK(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xh(a)){var u=a;break t}}u=null}if(n=u)nc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,T_(this,n);else{this.i=!1,this.s=3,Wn(12),Na(this),Nd(this);break e}}this.S?(_M(this,d,o),y_&&this.i&&d==3&&(uM(this.U,this.V,"tick",this.mb),this.V.start())):(nc(this.j,this.m,o,null),T_(this,o)),d==4&&Na(this),this.i&&!this.J&&(d==4?WM(this.l,this):(this.i=!1,uf(this)))}else YK(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),Na(this),Nd(this)}}}catch{}finally{}};function xM(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function _M(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=NK(t,n),s==E_){e==4&&(t.s=4,Wn(14),r=!1),nc(t.j,t.m,null,"[Incomplete Response]");break}else if(s==vM){t.s=4,Wn(15),nc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else nc(t.j,t.m,s,null),T_(t,s);xM(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),PE(e),e.M=!0,Wn(11))):(nc(t.j,t.m,n,"[Invalid Chunked Response]"),Na(t),Nd(t))}oe.mb=function(){if(this.g){var t=qs(this.g),e=this.g.ja();this.o<e.length&&(vv(this),_M(this,t,e),this.i&&t!=4&&uf(this))}};function NK(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?E_:(n=Number(e.substring(n,r)),isNaN(n)?vM:(r+=1,r+n>e.length?E_:(e=e.slice(r,r+n),t.o=r+n,e)))}oe.cancel=function(){this.J=!0,Na(this)};function uf(t){t.Y=Date.now()+t.P,bM(t,t.P)}function bM(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=af(jn(t.lb,t),e)}function vv(t){t.C&&(Ne.clearTimeout(t.C),t.C=null)}oe.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(kK(this.j,this.B),this.L!=2&&(Th(),Wn(17)),Na(this),this.s=2,Nd(this)):bM(this,this.Y-t)};function Nd(t){t.l.H==0||t.J||WM(t.l,t)}function Na(t){vv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_E(t.V),dM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function T_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||C_(n.i,t))){if(!t.K&&C_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zm(n),Ev(n);else break e;NE(n),Wn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=af(jn(n.ib,n),6e3));if(1>=NM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pa(n,11)}else if((t.K||n.g==t)&&Zm(n),!xh(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(CE(i,i.h),i.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,bt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=GM(r,r.J?r.pa:null,r.Y),o.K){PM(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(vv(a),uf(a)),r.g=o}else BM(r);0<n.j.length&&Sv(n)}else u[0]!="stop"&&u[0]!="close"||Pa(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Pa(n,7):AE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Th(4)}catch{}}function PK(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(av(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function RK(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(av(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function EM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(av(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=RK(t),r=PK(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var SM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ha(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ha){this.h=t.h,Xm(this,t.j),this.s=t.s,this.g=t.g,Jm(this,t.m),this.l=t.l;var e=t.i,n=new Ch;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jk(this,n),this.o=t.o}else t&&(e=String(t).match(SM))?(this.h=!1,Xm(this,e[1]||"",!0),this.s=Ju(e[2]||""),this.g=Ju(e[3]||"",!0),Jm(this,e[4]),this.l=Ju(e[5]||"",!0),Jk(this,e[6]||"",!0),this.o=Ju(e[7]||"")):(this.h=!1,this.i=new Ch(null,this.h))}Ha.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zu(e,Zk,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zu(e,Zk,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zu(n,n.charAt(0)=="/"?OK:MK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zu(n,FK)),t.join("")};function qi(t){return new Ha(t)}function Xm(t,e,n){t.j=n?Ju(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Jk(t,e,n){e instanceof Ch?(t.i=e,VK(t.i,t.h)):(n||(e=Zu(e,LK)),t.i=new Ch(e,t.h))}function bt(t,e,n){t.i.set(e,n)}function wv(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ju(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Zk=/[#\/\?@]/g,MK=/[#\?:]/g,OK=/[#\?]/g,LK=/[#\?@]/g,FK=/#/g;function Ch(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fa(t){t.g||(t.g=new Map,t.h=0,t.i&&jK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Ch.prototype;oe.add=function(t,e){fa(this),this.i=null,t=gu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TM(t,e){fa(t),e=gu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function CM(t,e){return fa(t),e=gu(t,e),t.g.has(e)}oe.forEach=function(t,e){fa(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};oe.ta=function(){fa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};oe.Z=function(t){fa(this);let e=[];if(typeof t=="string")CM(this,t)&&(e=e.concat(this.g.get(gu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return fa(this),this.i=null,t=gu(this,t),CM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kM(t,e,n){TM(t,e),0<n.length&&(t.i=null,t.g.set(gu(t,e),fE(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function gu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VK(t,e){e&&!t.j&&(fa(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(TM(this,r),kM(this,s,n))},t)),t.j=e}var $K=class{constructor(t,e){this.g=t,this.map=e}};function IM(t){this.l=t||UK,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.g&&Ne.g.Ka&&Ne.g.Ka()&&Ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UK=10;function AM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function NM(t){return t.h?1:t.g?t.g.size:0}function C_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function CE(t,e){t.g?t.g.add(e):t.h=e}function PM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}IM.prototype.cancel=function(){if(this.i=RM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function RM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return fE(t.i)}var BK=class{stringify(t){return Ne.JSON.stringify(t,void 0)}parse(t){return Ne.JSON.parse(t,void 0)}};function zK(){this.g=new BK}function WK(t,e,n){const r=n||"";try{EM(t,function(s,i){let o=s;lv(s)&&(o=wE(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function HK(t,e){const n=new pv;if(Ne.Image){const r=new Image;r.onload=tp(rp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tp(rp,n,r,"TestLoadImage: error",!1,e),r.onabort=tp(rp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tp(rp,n,r,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rp(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function xv(t){this.l=t.ec||null,this.j=t.ob||!1}ln(xv,EE);xv.prototype.g=function(){return new _v(this.l,this.j)};xv.prototype.i=function(t){return function(){return t}}({});function _v(t,e){an.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=kE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ln(_v,an);var kE=0;oe=_v.prototype;oe.open=function(t,e){if(this.readyState!=kE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kh(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,df(this)),this.readyState=kE};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kh(this)),this.g&&(this.readyState=3,kh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?df(this):kh(this),this.readyState==3&&jM(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,df(this))};oe.Ya=function(t){this.g&&(this.response=t,df(this))};oe.ka=function(){this.g&&df(this)};function df(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kh(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_v.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qK=Ne.JSON.parse;function Lt(t){an.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DM,this.L=this.M=!1}ln(Lt,an);var DM="",GK=/^https?$/i,KK=["POST","PUT"];oe=Lt.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():b_.g(),this.C=this.u?Xk(this.u):Xk(b_),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){eI(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Ne.FormData&&t instanceof Ne.FormData,!(0<=XD(KK,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LM(this),0<this.B&&((this.L=QK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=bE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){eI(this,i)}};function QK(t){return Hc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof hE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))};function eI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MM(t),bv(t)}function MM(t){t.F||(t.F=!0,yn(t,"complete"),yn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yn(this,"complete"),yn(this,"abort"),bv(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bv(this,!0)),Lt.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?OM(this):this.kb())};oe.kb=function(){OM(this)};function OM(t){if(t.h&&typeof hE<"u"&&(!t.C[1]||qs(t)!=4||t.da()!=2)){if(t.v&&qs(t)==4)bE(t.La,0,t);else if(yn(t,"readystatechange"),qs(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(SM)[1]||null;!s&&Ne.self&&Ne.self.location&&(s=Ne.self.location.protocol.slice(0,-1)),r=!GK.test(s?s.toLowerCase():"")}n=r}if(n)yn(t,"complete"),yn(t,"success");else{t.m=6;try{var i=2<qs(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",MM(t)}}finally{bv(t)}}}}function bv(t,e){if(t.g){LM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||yn(t,"ready");try{n.onreadystatechange=r}catch{}}}function LM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ne.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function qs(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qK(e)}};function tI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case DM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YK(t){const e={};t=(t.g&&2<=qs(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(xh(t[r]))continue;var n=_K(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}fK(e,function(r){return r.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function FM(t){let e="";return mE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function IE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=FM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):bt(t,e,n))}function Ou(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VM(t){this.Ga=0,this.j=[],this.l=new pv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ou("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ou("baseRetryDelayMs",5e3,t),this.hb=Ou("retryDelaySeedMs",1e4,t),this.eb=Ou("forwardChannelMaxRetries",2,t),this.xa=Ou("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new IM(t&&t.concurrentRequestLimit),this.Ja=new zK,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=VM.prototype;oe.ra=8;oe.H=1;function AE(t){if($M(t),t.H==3){var e=t.W++,n=qi(t.I);if(bt(n,"SID",t.K),bt(n,"RID",e),bt(n,"TYPE","terminate"),hf(t,n),e=new cf(t,t.l,e),e.L=2,e.A=wv(qi(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon)try{n=Ne.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ne.Image&&(new Image().src=e.A,n=!0),n||(e.g=KM(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uf(e)}qM(t)}function Ev(t){t.g&&(PE(t),t.g.cancel(),t.g=null)}function $M(t){Ev(t),t.u&&(Ne.clearTimeout(t.u),t.u=null),Zm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ne.clearTimeout(t.m),t.m=null)}function Sv(t){if(!AM(t.i)&&!t.m){t.m=!0;var e=t.Na;bh||lM(),Eh||(bh(),Eh=!0),xE.add(e,t),t.C=0}}function XK(t,e){return NM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=af(jn(t.Na,t,e),HM(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new cf(this,this.l,t);let i=this.s;if(this.U&&(i?(i=tM(i),nM(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=UM(this,s,e),n=qi(this.I),bt(n,"RID",t),bt(n,"CVER",22),this.F&&bt(n,"X-HTTP-Session-Id",this.F),hf(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(FM(i)))+"&"+e:this.o&&IE(n,this.o,i)),CE(this.i,s),this.bb&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",e),bt(n,"SID","null"),s.aa=!0,S_(s,n,null)):S_(s,n,e),this.H=2}}else this.H==3&&(t?nI(this,t):this.j.length==0||AM(this.i)||nI(this))};function nI(t,e){var n;e?n=e.m:n=t.W++;const r=qi(t.I);bt(r,"SID",t.K),bt(r,"RID",n),bt(r,"AID",t.V),hf(t,r),t.o&&t.s&&IE(r,t.o,t.s),n=new cf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=UM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),CE(t.i,n),S_(n,r,e)}function hf(t,e){t.na&&mE(t.na,function(n,r){bt(e,r,n)}),t.h&&EM({},function(n,r){bt(e,r,n)})}function UM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{WK(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function BM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bh||lM(),Eh||(bh(),Eh=!0),xE.add(e,t),t.A=0}}function NE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=af(jn(t.Ma,t),HM(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,zM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=af(jn(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),Ev(this),zM(this))};function PE(t){t.B!=null&&(Ne.clearTimeout(t.B),t.B=null)}function zM(t){t.g=new cf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=qi(t.wa);bt(e,"RID","rpc"),bt(e,"SID",t.K),bt(e,"AID",t.V),bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&bt(e,"TO",t.qa),bt(e,"TYPE","xmlhttp"),hf(t,e),t.o&&t.s&&IE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=wv(qi(e)),n.u=null,n.S=!0,wM(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,Ev(this),NE(this),Wn(19))};function Zm(t){t.v!=null&&(Ne.clearTimeout(t.v),t.v=null)}function WM(t,e){var n=null;if(t.g==e){Zm(t),PE(t),t.g=null;var r=2}else if(C_(t.i,e))n=e.F,PM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=mv(),yn(r,new pM(r,n)),Sv(t)}else BM(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&XK(t,e)||r==2&&NE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Pa(t,5);break;case 4:Pa(t,10);break;case 3:Pa(t,6);break;default:Pa(t,2)}}}function HM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Ha("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||Xm(n,"https"),wv(n)),HK(n.toString(),r)}else Wn(2);t.H=0,t.h&&t.h.za(e),qM(t),$M(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))};function qM(t){if(t.H=0,t.ma=[],t.h){const e=RM(t.i);(e.length!=0||t.j.length!=0)&&(qk(t.ma,e),qk(t.ma,t.j),t.i.i.length=0,fE(t.j),t.j.length=0),t.h.ya()}}function GM(t,e,n){var r=n instanceof Ha?qi(n):new Ha(n);if(r.g!="")e&&(r.g=e+"."+r.g),Jm(r,r.m);else{var s=Ne.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ha(null);r&&Xm(i,r),e&&(i.g=e),s&&Jm(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&bt(r,n,e),bt(r,"VER",t.ra),hf(t,r),r}function KM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Lt(new xv({ob:n})):new Lt(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function QM(){}oe=QM.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function eg(){if(Hc&&!(10<=Number(cK)))throw Error("Environmental error: no available transport.")}eg.prototype.g=function(t,e){return new Cr(t,e)};function Cr(t,e){an.call(this),this.g=new VM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yu(this)}ln(Cr,an);Cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=GM(t,null,t.Y),Sv(t)};Cr.prototype.close=function(){AE(this.g)};Cr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=wE(t),t=n);e.j.push(new $K(e.fb++,t)),e.H==3&&Sv(e)};Cr.prototype.N=function(){this.g.h=null,delete this.j,AE(this.g),delete this.g,Cr.$.N.call(this)};function YM(t){SE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ln(YM,SE);function XM(){TE.call(this),this.status=1}ln(XM,TE);function yu(t){this.g=t}ln(yu,QM);yu.prototype.Ba=function(){yn(this.g,"a")};yu.prototype.Aa=function(t){yn(this.g,new YM(t))};yu.prototype.za=function(t){yn(this.g,new XM)};yu.prototype.ya=function(){yn(this.g,"b")};function JK(){this.blockSize=-1}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ln(Cs,JK);Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cx(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Cs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)cx(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){cx(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){cx(this,r),s=0;break}}this.h=s,this.i+=e};Cs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function dt(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var ZK={};function RE(t){return-128<=t&&128>t?oK(t,function(e){return new dt([e|0],0>e?-1:0)}):new dt([t|0],0>t?-1:0)}function Gs(t){if(isNaN(t)||!isFinite(t))return mc;if(0>t)return pn(Gs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=k_;return new dt(e,0)}function JM(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(JM(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Gs(Math.pow(e,8)),r=mc,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Gs(Math.pow(e,i)),r=r.R(i).add(Gs(o))):(r=r.R(n),r=r.add(Gs(o)))}return r}var k_=4294967296,mc=RE(0),I_=RE(1),rI=RE(16777216);oe=dt.prototype;oe.ea=function(){if(Br(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:k_+r)*e,e*=k_}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ni(this))return"0";if(Br(this))return"-"+pn(this).toString(t);for(var e=Gs(Math.pow(t,6)),n=this,r="";;){var s=ng(n,e).g;n=tg(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Ni(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ni(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Br(t){return t.h==-1}oe.X=function(t){return t=tg(this,t),Br(t)?-1:Ni(t)?0:1};function pn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new dt(n,~t.h).add(I_)}oe.abs=function(){return Br(this)?pn(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new dt(n,n[n.length-1]&-2147483648?-1:0)};function tg(t,e){return t.add(pn(e))}oe.R=function(t){if(Ni(this)||Ni(t))return mc;if(Br(this))return Br(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(Br(t))return pn(this.R(pn(t)));if(0>this.X(rI)&&0>t.X(rI))return Gs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,sp(n,2*r+2*s),n[2*r+2*s+1]+=i*l,sp(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,sp(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,sp(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new dt(n,0)};function sp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lu(t,e){this.g=t,this.h=e}function ng(t,e){if(Ni(e))throw Error("division by zero");if(Ni(t))return new Lu(mc,mc);if(Br(t))return e=ng(pn(t),e),new Lu(pn(e.g),pn(e.h));if(Br(e))return e=ng(t,pn(e)),new Lu(pn(e.g),e.h);if(30<t.g.length){if(Br(t)||Br(e))throw Error("slowDivide_ only works with positive integers.");for(var n=I_,r=e;0>=r.X(t);)n=sI(n),r=sI(r);var s=kl(n,1),i=kl(r,1);for(r=kl(r,2),n=kl(n,2);!Ni(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=kl(r,1),n=kl(n,1)}return e=tg(t,s.R(e)),new Lu(s,e)}for(s=mc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Gs(n),o=i.R(e);Br(o)||0<o.X(t);)n-=r,i=Gs(n),o=i.R(e);Ni(i)&&(i=I_),s=s.add(i),t=tg(t,o)}return new Lu(s,t)}oe.gb=function(t){return ng(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new dt(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new dt(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new dt(n,this.h^t.h)};function sI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new dt(n,t.h)}function kl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new dt(s,t.h)}eg.prototype.createWebChannel=eg.prototype.g;Cr.prototype.send=Cr.prototype.u;Cr.prototype.open=Cr.prototype.m;Cr.prototype.close=Cr.prototype.close;gv.NO_ERROR=0;gv.TIMEOUT=8;gv.HTTP_ERROR=6;mM.COMPLETE="complete";gM.EventType=lf;lf.OPEN="a";lf.CLOSE="b";lf.ERROR="c";lf.MESSAGE="d";an.prototype.listen=an.prototype.O;Lt.prototype.listenOnce=Lt.prototype.P;Lt.prototype.getLastError=Lt.prototype.Sa;Lt.prototype.getLastErrorCode=Lt.prototype.Ia;Lt.prototype.getStatus=Lt.prototype.da;Lt.prototype.getResponseJson=Lt.prototype.Wa;Lt.prototype.getResponseText=Lt.prototype.ja;Lt.prototype.send=Lt.prototype.ha;Lt.prototype.setWithCredentials=Lt.prototype.Oa;Cs.prototype.digest=Cs.prototype.l;Cs.prototype.reset=Cs.prototype.reset;Cs.prototype.update=Cs.prototype.j;dt.prototype.add=dt.prototype.add;dt.prototype.multiply=dt.prototype.R;dt.prototype.modulo=dt.prototype.gb;dt.prototype.compare=dt.prototype.X;dt.prototype.toNumber=dt.prototype.ea;dt.prototype.toString=dt.prototype.toString;dt.prototype.getBits=dt.prototype.D;dt.fromNumber=Gs;dt.fromString=JM;var eQ=function(){return new eg},tQ=function(){return mv()},ux=gv,nQ=mM,rQ=wl,iI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ip=gM,sQ=Lt,iQ=Cs,gc=dt;const oI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new tv("@firebase/firestore");function Fu(){return tl.logLevel}function ie(t,...e){if(tl.logLevel<=Ke.DEBUG){const n=e.map(jE);tl.debug(`Firestore (${vu}): ${t}`,...n)}}function ai(t,...e){if(tl.logLevel<=Ke.ERROR){const n=e.map(jE);tl.error(`Firestore (${vu}): ${t}`,...n)}}function qc(t,...e){if(tl.logLevel<=Ke.WARN){const n=e.map(jE);tl.warn(`Firestore (${vu}): ${t}`,...n)}}function jE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function vt(t,e){t||Ae()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class aQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lQ{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Oi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new ZM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Nn(e)}}class cQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new dQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=fQ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function rt(t,e){return t<e?-1:t>e?1:0}function Gc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new en(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new en(0,0))}static max(){return new je(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ih.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ih?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Ih{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const pQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ih{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return pQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new de(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new de(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new de(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new de(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Et.fromString(e))}static fromName(e){return new we(Et.fromString(e).popFirst(5))}static empty(){return new we(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Et(e.slice()))}}function mQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new Zo(s,we.empty(),e)}function gQ(t){return new Zo(t.readTime,t.key,-1)}class Zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zo(je.min(),we.empty(),-1)}static max(){return new Zo(je.max(),we.empty(),-1)}}function yQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==vQ)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Pd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=ME(r.target.error);this.V.reject(new Pd(e,s))}}static open(e,n,r,s){try{return new DE(n,e.transaction(s,r))}catch(i){throw new Pd(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ie("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new _Q(n)}}class Ra{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ra.S(Gt())===12.2&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ie("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!nE())return!1;if(Ra.C())return!0;const e=Gt(),n=Ra.S(e),r=0<n&&n<10,s=Ra.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ie("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new de(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new de(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Pd(e,o))},s.onupgradeneeded=i=>{ie("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{ie("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=DE.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),W.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(ie("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class xQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ba(this.k.delete())}}class Pd extends de{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function pf(t){return t.name==="IndexedDbTransactionError"}class _Q{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return ie("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(n=>(n===void 0&&(n=null),ie("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ie("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return ie("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new W((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new W((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){ie("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new W((r,s)=>{n.onerror=i=>{const o=ME(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new W((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new xQ(a),u=n(a.primaryKey,a.value,l);if(u instanceof W){const d=u.catch(h=>(l.done(),W.reject(h)));r.push(d)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>W.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ba(t){return new W((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=ME(r.target.error);n(s)}})}let aI=!1;function ME(t){const e=Ra.S(Gt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aI||(aI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}OE._e=-1;function Tv(t){return t==null}function rg(t){return t===0&&1/t==-1/0}function bQ(t){return typeof t=="number"&&Number.isInteger(t)&&!rg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new op(this.root,e,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new op(this.root,e,this.comparator,!0)}}class op{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??fn.RED,this.left=s??fn.EMPTY,this.right=i??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new fn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cI(this.data.getIterator())}getIteratorFrom(e){return new cI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class cI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new gs([])}unionWith(e){let n=new vn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nO("Invalid base64 string: "+i):i}}(e);return new On(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const EQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(vt(!!t),typeof t=="string"){let e=0;const n=EQ.exec(t);if(vt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FE(t){const e=t.mapValue.fields.__previous_value__;return LE(e)?FE(e):e}function Ah(t){const e=ea(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Nh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LE(t)?4:TQ(t)?9007199254740991:10:Ae()}function li(t,e){if(t===e)return!0;const n=rl(t);if(n!==rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ea(s.timestampValue),a=ea(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return nl(s.bytesValue).isEqual(nl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Wt(s.geoPointValue.latitude)===Wt(i.geoPointValue.latitude)&&Wt(s.geoPointValue.longitude)===Wt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Wt(s.integerValue)===Wt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Wt(s.doubleValue),a=Wt(i.doubleValue);return o===a?rg(o)===rg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(lI(o)!==lI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!li(o[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function Ph(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function Kc(t,e){if(t===e)return 0;const n=rl(t),r=rl(e);if(n!==r)return rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Wt(i.integerValue||i.doubleValue),l=Wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uI(t.timestampValue,e.timestampValue);case 4:return uI(Ah(t),Ah(e));case 5:return rt(t.stringValue,e.stringValue);case 6:return function(i,o){const a=nl(i),l=nl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=rt(a[u],l[u]);if(d!==0)return d}return rt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=rt(Wt(i.latitude),Wt(o.latitude));return a!==0?a:rt(Wt(i.longitude),Wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=Kc(a[u],l[u]);if(d)return d}return rt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ap.mapValue&&o===ap.mapValue)return 0;if(i===ap.mapValue)return 1;if(o===ap.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=rt(l[h],d[h]);if(f!==0)return f;const p=Kc(a[l[h]],u[d[h]]);if(p!==0)return p}return rt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function uI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rt(t,e);const n=ea(t),r=ea(e),s=rt(n.seconds,r.seconds);return s!==0?s:rt(n.nanos,r.nanos)}function Qc(t){return A_(t)}function A_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=A_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${A_(n.fields[o])}`;return s+"}"}(t.mapValue):Ae()}function dI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N_(t){return!!t&&"integerValue"in t}function VE(t){return!!t&&"arrayValue"in t}function hI(t){return!!t&&"nullValue"in t}function fI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Up(t){return!!t&&"mapValue"in t}function Rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Up(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rd(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Rd(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Up(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Up(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wu(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zr(Rd(this.value))}}function rO(t){const e=[];return wu(t.fields,(n,r)=>{const s=new mn([n]);if(Up(r)){const i=rO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new gs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rn(e,0,je.min(),je.min(),je.min(),zr.empty(),0)}static newFoundDocument(e,n,r,s){return new Rn(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Rn(e,2,n,je.min(),je.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,je.min(),je.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.position=e,this.inclusive=n}}function pI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=Kc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n="asc"){this.field=e,this.dir=n}}function CQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{}class qt extends sO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IQ(e,n,r):n==="array-contains"?new PQ(e,r):n==="in"?new RQ(e,r):n==="not-in"?new jQ(e,r):n==="array-contains-any"?new DQ(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AQ(e,r):new NQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kc(n,this.value)):n!==null&&rl(this.value)===rl(n)&&this.matchesComparison(Kc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ks extends sO{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ks(e,n)}matches(e){return iO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function iO(t){return t.op==="and"}function oO(t){return kQ(t)&&iO(t)}function kQ(t){for(const e of t.filters)if(e instanceof ks)return!1;return!0}function P_(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Qc(t.value);if(oO(t))return t.filters.map(e=>P_(e)).join(",");{const e=t.filters.map(n=>P_(n)).join(",");return`${t.op}(${e})`}}function aO(t,e){return t instanceof qt?function(r,s){return s instanceof qt&&r.op===s.op&&r.field.isEqual(s.field)&&li(r.value,s.value)}(t,e):t instanceof ks?function(r,s){return s instanceof ks&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&aO(o,s.filters[a]),!0):!1}(t,e):void Ae()}function lO(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qc(n.value)}`}(t):t instanceof ks?function(n){return n.op.toString()+" {"+n.getFilters().map(lO).join(" ,")+"}"}(t):"Filter"}class IQ extends qt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class AQ extends qt{constructor(e,n){super(e,"in",n),this.keys=cO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NQ extends qt{constructor(e,n){super(e,"not-in",n),this.keys=cO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class PQ extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VE(n)&&Ph(n.arrayValue,this.value)}}class RQ extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ph(this.value.arrayValue,n)}}class jQ extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ph(this.value.arrayValue,n)}}class DQ extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ph(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function gI(t,e=null,n=[],r=[],s=null,i=null,o=null){return new MQ(t,e,n,r,s,i,o)}function $E(t){const e=Me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>P_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qc(r)).join(",")),e.ce=n}return e.ce}function UE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mI(t.startAt,e.startAt)&&mI(t.endAt,e.endAt)}function R_(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function OQ(t,e,n,r,s,i,o,a){return new mf(t,e,n,r,s,i,o,a)}function Cv(t){return new mf(t)}function yI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uO(t){return t.collectionGroup!==null}function jd(t){const e=Me(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vn(mn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new ig(i,r))}),n.has(mn.keyField().canonicalString())||e.le.push(new ig(mn.keyField(),r))}return e.le}function ti(t){const e=Me(t);return e.he||(e.he=LQ(e,jd(t))),e.he}function LQ(t,e){if(t.limitType==="F")return gI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ig(s.field,i)});const n=t.endAt?new sg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sg(t.startAt.position,t.startAt.inclusive):null;return gI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function j_(t,e){const n=t.filters.concat([e]);return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D_(t,e,n){return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kv(t,e){return UE(ti(t),ti(e))&&t.limitType===e.limitType}function dO(t){return`${$E(ti(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lO(s)).join(", ")}]`),Tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qc(s)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function Iv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of jd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=pI(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,jd(r),s)||r.endAt&&!function(o,a,l){const u=pI(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,jd(r),s))}(t,e)}function FQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hO(t){return(e,n)=>{let r=!1;for(const s of jd(t)){const i=VQ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function VQ(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Kc(l,u):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wu(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=new Nt(we.comparator);function Gi(){return $Q}const fO=new Nt(we.comparator);function ed(...t){let e=fO;for(const n of t)e=e.insert(n.key,n);return e}function pO(t){let e=fO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ja(){return Dd()}function mO(){return Dd()}function Dd(){return new xu(t=>t.toString(),(t,e)=>t.isEqual(e))}const UQ=new Nt(we.comparator),BQ=new vn(we.comparator);function Ge(...t){let e=BQ;for(const n of t)e=e.add(n);return e}const zQ=new vn(rt);function WQ(){return zQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(e)?"-0":e}}function yO(t){return{integerValue:""+t}}function HQ(t,e){return bQ(e)?yO(e):gO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this._=void 0}}function qQ(t,e,n){return t instanceof og?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&LE(i)&&(i=FE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Rh?wO(t,e):t instanceof jh?xO(t,e):function(s,i){const o=vO(s,i),a=vI(o)+vI(s.Ie);return N_(o)&&N_(s.Ie)?yO(a):gO(s.serializer,a)}(t,e)}function GQ(t,e,n){return t instanceof Rh?wO(t,e):t instanceof jh?xO(t,e):n}function vO(t,e){return t instanceof ag?function(r){return N_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class og extends Av{}class Rh extends Av{constructor(e){super(),this.elements=e}}function wO(t,e){const n=_O(e);for(const r of t.elements)n.some(s=>li(s,r))||n.push(r);return{arrayValue:{values:n}}}class jh extends Av{constructor(e){super(),this.elements=e}}function xO(t,e){let n=_O(e);for(const r of t.elements)n=n.filter(s=>!li(s,r));return{arrayValue:{values:n}}}class ag extends Av{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vI(t){return Wt(t.integerValue||t.doubleValue)}function _O(t){return VE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KQ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rh&&s instanceof Rh||r instanceof jh&&s instanceof jh?Gc(r.elements,s.elements,li):r instanceof ag&&s instanceof ag?li(r.Ie,s.Ie):r instanceof og&&s instanceof og}(t.transform,e.transform)}class QQ{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nv{}function bO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SO(t.key,Li.none()):new gf(t.key,t.data,Li.none());{const n=t.data,r=zr.empty();let s=new vn(mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new xl(t.key,r,new gs(s.toArray()),Li.none())}}function YQ(t,e,n){t instanceof gf?function(s,i,o){const a=s.value.clone(),l=xI(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xl?function(s,i,o){if(!Bp(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=xI(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(EO(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Md(t,e,n,r){return t instanceof gf?function(i,o,a,l){if(!Bp(i.precondition,o))return a;const u=i.value.clone(),d=_I(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xl?function(i,o,a,l){if(!Bp(i.precondition,o))return a;const u=_I(i.fieldTransforms,l,o),d=o.data;return d.setAll(EO(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Bp(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XQ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=vO(r.transform,s||null);i!=null&&(n===null&&(n=zr.empty()),n.set(r.field,i))}return n||null}function wI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gc(r,s,(i,o)=>KQ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gf extends Nv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xl extends Nv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function EO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xI(t,e,n){const r=new Map;vt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GQ(o,a,n[s]))}return r}function _I(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,qQ(i,o,e))}return r}class SO extends Nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JQ extends Nv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YQ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Md(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=bO(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,(n,r)=>wI(n,r))&&Gc(this.baseMutations,e.baseMutations,(n,r)=>wI(n,r))}}class BE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){vt(e.mutations.length===r.length);let s=function(){return UQ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new BE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ye;function nY(t){switch(t){default:return Ae();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function TO(t){if(t===void 0)return ai("GRPC error has no .code"),z.UNKNOWN;switch(t){case Bt.OK:return z.OK;case Bt.CANCELLED:return z.CANCELLED;case Bt.UNKNOWN:return z.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return z.INTERNAL;case Bt.UNAVAILABLE:return z.UNAVAILABLE;case Bt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Bt.NOT_FOUND:return z.NOT_FOUND;case Bt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Bt.ABORTED:return z.ABORTED;case Bt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Bt.DATA_LOSS:return z.DATA_LOSS;default:return Ae()}}(Ye=Bt||(Bt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sY=new gc([4294967295,4294967295],0);function bI(t){const e=rY().encode(t),n=new iQ;return n.update(e),new Uint8Array(n.digest())}function EI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gc([n,r],0),new gc([s,i],0)]}class zE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=gc.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(gc.fromNumber(r)));return s.compare(sY)===1&&(s=new gc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=bI(e),[r,s]=EI(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=bI(e),[r,s]=EI(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pv(je.min(),s,new Nt(rt),Gi(),Ge())}}class yf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yf(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class CO{constructor(e,n){this.targetId=e,this.fe=n}}class kO{constructor(e,n,r=On.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class SI{constructor(){this.ge=0,this.pe=CI(),this.ye=On.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ge(),n=Ge(),r=Ge();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae()}}),new yf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=CI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,vt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class iY{constructor(e){this.Be=e,this.ke=new Map,this.qe=Gi(),this.Qe=TI(),this.Ke=new Nt(rt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(R_(i))if(r===0){const o=new we(i.path);this.We(n,o,Rn.newNoDocument(o,je.min()))}else vt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=nl(r).toUint8Array()}catch(l){if(l instanceof nO)return qc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zE(o,s,i)}catch(l){return qc(l instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&R_(a.target)){const l=new we(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Rn.newNoDocument(l,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=Ge();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Pv(e,n,this.Ke,this.qe,r);return this.qe=Gi(),this.Qe=TI(),this.Ke=new Nt(rt),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new SI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new vn(rt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new SI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function TI(){return new Nt(we.comparator)}function CI(){return new Nt(we.comparator)}const oY={asc:"ASCENDING",desc:"DESCENDING"},aY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lY={and:"AND",or:"OR"};class cY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function M_(t,e){return t.useProto3Json||Tv(e)?e:{value:e}}function lg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uY(t,e){return lg(t,e.toTimestamp())}function ni(t){return vt(!!t),je.fromTimestamp(function(n){const r=ea(n);return new en(r.seconds,r.nanos)}(t))}function WE(t,e){return O_(t,e).canonicalString()}function O_(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AO(t){const e=Et.fromString(t);return vt(DO(e)),e}function L_(t,e){return WE(t.databaseId,e.path)}function dx(t,e){const n=AO(e);if(n.get(1)!==t.databaseId.projectId)throw new de(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(PO(n))}function NO(t,e){return WE(t.databaseId,e)}function dY(t){const e=AO(t);return e.length===4?Et.emptyPath():PO(e)}function F_(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PO(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kI(t,e,n){return{name:L_(t,e),fields:n.value.mapValue.fields}}function hY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(vt(d===void 0||typeof d=="string"),On.fromBase64String(d||"")):(vt(d===void 0||d instanceof Uint8Array),On.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:TO(u.code);return new de(d,u.message||"")}(o);n=new kO(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dx(t,r.document.name),i=ni(r.document.updateTime),o=r.document.createTime?ni(r.document.createTime):je.min(),a=new zr({mapValue:{fields:r.document.fields}}),l=Rn.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new zp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dx(t,r.document),i=r.readTime?ni(r.readTime):je.min(),o=Rn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dx(t,r.document),i=r.removedTargetIds||[];n=new zp([],i,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tY(s,i),a=r.targetId;n=new CO(a,o)}}return n}function fY(t,e){let n;if(e instanceof gf)n={update:kI(t,e.key,e.value)};else if(e instanceof SO)n={delete:L_(t,e.key)};else if(e instanceof xl)n={update:kI(t,e.key,e.data),updateMask:bY(e.fieldMask)};else{if(!(e instanceof JQ))return Ae();n={verify:L_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof og)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ag)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:uY(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ae()}(t,e.precondition)),n}function pY(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ni(s.updateTime):ni(i);return o.isEqual(je.min())&&(o=ni(i)),new QQ(o,s.transformResults||[])}(n,e))):[]}function mY(t,e){return{documents:[NO(t,e.path)]}}function gY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NO(t,s);const i=function(u){if(u.length!==0)return jO(ks.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Ll(f.field),direction:wY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=M_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:s}}function yY(t){let e=dY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){vt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=RO(h);return f instanceof ks&&oO(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new ig(Fl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Tv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new sg(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new sg(p,f)}(n.endAt)),OQ(e,s,o,i,a,"F",l,u)}function vY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fl(n.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fl(n.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ks.create(n.compositeFilter.filters.map(r=>RO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function wY(t){return oY[t]}function xY(t){return aY[t]}function _Y(t){return lY[t]}function Ll(t){return{fieldPath:t.canonicalString()}}function Fl(t){return mn.fromServerFormat(t.fieldPath)}function jO(t){return t instanceof qt?function(n){if(n.op==="=="){if(fI(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(hI(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fI(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(hI(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:xY(n.op),value:n.value}}}(t):t instanceof ks?function(n){const r=n.getFilters().map(s=>jO(s));return r.length===1?r[0]:{compositeFilter:{op:_Y(n.op),filters:r}}}(t):Ae()}function bY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s,i=je.min(),o=je.min(),a=On.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.ct=e}}function SY(t){const e=yY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY{constructor(){this._n=new CY}addToCollectionParentIndex(e,n){return this._n.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Zo.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class CY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vn(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Yc(0)}static Ln(){return new Yc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(){this.changes=new xu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Md(r.mutation,s,gs.empty(),en.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const s=ja();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ed();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ja();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Gi();const o=Dd(),a=function(){return Dd()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof xl)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Md(d.mutation,u,d.mutation.getFieldMask(),en.now())):o.set(u.key,gs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new IY(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dd();let s=new Nt((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||gs.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Ge()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=mO();d.forEach(f=>{if(!i.has(f)){const p=bO(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(ja());let a=-1,l=i;return o.next(u=>W.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ge())).next(d=>({batchId:a,changes:pO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=ed();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ed();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const u=function(h,f){return new mf(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rn.newInvalidDocument(d)))});let a=ed();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Md(d.mutation,u,gs.empty(),en.now()),Iv(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return W.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ni(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:SY(s.bundledQuery),readTime:ni(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.overlays=new Nt(we.comparator),this.hr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ja();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=ja(),i=n.length+1,o=new we(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Nt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=ja(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=ja(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return W.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eY(n,r));let i=this.hr.get(n);i===void 0&&(i=Ge(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.Pr=new vn(nn.Ir),this.Tr=new vn(nn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new nn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new we(new Et([])),r=new nn(n,e),s=new nn(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new we(new Et([])),r=new nn(n,e),s=new nn(n,e+1);let i=Ge();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return we.comparator(e.key,n.key)||rt(e.pr,n.pr)}static Er(e,n){return rt(e.pr,n.pr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new vn(nn.Ir)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZQ(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new nn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),s=new nn(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(rt);return n.forEach(s=>{const i=new nn(s,0),o=new nn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),W.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const o=new nn(new we(i),0);let a=new vn(rt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.pr)),!0)},o),W.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){vt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return W.forEach(n.mutations,s=>{const i=new nn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new nn(n,0),s=this.wr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.vr=e,this.docs=function(){return new Nt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Rn.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Gi();const o=n.path,a=new we(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||yQ(gQ(d),r)<=0||(s.has(d.key)||Iv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ae()}Fr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DY(this)}getSize(e){return W.resolve(this.size)}}class DY extends kY{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e){this.persistence=e,this.Mr=new xu(n=>$E(n),UE),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Or=0,this.Nr=new HE,this.targetCount=0,this.Lr=Yc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),W.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.qn(n),W.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.Br={},this.overlays={},this.kr=new OE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new MY(this),this.indexManager=new TY,this.remoteDocumentCache=function(s){return new jY(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new EY(n),this.$r=new NY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new RY(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const s=new LY(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return W.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class LY extends wQ{constructor(e){super(),this.currentSequenceNumber=e}}class qE{constructor(e){this.persistence=e,this.zr=new HE,this.jr=null}static Hr(e){return new qE(e)}get Jr(){if(this.jr)return this.jr;throw Ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),W.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Jr,r=>{const s=we.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,je.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return W.or([()=>W.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=Ge(),s=Ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new GE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return uW()?8:Ra.v(Gt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new FY;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Fu()<=Ke.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),W.resolve()):(Fu()<=Ke.DEBUG&&ie("QueryEngine","Query:",Ol(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Fu()<=Ke.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):W.resolve())}ji(e,n){if(yI(n))return W.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=D_(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ge(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,D_(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,s){return yI(n)||s.isEqual(je.min())?W.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?W.resolve(null):(Fu()<=Ke.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.es(e,o,n,mQ(s,-1)).next(a=>a))})}Zi(e,n){let r=new vn(hO(e));return n.forEach((s,i)=>{Iv(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Fu()<=Ke.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.zi.getDocumentsMatchingQuery(e,n,Zo.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Nt(rt),this.rs=new xu(i=>$E(i),UE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AY(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function UY(t,e,n,r){return new $Y(t,e,n,r)}async function MO(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function BY(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=W.resolve();return f.forEach(y=>{p=p.next(()=>d.getEntry(l,y)).next(v=>{const _=u.docVersions.get(y);vt(_!==null),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function OO(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function zY(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(On.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(v,_,w){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,d)&&a.push(n.Qr.updateTargetData(i,p))});let l=Gi(),u=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(WY(i,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(je.min())){const d=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=s,i))}function WY(t,e,n){let r=Ge(),s=Ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Gi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(je.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:s}})}function HY(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qY(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new No(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function V_(t,e,n){const r=Me(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pf(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function II(t,e,n){const r=Me(t);let s=je.min(),i=Ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Me(l),f=h.rs.get(d);return f!==void 0?W.resolve(h.ns.get(f)):h.Qr.getTargetData(u,d)}(r,o,ti(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:je.min(),n?i:Ge())).next(a=>(GY(r,FQ(e),a),{documents:a,hs:i})))}function GY(t,e,n){let r=t.ss.get(e)||je.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class AI{constructor(){this.activeTargetIds=WQ()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KY{constructor(){this.no=new AI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new AI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp=null;function hx(){return lp===null?lp=function(){return 268435456+Math.round(2147483648*Math.random())}():lp++,"0x"+lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class JY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=hx(),l=this.bo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,o),this.Co(n,l,u,s).then(d=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw qc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=YY[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=hx();return new Promise((o,a)=>{const l=new sQ;l.setWithCredentials(!0),l.listenOnce(nQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ux.NO_ERROR:const d=l.getResponseJson();ie(Cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ux.TIMEOUT:ie(Cn,`RPC '${e}' ${i} timed out`),a(new de(z.DEADLINE_EXCEEDED,"Request time out"));break;case ux.HTTP_ERROR:const h=l.getStatus();if(ie(Cn,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(p.status);a(new de(y,p.message))}else a(new de(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new de(z.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ie(Cn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ie(Cn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const s=hx(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eQ(),a=tQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");ie(Cn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const y=new XY({lo:_=>{p?ie(Cn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(ie(Cn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ie(Cn,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},ho:()=>h.close()}),v=(_,w,g)=>{_.listen(w,x=>{try{g(x)}catch(b){setTimeout(()=>{throw b},0)}})};return v(h,ip.EventType.OPEN,()=>{p||ie(Cn,`RPC '${e}' stream ${s} transport opened.`)}),v(h,ip.EventType.CLOSE,()=>{p||(p=!0,ie(Cn,`RPC '${e}' stream ${s} transport closed`),y.Vo())}),v(h,ip.EventType.ERROR,_=>{p||(p=!0,qc(Cn,`RPC '${e}' stream ${s} transport errored:`,_),y.Vo(new de(z.UNAVAILABLE,"The operation could not be completed")))}),v(h,ip.EventType.MESSAGE,_=>{var w;if(!p){const g=_.data[0];vt(!!g);const x=g,b=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(b){ie(Cn,`RPC '${e}' stream ${s} received error:`,b);const E=b.status;let S=function(j){const M=Bt[j];if(M!==void 0)return TO(M)}(E),k=b.message;S===void 0&&(S=z.INTERNAL,k="Unknown error status: "+E+" with message "+b.message),p=!0,y.Vo(new de(S,k)),h.close()}else ie(Cn,`RPC '${e}' stream ${s} received:`,g),y.mo(g)}}),v(a,rQ.STAT_EVENT,_=>{_.stat===iI.PROXY?ie(Cn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===iI.NOPROXY&&ie(Cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function fx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t){return new cY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n,r,s,i,o,a,l){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new LO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new de(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZY extends FO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=hY(this.serializer,e),r=function(i){if(!("targetChange"in i))return je.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?ni(o.readTime):je.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=F_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=R_(l)?{documents:mY(i,l)}:{query:gY(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IO(i,o.resumeToken);const u=M_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(je.min())>0){a.readTime=lg(i,o.snapshotVersion.toTimestamp());const u=M_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=vY(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=F_(this.serializer),n.removeTarget=e,this.t_(n)}}class eX extends FO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=pY(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.T_(r,n)}return vt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=F_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fY(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new de(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,O_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(z.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,O_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(z.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class nX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(ai(n),this.g_=!1):ie("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{_l(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Me(l);u.v_.add(4),await vf(u),u.x_.set("Unknown"),u.v_.delete(4),await jv(u)}(this))})}),this.x_=new nX(r,s)}}async function jv(t){if(_l(t))for(const e of t.F_)await e(!0)}async function vf(t){for(const e of t.F_)await e(!1)}function VO(t,e){const n=Me(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),XE(n)?YE(n):_u(n).Jo()&&QE(n,e))}function KE(t,e){const n=Me(t),r=_u(n);n.C_.delete(e),r.Jo()&&$O(n,e),n.C_.size===0&&(r.Jo()?r.Xo():_l(n)&&n.x_.set("Unknown"))}function QE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).c_(e)}function $O(t,e){t.O_.Oe(e),_u(t).l_(e)}function YE(t){t.O_=new iY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.x_.p_()}function XE(t){return _l(t)&&!_u(t).Ho()&&t.C_.size>0}function _l(t){return Me(t).v_.size===0}function UO(t){t.O_=void 0}async function sX(t){t.C_.forEach((e,n)=>{QE(t,e)})}async function iX(t,e){UO(t),XE(t)?(t.x_.S_(e),YE(t)):t.x_.set("Unknown")}async function oX(t,e,n){if(t.x_.set("Online"),e instanceof kO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cg(t,r)}else if(e instanceof zp?t.O_.$e(e):e instanceof CO?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(je.min()))try{const r=await OO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.C_.get(u);d&&i.C_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.C_.get(l);if(!d)return;i.C_.set(l,d.withResumeToken(On.EMPTY_BYTE_STRING,d.snapshotVersion)),$O(i,l);const h=new No(d.target,l,u,d.sequenceNumber);QE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await cg(t,r)}}async function cg(t,e,n){if(!pf(e))throw e;t.v_.add(1),await vf(t),t.x_.set("Offline"),n||(n=()=>OO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await jv(t)})}function BO(t,e){return e().catch(n=>cg(t,n,e))}async function Dv(t){const e=Me(t),n=ta(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;aX(e);)try{const s=await HY(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,lX(e,s)}catch(s){await cg(e,s)}zO(e)&&WO(e)}function aX(t){return _l(t)&&t.D_.length<10}function lX(t,e){t.D_.push(e);const n=ta(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function zO(t){return _l(t)&&!ta(t).Ho()&&t.D_.length>0}function WO(t){ta(t).start()}async function cX(t){ta(t).d_()}async function uX(t){const e=ta(t);for(const n of t.D_)e.I_(n.mutations)}async function dX(t,e,n){const r=t.D_.shift(),s=BE.from(r,e,n);await BO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dv(t)}async function hX(t,e){e&&ta(t).P_&&await async function(r,s){if(function(o){return nY(o)&&o!==z.ABORTED}(s.code)){const i=r.D_.shift();ta(r).Zo(),await BO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dv(r)}}(t,e),zO(t)&&WO(t)}async function PI(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=_l(n);n.v_.add(3),await vf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await jv(n)}async function fX(t,e){const n=Me(t);e?(n.v_.delete(2),await jv(n)):e||(n.v_.add(2),await vf(n),n.x_.set("Unknown"))}function _u(t){return t.N_||(t.N_=function(n,r,s){const i=Me(n);return i.R_(),new ZY(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:sX.bind(null,t),To:iX.bind(null,t),u_:oX.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),XE(t)?YE(t):t.x_.set("Unknown")):(await t.N_.stop(),UO(t))})),t.N_}function ta(t){return t.L_||(t.L_=function(n,r,s){const i=Me(n);return i.R_(),new eX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:cX.bind(null,t),To:hX.bind(null,t),E_:uX.bind(null,t),T_:dX.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Dv(t)):(await t.L_.stop(),t.D_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new JE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZE(t,e){if(ai("AsyncQueue",`${e}: ${t}`),pf(t))return new de(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new yc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.B_=new Nt(we.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xc{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xc(e,n,yc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class mX{constructor(){this.queries=new xu(e=>dO(e),kv),this.onlineState="Unknown",this.W_=new Set}}async function HO(t,e){const n=Me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new pX,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ZE(o,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&eS(n)}async function qO(t,e){const n=Me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gX(t,e){const n=Me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&eS(n)}function yX(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function eS(t){t.W_.forEach(e=>{e.next()})}var $_,jI;(jI=$_||($_={})).j_="default",jI.Cache="cache";class GO{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==$_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.key=e}}class QO{constructor(e){this.key=e}}class vX{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Ge(),this.mutatedKeys=Ge(),this.ha=hO(e),this.Pa=new yc(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new RI,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=Iv(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;f&&p?f.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),_=!0):this.da(f,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.ha(p,l)>0||u&&this.ha(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),_=!0):f&&!p&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(p?(o=o.add(p),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((d,h)=>function(p,y){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return v(p)-v(y)}(d.type,h.type)||this.ha(d.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new Xc(this.query,e.Pa,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new RI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Ge(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new QO(r))}),this.la.forEach(r=>{e.has(r)||n.push(new KO(r))}),n}fa(e){this.ua=e.hs,this.la=Ge();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Xc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class wX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xX{constructor(e){this.key=e,this.pa=!1}}class _X{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new xu(a=>dO(a),kv),this.Sa=new Map,this.ba=new Set,this.Da=new Nt(we.comparator),this.Ca=new Map,this.va=new HE,this.Fa={},this.Ma=new Map,this.xa=Yc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function bX(t,e,n=!0){const r=tL(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await YO(r,e,n,!0),s}async function EX(t,e){const n=tL(t);await YO(n,e,!0,!1)}async function YO(t,e,n,r){const s=await qY(t.localStore,ti(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await SX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VO(t.remoteStore,s),a}async function SX(t,e,n,r,s){t.Na=(h,f,p)=>async function(v,_,w,g){let x=_.view.Ta(w);x.Xi&&(x=await II(v.localStore,_.query,!1).then(({documents:k})=>_.view.Ta(k,x)));const b=g&&g.targetChanges.get(_.targetId),E=g&&g.targetMismatches.get(_.targetId)!=null,S=_.view.applyChanges(x,v.isPrimaryClient,b,E);return MI(v,_.targetId,S.Va),S.snapshot}(t,h,f,p);const i=await II(t.localStore,e,!0),o=new vX(e,i.hs),a=o.Ta(i.documents),l=yf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);MI(t,n,u.Va);const d=new wX(e,n,o);return t.wa.set(e,d),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function TX(t,e,n){const r=Me(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!kv(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await V_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&KE(r.remoteStore,s.targetId),U_(r,s.targetId)}).catch(ff)):(U_(r,s.targetId),await V_(r.localStore,s.targetId,!0))}async function CX(t,e){const n=Me(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),KE(n.remoteStore,r.targetId))}async function kX(t,e,n){const r=DX(t);try{const s=await function(o,a){const l=Me(o),u=en.now(),d=a.reduce((p,y)=>p.add(y.key),Ge());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Gi(),v=Ge();return l.os.getEntries(p,d).next(_=>{y=_,y.forEach((w,g)=>{g.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(_=>{h=_;const w=[];for(const g of a){const x=XQ(g,h.get(g.key).overlayedDocument);x!=null&&w.push(new xl(g.key,x,rO(x.value.mapValue),Li.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(_=>{f=_;const w=_.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,_.batchId,w)})}).then(()=>({batchId:f.batchId,changes:pO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new Nt(rt)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,s.batchId,n),await wf(r,s.changes),await Dv(r.remoteStore)}catch(s){const i=ZE(s,"Failed to persist write");n.reject(i)}}async function XO(t,e){const n=Me(t);try{const r=await zY(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?vt(o.pa):s.removedDocuments.size>0&&(vt(o.pa),o.pa=!1))}),await wf(n,r,e)}catch(r){await ff(r)}}function DI(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.Q_)f.G_(a)&&(u=!0)}),u&&eS(l)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IX(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new Nt(we.comparator);o=o.insert(i,Rn.newNoDocument(i,je.min()));const a=Ge().add(i),l=new Pv(je.min(),new Map,new Nt(rt),o,a);await XO(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),tS(r)}else await V_(r.localStore,e,!1).then(()=>U_(r,e,n)).catch(ff)}async function AX(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await BY(n.localStore,e);ZO(n,r,null),JO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wf(n,s)}catch(s){await ff(s)}}async function NX(t,e,n){const r=Me(t);try{const s=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(vt(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);ZO(r,e,n),JO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wf(r,s)}catch(s){await ff(s)}}function JO(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function ZO(t,e,n){const r=Me(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function U_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||eL(t,r)})}function eL(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(KE(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),tS(t))}function MI(t,e,n){for(const r of n)r instanceof KO?(t.va.addReference(r.key,e),PX(t,r)):r instanceof QO?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||eL(t,r.key)):Ae()}function PX(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ba.add(r),tS(t))}function tS(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new we(Et.fromString(e)),r=t.xa.next();t.Ca.set(r,new xX(n)),t.Da=t.Da.insert(n,r),VO(t.remoteStore,new No(ti(Cv(n.path)),r,"TargetPurposeLimboResolution",OE._e))}}async function wf(t,e,n){const r=Me(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=GE.Ki(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,u){const d=Me(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>W.forEach(u,f=>W.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>W.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!pf(h))throw h;ie("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(f,v)}}}(r.localStore,i))}async function RX(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await MO(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new de(z.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wf(n,r.us)}}function jX(t,e){const n=Me(t),r=n.Ca.get(e);if(r&&r.pa)return Ge().add(r.key);{let s=Ge();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function tL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IX.bind(null,e),e.ya.u_=gX.bind(null,e.eventManager),e.ya.La=yX.bind(null,e.eventManager),e}function DX(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NX.bind(null,e),e}class OI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Rv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return UY(this.persistence,new VY,e.initialUser,this.serializer)}createPersistence(e){return new OY(qE.Hr,this.serializer)}createSharedClientState(e){return new KY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class MX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RX.bind(null,this.syncEngine),await fX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mX}()}createDatastore(e){const n=Rv(e.databaseInfo.databaseId),r=function(i){return new JY(i)}(e.databaseInfo);return function(i,o,a,l){return new tX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new rX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DI(this.syncEngine,n,0),function(){return NI.D()?new NI:new QY}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new _X(s,i,o,a,l,u);return d&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=Me(r);ie("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await vf(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=eO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ie("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ie("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new de(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ZE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function px(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FX(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>PI(e.remoteStore,s)),t._onlineComponents=e}function LX(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function FX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await px(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!LX(n))throw n;qc("Error using user provided cache. Falling back to memory cache: "+n),await px(t,new OI)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await px(t,new OI);return t._offlineComponents}async function rL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await LI(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await LI(t,new MX))),t._onlineComponents}function VX(t){return rL(t).then(e=>e.syncEngine)}async function B_(t){const e=await rL(t),n=e.eventManager;return n.onListen=bX.bind(null,e.syncEngine),n.onUnlisten=TX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CX.bind(null,e.syncEngine),n}function $X(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new nL({next:f=>{o.enqueueAndForget(()=>qO(i,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new de(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new de(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new GO(Cv(a.path),d,{includeMetadataChanges:!0,ta:!0});return HO(i,h)}(await B_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e,n){if(!n)throw new de(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UX(t,e,n,r){if(e===!0&&r===!0)throw new de(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VI(t){if(!we.isDocumentKey(t))throw new de(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $I(t){if(we.isDocumentKey(t))throw new de(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function zo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new de(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ov{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new de(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new de(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oQ;switch(r.type){case"firstParty":return new uQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FI.get(n);r&&(ie("ComponentProvider","Removing Datastore"),FI.delete(n),r.terminate())}(this),Promise.resolve()}}function BX(t,e,n,r={}){var s;const i=(t=zo(t,Ov))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nn.MOCK_USER;else{a=dD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new de(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nn(u)}t._authCredentials=new aQ(new ZM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bu(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class Wo extends bu{constructor(e,n,r){super(e,n,Cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new we(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function zX(t,e,...n){if(t=Kt(t),iL("collection","path",e),t instanceof Ov){const r=Et.fromString(e,...n);return $I(r),new Wo(t,null,r)}{if(!(t instanceof qn||t instanceof Wo))throw new de(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return $I(r),new Wo(t.firestore,null,r)}}function z_(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=eO.newId()),iL("doc","path",e),t instanceof Ov){const r=Et.fromString(e,...n);return VI(r),new qn(t,null,new we(r))}{if(!(t instanceof qn||t instanceof Wo))throw new de(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return VI(r),new qn(t.firestore,t instanceof Wo?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new LO(this,"async_queue_retry"),this.cu=()=>{const n=fx();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=fx();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=fx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Oi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!pf(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ai("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=JE.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&Ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function BI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Dh extends Ov{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new WX}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oL(this),this._firestoreClient.terminate()}}function HX(t,e){const n=typeof t=="object"?t:nv(),r=typeof t=="string"?t:"(default)",s=ua(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=lD("firestore");i&&BX(s,...i)}return s}function nS(t){return t._firestoreClient||oL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,d){return new SQ(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new OX(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(On.fromBase64String(e))}catch(n){throw new de(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jc(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX=/^__.*__$/;class GX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xl(e,this.data,this.fieldMask,n,this.fieldTransforms):new gf(e,this.data,n,this.fieldTransforms)}}function lL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class iS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new iS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return ug(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(lL(this.Vu)&&qX.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class KX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rv(e)}Cu(e,n,r,s=!1){return new iS({Vu:e,methodName:n,Du:r,path:mn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cL(t){const e=t._freezeSettings(),n=Rv(t._databaseId);return new KX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QX(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);hL("Data must be an object, but it was:",o,r);const a=uL(r,o);let l,u;if(i.merge)l=new gs(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=XX(e,h,n);if(!o.contains(f))throw new de(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZX(d,f)||d.push(f)}l=new gs(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new GX(new zr(a),l,u)}function YX(t,e,n,r=!1){return oS(n,t.Cu(r?4:3,e))}function oS(t,e){if(dL(t=Kt(t)))return hL("Unsupported field value:",e,t),uL(t,e);if(t instanceof aL)return function(r,s){if(!lL(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=oS(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HQ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=en.fromDate(r);return{timestampValue:lg(s.serializer,i)}}if(r instanceof en){const i=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lg(s.serializer,i)}}if(r instanceof sS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jc)return{bytesValue:IO(s.serializer,r._byteString)};if(r instanceof qn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${Mv(r)}`)}(t,e)}function uL(t,e){const n={};return tO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wu(t,(r,s)=>{const i=oS(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof sS||t instanceof Jc||t instanceof qn||t instanceof aL)}function hL(t,e,n){if(!dL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Mv(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function XX(t,e,n){if((e=Kt(e))instanceof rS)return e._internalPath;if(typeof e=="string")return fL(t,e);throw ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const JX=new RegExp("[~\\*/\\[\\]]");function fL(t,e,n){if(e.search(JX)>=0)throw ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rS(...e.split("."))._internalPath}catch{throw ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ug(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new de(z.INVALID_ARGUMENT,a+t+l)}function ZX(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eJ extends pL{data(){return super.data()}}function aS(t,e){return typeof e=="string"?fL(t,e):e instanceof rS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lS{}class nJ extends lS{}function rJ(t,e,...n){let r=[];e instanceof lS&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof cS).length,a=i.filter(l=>l instanceof Lv).length;if(o>1||o>0&&a>0)throw new de(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lv extends nJ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lv(e,n,r)}_apply(e){const n=this._parse(e);return mL(e._query,n),new bu(e.firestore,e.converter,j_(e._query,n))}_parse(e){const n=cL(e.firestore);return function(i,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new de(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){HI(h,d);const p=[];for(const y of h)p.push(WI(l,i,y));f={arrayValue:{values:p}}}else f=WI(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||HI(h,d),f=YX(a,o,h,d==="in"||d==="not-in");return qt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zI(t,e,n){const r=e,s=aS("where",t);return Lv._create(s,r,n)}class cS extends lS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ks.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)mL(o,l),o=j_(o,l)}(e._query,n),new bu(e.firestore,e.converter,j_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WI(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new de(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uO(e)&&n.indexOf("/")!==-1)throw new de(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!we.isDocumentKey(r))throw new de(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dI(t,new we(r))}if(n instanceof qn)return dI(t,n._key);throw new de(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(n)}.`)}function HI(t,e){if(!Array.isArray(t)||t.length===0)throw new de(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sJ{convertValue(e,n="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wu(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new sS(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=FE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const n=ea(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);vt(DO(r));const s=new Nh(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(n)||ai(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gL extends pL{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wp extends gL{data(e={}){return super.data(e)}}class oJ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wp(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Wp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Wp(s._firestore,s._userDataWriter,a.doc.key,a.doc,new nd(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:aJ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(t){t=zo(t,qn);const e=zo(t.firestore,Dh);return $X(nS(e),t._key).then(n=>vL(e,t,n))}class yL extends sJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function qI(t,e,n){t=zo(t,qn);const r=zo(t.firestore,Dh),s=iJ(t.converter,e,n);return uJ(r,[QX(cL(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Li.none())])}function cJ(t,...e){var n,r,s;t=Kt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||BI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(BI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof qn)u=zo(t.firestore,Dh),d=Cv(t._key.path),l={next:h=>{e[o]&&e[o](vL(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=zo(t,bu);u=zo(h.firestore,Dh),d=h._query;const f=new yL(u);l={next:p=>{e[o]&&e[o](new oJ(u,f,h,p))},error:e[o+1],complete:e[o+2]},tJ(t._query)}return function(f,p,y,v){const _=new nL(v),w=new GO(p,_,y);return f.asyncQueue.enqueueAndForget(async()=>HO(await B_(f),w)),()=>{_.Qa(),f.asyncQueue.enqueueAndForget(async()=>qO(await B_(f),w))}}(nS(u),d,a,l)}function uJ(t,e){return function(r,s){const i=new Oi;return r.asyncQueue.enqueueAndForget(async()=>kX(await VX(r),s,i)),i.promise}(nS(t),e)}function vL(t,e,n){const r=n.docs.get(e._key),s=new yL(t);return new gL(t,s,e._key,r,new nd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){vu=s})(vl),Ss(new Xr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Dh(new lQ(r.getProvider("auth-internal")),new hQ(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new de(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),or(oI,"4.5.0",e),or(oI,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="firebasestorage.googleapis.com",dJ="storageBucket",hJ=2*60*1e3,fJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Jr{constructor(e,n,r=0){super(mx(e),`Firebase Storage: ${n} (${mx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function mx(t){return"storage/"+t}function pJ(){const t="An unknown error occurred, please check the error payload for server response.";return new gi(ci.UNKNOWN,t)}function mJ(){return new gi(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gJ(){return new gi(ci.CANCELED,"User canceled the upload/download.")}function yJ(t){return new gi(ci.INVALID_URL,"Invalid URL '"+t+"'.")}function vJ(t){return new gi(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function GI(t){return new gi(ci.INVALID_ARGUMENT,t)}function xL(){return new gi(ci.APP_DELETED,"The Firebase app was deleted.")}function wJ(t){return new gi(ci.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ys.makeFromUrl(e,n)}catch{return new ys(e,"")}if(r.path==="")return r;throw vJ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},v=n===wL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${v}/${s}/${_}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:p,indices:y,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<x.length;b++){const E=x[b],S=E.regex.exec(e);if(S){const k=S[E.indices.bucket];let A=S[E.indices.path];A||(A=""),r=new ys(k,A),E.postModify(r);break}}if(r==null)throw yJ(e);return r}}class xJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(p,l())},_)}function f(){i&&clearTimeout(i)}function p(_,...w){if(u){f();return}if(_){f(),d.call(null,_,...w);return}if(l()||o){f(),d.call(null,_,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let y=!1;function v(_){y||(y=!0,f(),!u&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function bJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(t){return t!==void 0}function KI(t,e,n,r){if(r<e)throw GI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GI(`Invalid value for '${t}'. Expected ${n} or less.`)}function SJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dg||(dg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n,r,s,i,o,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new cp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===dg.NO_ERROR,l=i.getStatus();if(!a||TJ(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===dg.ABORT;r(!1,new cp(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new cp(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EJ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=pJ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?xL():gJ();o(l)}else{const l=mJ();o(l)}};this.canceled_?n(!1,new cp(!1,null,!0)):this.backoffId_=_J(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PJ(t,e,n,r,s,i,o=!0){const a=SJ(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return AJ(u,e),kJ(u,n),IJ(u,i),NJ(u,r),new CJ(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this._service=e,n instanceof ys?this._location=n:this._location=ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hg(e,n)}get root(){const e=new ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jJ(this._location.path)}get storage(){return this._service}get parent(){const e=RJ(this._location.path);if(e===null)return null;const n=new ys(this._location.bucket,e);return new hg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw wJ(e)}}function QI(t,e){const n=e==null?void 0:e[dJ];return n==null?null:ys.makeFromBucketSpec(n,t)}function DJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:dD(s,t.app.options.projectId))}class MJ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=wL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hJ,this._maxUploadRetryTime=fJ,this._requests=new Set,s!=null?this._bucket=ys.makeFromBucketSpec(s,this._host):this._bucket=QI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ys.makeFromBucketSpec(this._url,e):this._bucket=QI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hg(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new xJ(xL());{const o=PJ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const YI="@firebase/storage",XI="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="storage";function OJ(t=nv(),e){t=Kt(t);const r=ua(t,_L).getImmediate({identifier:e}),s=lD("storage");return s&&LJ(r,...s),r}function LJ(t,e,n,r={}){DJ(t,e,n,r)}function FJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new MJ(n,r,s,e,vl)}function VJ(){Ss(new Xr(_L,FJ,"PUBLIC").setMultipleInstances(!0)),or(YI,XI,""),or(YI,XI,"esm2017")}VJ();const bL="@firebase/installations",uS="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1e4,SL=`w:${uS}`,TL="FIS_v2",$J="https://firebaseinstallations.googleapis.com/v1",UJ=60*60*1e3,BJ="installations",zJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},sl=new yl(BJ,zJ,WJ);function CL(t){return t instanceof Jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL({projectId:t}){return`${$J}/projects/${t}/installations`}function IL(t){return{token:t.token,requestStatus:2,expiresIn:qJ(t.expiresIn),creationTime:Date.now()}}async function AL(t,e){const r=(await e.json()).error;return sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function NL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HJ(t,{refreshToken:e}){const n=NL(t);return n.append("Authorization",GJ(e)),n}async function PL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qJ(t){return Number(t.replace("s","000"))}function GJ(t){return`${TL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=kL(t),s=NL(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:TL,appId:t.appId,sdkVersion:SL},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await PL(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:IL(u.authToken)}}else throw await AL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YJ=/^[cdef][\w-]{21}$/,W_="";function XJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=JJ(t);return YJ.test(n)?n:W_}catch{return W_}}function JJ(t){return QJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Map;function DL(t,e){const n=Fv(t);ML(n,e),ZJ(n,e)}function ML(t,e){const n=jL.get(t);if(n)for(const r of n)r(e)}function ZJ(t,e){const n=eZ();n&&n.postMessage({key:t,fid:e}),tZ()}let Da=null;function eZ(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=t=>{ML(t.data.key,t.data.fid)}),Da}function tZ(){jL.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ="firebase-installations-database",rZ=1,il="firebase-installations-store";let gx=null;function dS(){return gx||(gx=gD(nZ,rZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}})),gx}async function fg(t,e){const n=Fv(t),s=(await dS()).transaction(il,"readwrite"),i=s.objectStore(il),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&DL(t,e.fid),e}async function OL(t){const e=Fv(t),r=(await dS()).transaction(il,"readwrite");await r.objectStore(il).delete(e),await r.done}async function Vv(t,e){const n=Fv(t),s=(await dS()).transaction(il,"readwrite"),i=s.objectStore(il),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&DL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t){let e;const n=await Vv(t.appConfig,r=>{const s=sZ(r),i=iZ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===W_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sZ(t){const e=t||{fid:XJ(),registrationStatus:0};return LL(e)}function iZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(sl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oZ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aZ(t)}:{installationEntry:e}}async function oZ(t,e){try{const n=await KJ(t,e);return fg(t.appConfig,n)}catch(n){throw CL(n)&&n.customData.serverCode===409?await OL(t.appConfig):await fg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function aZ(t){let e=await JI(t.appConfig);for(;e.registrationStatus===1;)await RL(100),e=await JI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hS(t);return r||n}return e}function JI(t){return Vv(t,e=>{if(!e)throw sl.create("installation-not-found");return LL(e)})}function LL(t){return lZ(t)?{fid:t.fid,registrationStatus:0}:t}function lZ(t){return t.registrationStatus===1&&t.registrationTime+EL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cZ({appConfig:t,heartbeatServiceProvider:e},n){const r=uZ(t,n),s=HJ(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:SL,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await PL(()=>fetch(r,a));if(l.ok){const u=await l.json();return IL(u)}else throw await AL("Generate Auth Token",l)}function uZ(t,{fid:e}){return`${kL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e=!1){let n;const r=await Vv(t.appConfig,i=>{if(!FL(i))throw sl.create("not-registered");const o=i.authToken;if(!e&&fZ(o))return i;if(o.requestStatus===1)return n=dZ(t,e),i;{if(!navigator.onLine)throw sl.create("app-offline");const a=mZ(i);return n=hZ(t,a),a}});return n?await n:r.authToken}async function dZ(t,e){let n=await ZI(t.appConfig);for(;n.authToken.requestStatus===1;)await RL(100),n=await ZI(t.appConfig);const r=n.authToken;return r.requestStatus===0?fS(t,e):r}function ZI(t){return Vv(t,e=>{if(!FL(e))throw sl.create("not-registered");const n=e.authToken;return gZ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hZ(t,e){try{const n=await cZ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await fg(t.appConfig,r),n}catch(n){if(CL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OL(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await fg(t.appConfig,r)}throw n}}function FL(t){return t!==void 0&&t.registrationStatus===2}function fZ(t){return t.requestStatus===2&&!pZ(t)}function pZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UJ}function mZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gZ(t){return t.requestStatus===1&&t.requestTime+EL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await hS(e);return r?r.catch(console.error):fS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e=!1){const n=t;return await wZ(n),(await fS(n,e)).token}async function wZ(t){const{registrationPromise:e}=await hS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(t){if(!t||!t.options)throw yx("App Configuration");if(!t.name)throw yx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function yx(t){return sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="installations",_Z="installations-internal",bZ=t=>{const e=t.getProvider("app").getImmediate(),n=xZ(e),r=ua(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},EZ=t=>{const e=t.getProvider("app").getImmediate(),n=ua(e,VL).getImmediate();return{getId:()=>yZ(n),getToken:s=>vZ(n,s)}};function SZ(){Ss(new Xr(VL,bZ,"PUBLIC")),Ss(new Xr(_Z,EZ,"PRIVATE"))}SZ();or(bL,uS);or(bL,uS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="analytics",TZ="firebase_id",CZ="origin",kZ=60*1e3,IZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new tv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sr=new yl("analytics","Analytics",AZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t){if(!t.startsWith(pS)){const e=Sr.create("invalid-gtag-resource",{gtagURL:t});return ar.warn(e.message),""}return t}function $L(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function PZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function RZ(t,e){const n=PZ("firebase-js-sdk-policy",{createScriptURL:NZ}),r=document.createElement("script"),s=`${pS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function jZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function DZ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await $L(n)).find(u=>u.measurementId===s);l&&await e[l.appId]}}catch(a){ar.error(a)}t("config",s,i)}async function MZ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await $L(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){ar.error(i)}}function OZ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await MZ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await DZ(t,e,n,r,a,l)}else if(i==="consent"){const[a]=o;t("consent","update",a)}else if(i==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){ar.error(a)}}return s}function LZ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=OZ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function FZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=30,$Z=1e3;class UZ{constructor(e={},n=$Z){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UL=new UZ;function BZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zZ(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:BZ(r)},i=IZ.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function WZ(t,e=UL,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Sr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new GZ;return setTimeout(async()=>{a.abort()},kZ),BL({appId:r,apiKey:s,measurementId:i},o,a,e)}async function BL(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=UL){var i;const{appId:o,measurementId:a}=t;try{await HZ(r,e)}catch(l){if(a)return ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await zZ(t);return s.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!qZ(u)){if(s.deleteThrottleMetadata(o),a)return ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?wk(n,s.intervalMillis,VZ):wk(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,h),ar.debug(`Calling attemptFetch again in ${d} millis`),BL(t,h,r,s)}}function HZ(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qZ(t){if(!(t instanceof Jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KZ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QZ(){if(nE())try{await fD()}catch(t){return ar.warn(Sr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ar.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YZ(t,e,n,r,s,i,o){var a;const l=WZ(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&ar.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>ar.error(p)),e.push(l);const u=QZ().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([l,u]);FZ(i)||RZ(i,d.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[CZ]="firebase",f.update=!0,h!=null&&(f[TZ]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e){this.app=e}_delete(){return delete Od[this.app.options.appId],Promise.resolve()}}let Od={},eA=[];const tA={};let vx="dataLayer",JZ="gtag",nA,zL,rA=!1;function ZZ(){const t=[];if(hD()&&t.push("This is a browser extension environment."),dW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Sr.create("invalid-analytics-context",{errorInfo:e});ar.warn(n.message)}}function eee(t,e,n){ZZ();const r=t.options.appId;if(!r)throw Sr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sr.create("no-api-key");if(Od[r]!=null)throw Sr.create("already-exists",{id:r});if(!rA){jZ(vx);const{wrappedGtag:i,gtagCore:o}=LZ(Od,eA,tA,vx,JZ);zL=i,nA=o,rA=!0}return Od[r]=YZ(t,eA,tA,e,nA,vx,n),new XZ(t)}function tee(t=nv()){t=Kt(t);const e=ua(t,pg);return e.isInitialized()?e.getImmediate():nee(t)}function nee(t,e={}){const n=ua(t,pg);if(n.isInitialized()){const s=n.getImmediate();if(gh(e,n.getOptions()))return s;throw Sr.create("already-initialized")}return n.initialize({options:e})}function ree(t,e,n,r){t=Kt(t),KZ(zL,Od[t.app.options.appId],e,n,r).catch(s=>ar.error(s))}const sA="@firebase/analytics",iA="0.10.1";function see(){Ss(new Xr(pg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return eee(r,s,n)},"PUBLIC")),Ss(new Xr("analytics-internal",t,"PRIVATE")),or(sA,iA),or(sA,iA,"esm2017");function t(e){try{const n=e.getProvider(pg).getImmediate();return{logEvent:(r,s,i)=>ree(n,r,s,i)}}catch(n){throw Sr.create("interop-component-reg-failed",{reason:n})}}}see();const iee={apiKey:"AIzaSyC4Y3rnhSG0r_PYbF_zGK9wr_8_CTDuGc0",authDomain:"managment-3571b.firebaseapp.com",projectId:"managment-3571b",storageBucket:"managment-3571b.appspot.com",messagingSenderId:"590180866344",appId:"1:590180866344:web:afb89ef7149226dfbcd81d",measurementId:"G-L71LC50ZTZ"},$v=yD(iee),Il=QG($v),Hp=HX($v);OJ($v);typeof window<"u"&&tee($v);const WL=m.createContext({});function Zr(){return m.useContext(WL)}function oee({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(null),[i,o]=m.useState(!0),[a,l]=m.useState(!1),[u,d]=m.useState(!1),[h,f]=m.useState({active:!1});function p(x,b){return Ok(Il,x,b)}async function y(x,b,E,S){const k=await Ok(Il,x,b);return k.user&&(await jq(k.user,{displayName:E}),s({name:E,platforms:S,language:"en"})),k}function v(x,b){return Pq(Il,x,b)}function _(){return Lq(Il)}function w(x){return Nq(Il,x)}m.useEffect(()=>{const x=()=>l(!1),b=()=>l(!0);return window.addEventListener("online",x),window.addEventListener("offline",b),l(!navigator.onLine),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",b)}},[]),m.useEffect(()=>Oq(Il,b=>{var E;n(b),d(((E=b==null?void 0:b.email)==null?void 0:E.includes("admin"))||!1),s(b?{name:b.displayName||"User",platforms:["tiktok","youtube","instagram"],language:"en"}:null),o(!1)}),[]);const g={currentUser:e,userProfile:r,isOffline:a,isLoading:i,isAdmin:u,subscription:h,signup:p,register:y,login:v,logout:_,resetPassword:w};return c.jsx(WL.Provider,{value:g,children:!i&&t})}const aee="AbPKfNUycm5HKKQ2hqgrtZUHjyTu8ETGEVQdFB1WSiK8sZUx0oCtiOwS3San0aL3A1MKFqUk5P78eiNQ",oA={MONTHLY:{id:"P-5RB600433N7039434NABKAOI",price:20,interval:"MONTH",interval_count:1,description:"Monthly access to Aifluence premium features"}},lee={"ai-coach":!0,"video-planner":!0,"advanced-analytics":!0,"course-content":!0,"free-videos":!1,"unlimited-videos":!0},HL=m.createContext(void 0);function bl(){const t=m.useContext(HL);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}function cee({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(!0),[i,o]=m.useState(null),{currentUser:a,isOffline:l}=Zr(),{toast:u}=hi(),d=()=>{if(!a)return null;const g=localStorage.getItem(`subscription_${a.uid}`);if(!g)return null;try{const x=JSON.parse(g);return x.currentPeriodStart&&(x.currentPeriodStart=new Date(x.currentPeriodStart)),x.currentPeriodEnd&&(x.currentPeriodEnd=new Date(x.currentPeriodEnd)),x.createdAt&&(x.createdAt=new Date(x.createdAt)),x.updatedAt&&(x.updatedAt=new Date(x.updatedAt)),x}catch(x){return console.error("Error parsing stored subscription:",x),null}},h=async()=>{if(!a)return n(null),s(!1),o(null),()=>{};s(!0),o(null);try{if(l){console.log("Offline mode: Using localStorage for subscription");const E=d();return n(E),s(!1),()=>{}}const g=zX(Hp,"subscriptions"),x=rJ(g,zI("userId","==",a.uid),zI("status","in",["active","canceled"]));return cJ(x,E=>{var S,k,A,j;if(E.empty){console.log("No subscription found in Firestore"),n(null),s(!1);return}try{const L=E.docs[0].data(),P={...L,userId:L.userId,subscriptionId:L.subscriptionId,planId:L.planId,status:L.status,currentPeriodStart:((S=L.currentPeriodStart)==null?void 0:S.toDate())||new Date,currentPeriodEnd:((k=L.currentPeriodEnd)==null?void 0:k.toDate())||new Date,cancelAtPeriodEnd:L.cancelAtPeriodEnd||!1,createdAt:((A=L.createdAt)==null?void 0:A.toDate())||new Date,updatedAt:((j=L.updatedAt)==null?void 0:j.toDate())||new Date,paymentMethod:L.paymentMethod||"paypal",price:L.price||0,currency:L.currency||"USD",metadata:L.metadata||{}};localStorage.setItem(`subscription_${a.uid}`,JSON.stringify(P)),n(P),o(null)}catch(M){console.error("Error parsing subscription data:",M);const L=d();L?(n(L),o(null)):(n(null),o("Failed to parse subscription data"))}s(!1)},E=>{console.error("Error fetching subscription:",E);const S=d();S?(console.log("Using cached subscription data from localStorage"),n(S),o(null)):n(null),s(!1)})}catch(g){console.error("Firebase error:",g);const x=d();return x?(n(x),o(null)):n(null),s(!1),()=>{}}};m.useEffect(()=>{console.log("Auth state changed, fetching subscription for user:",a==null?void 0:a.uid);let g;return h().then(x=>{g=x}).catch(x=>{console.error("Error in subscription setup:",x)}),()=>{g&&g()}},[a]);const f=async()=>{console.log("Manually refreshing subscription");try{const g=await h();return Promise.resolve()}catch(g){return console.error("Error refreshing subscription:",g),Promise.reject(g)}},p=!!(e&&e.status==="active"&&new Date(e.currentPeriodEnd)>new Date);async function y(g){if(!a)return{hasAccess:!1,reason:"Not authenticated"};try{return g==="unlimited-videos"?p?{hasAccess:!0,subscription:e,reason:"Access granted via subscription"}:{hasAccess:!1,reason:"No active subscription"}:lee[g]?p?{hasAccess:!0,subscription:e,reason:"Access granted via subscription"}:{hasAccess:!1,reason:"No active subscription"}:{hasAccess:!0,reason:"Free feature"}}catch(x){return console.error("Error checking feature access:",x),{hasAccess:!1,reason:"Error verifying subscription status"}}}async function v(g){if(!a)throw new Error("User must be authenticated to store subscription");try{const x=new Date,b=g.subscriptionId||`sub_${Date.now()}`;console.log("Storing subscription:",b,"for user:",a.uid);const E=g.status||"active",S={userId:a.uid,subscriptionId:b,planId:g.planId||"",status:E,currentPeriodStart:g.currentPeriodStart||x,currentPeriodEnd:g.currentPeriodEnd||new Date(x.setMonth(x.getMonth()+1)),cancelAtPeriodEnd:g.cancelAtPeriodEnd||!1,createdAt:x,updatedAt:x,paymentMethod:g.paymentMethod||"paypal",price:g.price||0,currency:g.currency||"USD",metadata:g.metadata||{}};localStorage.setItem(`subscription_${a.uid}`,JSON.stringify(S));try{await qI(z_(Hp,"subscriptions",b),S),console.log("Subscription stored successfully in Firestore")}catch(k){console.error("Firestore error, using local storage instead:",k)}n(S),o(null),u({title:"Subscription activated",description:"Your subscription has been successfully activated."})}catch(x){throw console.error("Failed to store subscription:",x),o("Failed to store subscription details"),u({variant:"destructive",title:"Subscription error",description:x.message||"Failed to store subscription details."}),x}}async function _(){if(!a||!e)throw new Error("No active subscription to cancel");try{const g={...e,status:"canceled",cancelAtPeriodEnd:!0,updatedAt:new Date};localStorage.setItem(`subscription_${a.uid}`,JSON.stringify(g));try{await qI(z_(Hp,"subscriptions",e.subscriptionId),{status:"canceled",cancelAtPeriodEnd:!0,updatedAt:new Date},{merge:!0})}catch(x){console.error("Firestore error during cancellation:",x)}n(g),u({title:"Subscription canceled",description:"Your subscription has been canceled and will end at the current billing period."})}catch(g){throw console.error("Failed to cancel subscription:",g),o("Failed to cancel subscription"),u({variant:"destructive",title:"Cancellation error",description:g.message||"Failed to cancel subscription."}),g}}const w={subscription:e,isLoading:r,error:i,hasActiveSubscription:p,checkFeatureAccess:y,storeSubscription:v,cancelSubscription:_,refreshSubscription:f};return c.jsx(HL.Provider,{value:w,children:t})}function Vu({children:t}){const{currentUser:e,isLoading:n}=Zr(),r=Ji();return n?c.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[c.jsx(ii,{className:"h-8 w-8 animate-spin text-primary"}),c.jsx("span",{className:"ml-2 text-lg",children:"Loading..."})]}):e?c.jsx(c.Fragment,{children:t}):c.jsx(rD,{to:"/login",state:{from:r.pathname},replace:!0})}const uee=gl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Gn:"button";return c.jsx(o,{className:re(uee({variant:e,size:n,className:t})),ref:i,...s})});_e.displayName="Button";const Fe=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fe.displayName="Card";const at=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",t),...e}));at.displayName="CardHeader";const lt=m.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",t),...e}));lt.displayName="CardTitle";const ft=m.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",t),...e}));ft.displayName="CardDescription";const Ze=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:re("p-6 pt-0",t),...e}));Ze.displayName="CardContent";const Jt=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",t),...e}));Jt.displayName="CardFooter";function wo({children:t,featureName:e}){const{currentUser:n,isLoading:r}=Zr(),{checkFeatureAccess:s,hasActiveSubscription:i,isLoading:o}=bl(),[a,l]=m.useState(null),[u,d]=m.useState(!1),h=Ji(),f=Pr();return m.useEffect(()=>{async function p(){if(!n){l(!1),d(!0);return}try{const{hasAccess:y}=await s(e);l(y)}catch(y){console.error("Error checking feature access:",y),l(!1)}finally{d(!0)}}!r&&!o&&p()},[n,s,e,r,o]),r||o||!u?c.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[c.jsx(ii,{className:"h-8 w-8 animate-spin text-primary"}),c.jsx("span",{className:"ml-2 text-lg",children:"Verifying access..."})]}):n?a?c.jsx(c.Fragment,{children:t}):c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:c.jsxs(Fe,{className:"w-full max-w-md",children:[c.jsxs(at,{className:"text-center",children:[c.jsx("div",{className:"mx-auto bg-primary/10 p-3 rounded-full w-fit mb-4",children:c.jsx(Xj,{className:"h-8 w-8 text-primary"})}),c.jsx(lt,{className:"text-2xl",children:"Premium Feature"}),c.jsx(ft,{children:"This feature requires a premium subscription"})]}),c.jsxs(Ze,{children:[c.jsxs("p",{className:"text-center mb-6",children:["Unlock all premium features including ",e," by upgrading to Social AI Premium."]}),c.jsx("div",{className:"flex justify-center",children:c.jsx(_e,{size:"lg",onClick:()=>f("/subscription"),children:"Upgrade Now"})})]}),c.jsx(Jt,{className:"flex justify-center",children:c.jsx(_e,{variant:"ghost",onClick:()=>f("/dashboard"),children:"Back to Dashboard"})})]})}):c.jsx(rD,{to:"/login",state:{from:h.pathname},replace:!0})}const wx=768;function dee(){const[t,e]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wx-1}px)`),r=()=>{e(window.innerWidth<wx)};return n.addEventListener("change",r),e(window.innerWidth<wx),()=>n.removeEventListener("change",r)},[]),!!t}const Ks=m.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ks.displayName="Input";var hee="Separator",aA="horizontal",fee=["horizontal","vertical"],qL=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=aA,...s}=t,i=pee(r)?r:aA,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(xe.div,{"data-orientation":i,...a,...s,ref:e})});qL.displayName=hee;function pee(t){return fee.includes(t)}var GL=qL;const Zc=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(GL,{ref:s,decorative:n,orientation:e,className:re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Zc.displayName=GL.displayName;var xx="focusScope.autoFocusOnMount",_x="focusScope.autoFocusOnUnmount",lA={bubbles:!1,cancelable:!0},mee="FocusScope",xf=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),u=xn(s),d=xn(i),h=m.useRef(null),f=Je(e,v=>l(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(x){if(p.paused||!a)return;const b=x.target;a.contains(b)?h.current=b:co(h.current,{select:!0})},_=function(x){if(p.paused||!a)return;const b=x.relatedTarget;b!==null&&(a.contains(b)||co(h.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const E of x)E.removedNodes.length>0&&co(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const g=new MutationObserver(w);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),g.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){uA.add(p);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(xx,lA);a.addEventListener(xx,u),a.dispatchEvent(w),w.defaultPrevented||(gee(_ee(KL(a)),{select:!0}),document.activeElement===v&&co(a))}return()=>{a.removeEventListener(xx,u),setTimeout(()=>{const w=new CustomEvent(_x,lA);a.addEventListener(_x,d),a.dispatchEvent(w),w.defaultPrevented||co(v??document.body,{select:!0}),a.removeEventListener(_x,d),uA.remove(p)},0)}}},[a,u,d,p]);const y=m.useCallback(v=>{if(!n&&!r||p.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(_&&w){const g=v.currentTarget,[x,b]=yee(g);x&&b?!v.shiftKey&&w===b?(v.preventDefault(),n&&co(x,{select:!0})):v.shiftKey&&w===x&&(v.preventDefault(),n&&co(b,{select:!0})):w===g&&v.preventDefault()}},[n,r,p.paused]);return c.jsx(xe.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});xf.displayName=mee;function gee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(co(r,{select:e}),document.activeElement!==n)return}function yee(t){const e=KL(t),n=cA(e,t),r=cA(e.reverse(),t);return[n,r]}function KL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cA(t,e){for(const n of t)if(!vee(n,{upTo:e}))return n}function vee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wee(t){return t instanceof HTMLInputElement&&"select"in t}function co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wee(t)&&e&&t.select()}}var uA=xee();function xee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=dA(t,e),t.unshift(e)},remove(e){var n;t=dA(t,e),(n=t[0])==null||n.resume()}}}function dA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _ee(t){return t.filter(e=>e.tagName!=="A")}var bx=0;function Uv(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hA()),document.body.insertAdjacentElement("beforeend",t[1]??hA()),bx++,()=>{bx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bx--}},[])}function hA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qp="right-scroll-bar-position",Gp="width-before-scroll-bar",bee="with-scroll-bars-hidden",Eee="--removed-body-scroll-bar-size";function Ex(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function See(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Tee=typeof window<"u"?m.useLayoutEffect:m.useEffect,fA=new WeakMap;function Cee(t,e){var n=See(null,function(r){return t.forEach(function(s){return Ex(s,r)})});return Tee(function(){var r=fA.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ex(a,null)}),i.forEach(function(a){s.has(a)||Ex(a,o)})}fA.set(n,t)},[t]),n}function kee(t){return t}function Iee(t,e){e===void 0&&(e=kee);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function Aee(t){t===void 0&&(t={});var e=Iee(null);return e.options=zs({async:!0,ssr:!1},t),e}var QL=function(t){var e=t.sideCar,n=tf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,zs({},n))};QL.isSideCarExport=!0;function Nee(t,e){return t.useMedium(e),QL}var YL=Aee(),Sx=function(){},Bv=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Sx,onWheelCapture:Sx,onTouchMoveCapture:Sx}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,y=t.inert,v=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,g=t.gapMode,x=tf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,E=Cee([n,e]),S=zs(zs({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(b,{sideCar:YL,removeScrollBar:u,shards:h,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:g}),o?m.cloneElement(m.Children.only(a),zs(zs({},S),{ref:E})):m.createElement(w,zs({},S,{className:l,ref:E}),a))});Bv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bv.classNames={fullWidth:Gp,zeroRight:qp};var Pee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ree(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Pee();return e&&t.setAttribute("nonce",e),t}function jee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Dee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Mee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Ree())&&(jee(e,n),Dee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Oee=function(){var t=Mee();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},XL=function(){var t=Oee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Lee={left:0,top:0,right:0,gap:0},Tx=function(t){return parseInt(t||"",10)||0},Fee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Tx(n),Tx(r),Tx(s)]},Vee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Lee;var e=Fee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$ee=XL(),vc="data-scroll-locked",Uee=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gp," .").concat(Gp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vc,`] {
    `).concat(Eee,": ").concat(a,`px;
  }
`)},pA=function(){var t=parseInt(document.body.getAttribute(vc)||"0",10);return isFinite(t)?t:0},Bee=function(){m.useEffect(function(){return document.body.setAttribute(vc,(pA()+1).toString()),function(){var t=pA()-1;t<=0?document.body.removeAttribute(vc):document.body.setAttribute(vc,t.toString())}},[])},zee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Bee();var i=m.useMemo(function(){return Vee(s)},[s]);return m.createElement($ee,{styles:Uee(i,!e,s,n?"":"!important")})},H_=!1;if(typeof window<"u")try{var up=Object.defineProperty({},"passive",{get:function(){return H_=!0,!0}});window.addEventListener("test",up,up),window.removeEventListener("test",up,up)}catch{H_=!1}var Al=H_?{passive:!1}:!1,Wee=function(t){return t.tagName==="TEXTAREA"},JL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wee(t)&&n[e]==="visible")},Hee=function(t){return JL(t,"overflowY")},qee=function(t){return JL(t,"overflowX")},mA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ZL(t,r);if(s){var i=e4(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Gee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Kee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ZL=function(t,e){return t==="v"?Hee(e):qee(e)},e4=function(t,e){return t==="v"?Gee(e):Kee(e)},Qee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yee=function(t,e,n,r,s){var i=Qee(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{var p=e4(t,a),y=p[0],v=p[1],_=p[2],w=v-_-i*y;(y||w)&&ZL(t,a)&&(h+=w,f+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},dp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gA=function(t){return[t.deltaX,t.deltaY]},yA=function(t){return t&&"current"in t?t.current:t},Xee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zee=0,Nl=[];function ete(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(Zee++)[0],i=m.useState(XL)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=kH([t.lockRef.current],(t.shards||[]).map(yA),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=dp(v),g=n.current,x="deltaX"in v?v.deltaX:g[0]-w[0],b="deltaY"in v?v.deltaY:g[1]-w[1],E,S=v.target,k=Math.abs(x)>Math.abs(b)?"h":"v";if("touches"in v&&k==="h"&&S.type==="range")return!1;var A=mA(k,S);if(!A)return!0;if(A?E=k:(E=k==="v"?"h":"v",A=mA(k,S)),!A)return!1;if(!r.current&&"changedTouches"in v&&(x||b)&&(r.current=E),!E)return!0;var j=r.current||E;return Yee(j,_,v,j==="h"?x:b,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!Nl.length||Nl[Nl.length-1]!==i)){var w="deltaY"in _?gA(_):dp(_),g=e.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&Xee(E.delta,w)})[0];if(g&&g.should){_.cancelable&&_.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(yA).filter(Boolean).filter(function(E){return E.contains(_.target)}),b=x.length>0?a(_,x[0]):!o.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),u=m.useCallback(function(v,_,w,g){var x={name:v,delta:_,target:w,should:g,shadowParent:tte(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(b){return b!==x})},1)},[]),d=m.useCallback(function(v){n.current=dp(v),r.current=void 0},[]),h=m.useCallback(function(v){u(v.type,gA(v),v.target,a(v,t.lockRef.current))},[]),f=m.useCallback(function(v){u(v.type,dp(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return Nl.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Al),document.addEventListener("touchmove",l,Al),document.addEventListener("touchstart",d,Al),function(){Nl=Nl.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Al),document.removeEventListener("touchmove",l,Al),document.removeEventListener("touchstart",d,Al)}},[]);var p=t.removeScrollBar,y=t.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:Jee(s)}):null,p?m.createElement(zee,{gapMode:t.gapMode}):null)}function tte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const nte=Nee(YL,ete);var _f=m.forwardRef(function(t,e){return m.createElement(Bv,zs({},t,{ref:e,sideCar:nte}))});_f.classNames=Bv.classNames;var rte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Pl=new WeakMap,hp=new WeakMap,fp={},Cx=0,t4=function(t){return t&&(t.host||t4(t.parentNode))},ste=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=t4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ite=function(t,e,n,r){var s=ste(e,Array.isArray(t)?t:[t]);fp[n]||(fp[n]=new WeakMap);var i=fp[n],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var p=f.getAttribute(r),y=p!==null&&p!=="false",v=(Pl.get(f)||0)+1,_=(i.get(f)||0)+1;Pl.set(f,v),i.set(f,_),o.push(f),v===1&&y&&hp.set(f,!0),_===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),Cx++,function(){o.forEach(function(h){var f=Pl.get(h)-1,p=i.get(h)-1;Pl.set(h,f),i.set(h,p),f||(hp.has(h)||h.removeAttribute(r),hp.delete(h)),p||h.removeAttribute(n)}),Cx--,Cx||(Pl=new WeakMap,Pl=new WeakMap,hp=new WeakMap,fp={})}},zv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=rte(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),ite(r,s,n,"aria-hidden")):function(){return null}},mS="Dialog",[n4,phe]=fi(mS),[ote,Is]=n4(mS),r4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[u=!1,d]=si({prop:r,defaultProp:s,onChange:i});return c.jsx(ote,{scope:e,triggerRef:a,contentRef:l,contentId:qr(),titleId:qr(),descriptionId:qr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};r4.displayName=mS;var s4="DialogTrigger",ate=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(s4,n),i=Je(e,s.triggerRef);return c.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vS(s.open),...r,ref:i,onClick:Z(t.onClick,s.onOpenToggle)})});ate.displayName=s4;var gS="DialogPortal",[lte,i4]=n4(gS,{forceMount:void 0}),o4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Is(gS,e);return c.jsx(lte,{scope:e,forceMount:n,children:m.Children.map(r,o=>c.jsx(ur,{present:n||i.open,children:c.jsx(cu,{asChild:!0,container:s,children:o})}))})};o4.displayName=gS;var mg="DialogOverlay",a4=m.forwardRef((t,e)=>{const n=i4(mg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(mg,t.__scopeDialog);return i.modal?c.jsx(ur,{present:r||i.open,children:c.jsx(cte,{...s,ref:e})}):null});a4.displayName=mg;var cte=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(mg,n);return c.jsx(_f,{as:Gn,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(xe.div,{"data-state":vS(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ol="DialogContent",l4=m.forwardRef((t,e)=>{const n=i4(ol,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Is(ol,t.__scopeDialog);return c.jsx(ur,{present:r||i.open,children:i.modal?c.jsx(ute,{...s,ref:e}):c.jsx(dte,{...s,ref:e})})});l4.displayName=ol;var ute=m.forwardRef((t,e)=>{const n=Is(ol,t.__scopeDialog),r=m.useRef(null),s=Je(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return zv(i)},[]),c.jsx(c4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault())})}),dte=m.forwardRef((t,e)=>{const n=Is(ol,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(c4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),c4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Is(ol,n),l=m.useRef(null),u=Je(e,l);return Uv(),c.jsxs(c.Fragment,{children:[c.jsx(xf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ml,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vS(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(hte,{titleId:a.titleId}),c.jsx(pte,{contentRef:l,descriptionId:a.descriptionId})]})]})}),yS="DialogTitle",u4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(yS,n);return c.jsx(xe.h2,{id:s.titleId,...r,ref:e})});u4.displayName=yS;var d4="DialogDescription",h4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(d4,n);return c.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});h4.displayName=d4;var f4="DialogClose",p4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Is(f4,n);return c.jsx(xe.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});p4.displayName=f4;function vS(t){return t?"open":"closed"}var m4="DialogTitleWarning",[mhe,g4]=R6(m4,{contentName:ol,titleName:yS,docsSlug:"dialog"}),hte=({titleId:t})=>{const e=g4(m4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fte="DialogDescriptionWarning",pte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g4(fte).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},mte=r4,gte=o4,y4=a4,v4=l4,w4=u4,x4=h4,yte=p4;const vte=mte,wte=gte,_4=m.forwardRef(({className:t,...e},n)=>c.jsx(y4,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));_4.displayName=y4.displayName;const xte=gl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b4=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(wte,{children:[c.jsx(_4,{}),c.jsxs(v4,{ref:s,className:re(xte({side:t}),e),...r,children:[n,c.jsxs(yte,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(V1,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));b4.displayName=v4.displayName;const _te=m.forwardRef(({className:t,...e},n)=>c.jsx(w4,{ref:n,className:re("text-lg font-semibold text-foreground",t),...e}));_te.displayName=w4.displayName;const bte=m.forwardRef(({className:t,...e},n)=>c.jsx(x4,{ref:n,className:re("text-sm text-muted-foreground",t),...e}));bte.displayName=x4.displayName;function Un({className:t,...e}){return c.jsx("div",{className:re("animate-pulse rounded-md bg-muted",t),...e})}const Ete="sidebar:state",Ste=60*60*24*7,Tte="16rem",Cte="18rem",kte="3rem",Ite="b",E4=m.createContext(null);function Wv(){const t=m.useContext(E4);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const S4=m.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const l=dee(),[u,d]=m.useState(!1),[h,f]=m.useState(t),p=e??h,y=m.useCallback(g=>{const x=typeof g=="function"?g(p):g;n?n(x):f(x),document.cookie=`${Ete}=${x}; path=/; max-age=${Ste}`},[n,p]),v=m.useCallback(()=>l?d(g=>!g):y(g=>!g),[l,y,d]);m.useEffect(()=>{const g=x=>{x.key===Ite&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),v())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[v]);const _=p?"expanded":"collapsed",w=m.useMemo(()=>({state:_,open:p,setOpen:y,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:v}),[_,p,y,l,u,d,v]);return c.jsx(E4.Provider,{value:w,children:c.jsx(V2,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":Tte,"--sidebar-width-icon":kte,...s},className:re("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});S4.displayName="SidebarProvider";const T4=m.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:l,openMobile:u,setOpenMobile:d}=Wv();return n==="none"?c.jsx("div",{className:re("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?c.jsx(vte,{open:u,onOpenChange:d,...i,children:c.jsx(b4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Cte},side:t,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):c.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[c.jsx("div",{className:re("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:re("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});T4.displayName="Sidebar";const wS=m.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=Wv();return c.jsxs(_e,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:re("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[c.jsx(D9,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});wS.displayName="SidebarTrigger";const Ate=m.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Wv();return c.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:re("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Ate.displayName="SidebarRail";const Nte=m.forwardRef(({className:t,...e},n)=>c.jsx("main",{ref:n,className:re("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Nte.displayName="SidebarInset";const Pte=m.forwardRef(({className:t,...e},n)=>c.jsx(Ks,{ref:n,"data-sidebar":"input",className:re("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Pte.displayName="SidebarInput";const C4=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"header",className:re("flex flex-col gap-2 p-2",t),...e}));C4.displayName="SidebarHeader";const k4=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"footer",className:re("flex flex-col gap-2 p-2",t),...e}));k4.displayName="SidebarFooter";const Rte=m.forwardRef(({className:t,...e},n)=>c.jsx(Zc,{ref:n,"data-sidebar":"separator",className:re("mx-2 w-auto bg-sidebar-border",t),...e}));Rte.displayName="SidebarSeparator";const I4=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"content",className:re("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));I4.displayName="SidebarContent";const q_=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group",className:re("relative flex w-full min-w-0 flex-col p-2",t),...e}));q_.displayName="SidebarGroup";const G_=m.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Gn:"div";return c.jsx(s,{ref:r,"data-sidebar":"group-label",className:re("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});G_.displayName="SidebarGroupLabel";const jte=m.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Gn:"button";return c.jsx(s,{ref:r,"data-sidebar":"group-action",className:re("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});jte.displayName="SidebarGroupAction";const K_=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group-content",className:re("w-full text-sm",t),...e}));K_.displayName="SidebarGroupContent";const Q_=m.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu",className:re("flex w-full min-w-0 flex-col gap-1",t),...e}));Q_.displayName="SidebarMenu";const Y_=m.forwardRef(({className:t,...e},n)=>c.jsx("li",{ref:n,"data-sidebar":"menu-item",className:re("group/menu-item relative",t),...e}));Y_.displayName="SidebarMenuItem";const Dte=gl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),X_=m.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const l=t?Gn:"button",{isMobile:u,state:d}=Wv(),h=c.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:re(Dte({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),c.jsxs(k8,{children:[c.jsx(I8,{asChild:!0,children:h}),c.jsx($2,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):h});X_.displayName="SidebarMenuButton";const Mte=m.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?Gn:"button";return c.jsx(i,{ref:s,"data-sidebar":"menu-action",className:re("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Mte.displayName="SidebarMenuAction";const Ote=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:re("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Ote.displayName="SidebarMenuBadge";const Lte=m.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:re("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&c.jsx(Un,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(Un,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Lte.displayName="SidebarMenuSkeleton";const Fte=m.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:re("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));Fte.displayName="SidebarMenuSub";const Vte=m.forwardRef(({...t},e)=>c.jsx("li",{ref:e,...t}));Vte.displayName="SidebarMenuSubItem";const $te=m.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?Gn:"a";return c.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:re("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});$te.displayName="SidebarMenuSubButton";function Ute(){var a;const t=Pr(),{currentUser:e,logout:n}=Zr(),{hasActiveSubscription:r}=bl(),s=async()=>{try{await n(),t("/login")}catch(l){console.error("Failed to log out",l)}},i=[{title:"Dashboard",icon:A9,url:"/dashboard"},{title:"Analyze Stats",icon:Id,url:"/analyze-stats"},{title:"Video Planner",icon:lh,url:"/video-planner"},{title:"Free Videos",icon:Vo,url:"/free-videos"},{title:"Courses",icon:Hj,url:"/courses"},{title:"AI Coach",icon:Jj,url:"/ai-coach"}],o=[{title:"TikTok",icon:Vo,color:"bg-social-tiktok",url:"/courses/tiktok"},{title:"YouTube",icon:Vo,color:"bg-social-youtube",url:"/courses/youtube"},{title:"Instagram",icon:L1,color:"bg-social-instagram",url:"/courses/instagram"},{title:"Shopify",icon:F1,color:"bg-social-shopify",url:"/courses/shopify"}];return c.jsxs(T4,{children:[c.jsxs(C4,{className:"px-6 pt-6 pb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-social-purple to-social-darkpurple flex items-center justify-center",children:c.jsx("span",{className:"text-white font-semibold text-lg",children:"A"})}),c.jsx("span",{className:"text-xl font-bold",children:"Aifluence"})]}),c.jsx("div",{className:"lg:hidden absolute right-4 top-4",children:c.jsx(wS,{})})]}),c.jsxs(I4,{children:[!r&&c.jsx("div",{className:"px-4 py-2 mb-4",children:c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-amber-800 font-medium mb-2",children:[c.jsx(K0,{className:"h-4 w-4"}),c.jsx("span",{children:"Subscription Required"})]}),c.jsx("p",{className:"text-sm text-amber-700 mb-3",children:"Unlock all features with a subscription plan"}),c.jsx(_e,{size:"sm",variant:"outline",className:"w-full border-amber-300 hover:bg-amber-100 text-amber-800",onClick:()=>t("/subscription"),children:"Subscribe Now"})]})}),c.jsxs(q_,{children:[c.jsx(G_,{children:"Main Menu"}),c.jsx(K_,{children:c.jsx(Q_,{children:i.map(l=>c.jsx(Y_,{children:c.jsxs(X_,{onClick:()=>t(l.url),className:"flex items-center gap-3",children:[c.jsx(l.icon,{className:"h-5 w-5"}),c.jsx("span",{children:l.title})]})},l.title))})})]}),c.jsxs(q_,{children:[c.jsx(G_,{children:"Platforms"}),c.jsx(K_,{children:c.jsx(Q_,{children:o.map(l=>c.jsx(Y_,{children:c.jsxs(X_,{onClick:()=>t(l.url),className:"flex items-center gap-3",children:[c.jsx("div",{className:`${l.color} rounded-md p-1`,children:c.jsx(l.icon,{className:"h-4 w-4 text-white"})}),c.jsx("span",{children:l.title})]})},l.title))})})]})]}),c.jsx(k4,{className:"px-6 py-4",children:e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:c.jsx("span",{className:"text-foreground font-medium",children:e.displayName?e.displayName.charAt(0).toUpperCase():(a=e.email)==null?void 0:a.charAt(0).toUpperCase()})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:e.displayName||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})]}),c.jsx(_e,{variant:"outline",className:"w-full justify-start",onClick:s,children:"Logout"})]})})]})}var Bte=m.createContext(void 0);function Hv(t){const e=m.useContext(Bte);return t||e||"ltr"}function zte(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...y}=h,v=(f==null?void 0:f[t][l])||a,_=m.useMemo(()=>y,Object.values(y));return c.jsx(v.Provider,{value:_,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,Wte(s,...e)]}function Wte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kx="rovingFocusGroup.onEntryFocus",Hte={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[J_,A4,qte]=Ly(qv),[Gte,Gv]=zte(qv,[qte]),[Kte,Qte]=Gte(qv),N4=m.forwardRef((t,e)=>c.jsx(J_.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(J_.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Yte,{...t,ref:e})})}));N4.displayName=qv;var Yte=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=m.useRef(null),p=Je(e,f),y=Hv(i),[v=null,_]=si({prop:o,defaultProp:a,onChange:l}),[w,g]=m.useState(!1),x=xn(u),b=A4(n),E=m.useRef(!1),[S,k]=m.useState(0);return m.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(kx,x),()=>A.removeEventListener(kx,x)},[x]),c.jsx(Kte,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(A=>_(A),[_]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>k(A=>A-1),[]),children:c.jsx(xe.div,{tabIndex:w||S===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Z(t.onMouseDown,()=>{E.current=!0}),onFocus:Z(t.onFocus,A=>{const j=!E.current;if(A.target===A.currentTarget&&j&&!w){const M=new CustomEvent(kx,Hte);if(A.currentTarget.dispatchEvent(M),!M.defaultPrevented){const L=b().filter(G=>G.focusable),P=L.find(G=>G.active),B=L.find(G=>G.id===v),q=[P,B,...L].filter(Boolean).map(G=>G.ref.current);j4(q,d)}}E.current=!1}),onBlur:Z(t.onBlur,()=>g(!1))})})}),P4="RovingFocusGroupItem",R4=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=qr(),l=i||a,u=Qte(P4,n),d=u.currentTabStopId===l,h=A4(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),c.jsx(J_.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:c.jsx(xe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Z(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:Z(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Z(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Zte(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(g=>g.focusable).map(g=>g.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const g=w.indexOf(y.currentTarget);w=u.loop?ene(w,g+1):w.slice(g+1)}setTimeout(()=>j4(w))}})})})});R4.displayName=P4;var Xte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Zte(t,e,n){const r=Jte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xte[r]}function j4(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ene(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var D4=N4,M4=R4,Z_=["Enter"," "],tne=["ArrowDown","PageUp","Home"],O4=["ArrowUp","PageDown","End"],nne=[...tne,...O4],rne={ltr:[...Z_,"ArrowRight"],rtl:[...Z_,"ArrowLeft"]},sne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bf="Menu",[Mh,ine,one]=Ly(bf),[El,L4]=fi(bf,[one,la,Gv]),Kv=la(),F4=Gv(),[ane,Sl]=El(bf),[lne,Ef]=El(bf),V4=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Kv(e),[l,u]=m.useState(null),d=m.useRef(!1),h=xn(i),f=Hv(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),c.jsx(Wy,{...a,children:c.jsx(ane,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(lne,{scope:e,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};V4.displayName=bf;var cne="MenuAnchor",xS=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Kv(n);return c.jsx(Zh,{...s,...r,ref:e})});xS.displayName=cne;var _S="MenuPortal",[une,$4]=El(_S,{forceMount:void 0}),U4=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Sl(_S,e);return c.jsx(une,{scope:e,forceMount:n,children:c.jsx(ur,{present:n||i.open,children:c.jsx(cu,{asChild:!0,container:s,children:r})})})};U4.displayName=_S;var Gr="MenuContent",[dne,bS]=El(Gr),B4=m.forwardRef((t,e)=>{const n=$4(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Sl(Gr,t.__scopeMenu),o=Ef(Gr,t.__scopeMenu);return c.jsx(Mh.Provider,{scope:t.__scopeMenu,children:c.jsx(ur,{present:r||i.open,children:c.jsx(Mh.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(hne,{...s,ref:e}):c.jsx(fne,{...s,ref:e})})})})}),hne=m.forwardRef((t,e)=>{const n=Sl(Gr,t.__scopeMenu),r=m.useRef(null),s=Je(e,r);return m.useEffect(()=>{const i=r.current;if(i)return zv(i)},[]),c.jsx(ES,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Z(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fne=m.forwardRef((t,e)=>{const n=Sl(Gr,t.__scopeMenu);return c.jsx(ES,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ES=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:y,...v}=t,_=Sl(Gr,n),w=Ef(Gr,n),g=Kv(n),x=F4(n),b=ine(n),[E,S]=m.useState(null),k=m.useRef(null),A=Je(e,k,_.onContentChange),j=m.useRef(0),M=m.useRef(""),L=m.useRef(0),P=m.useRef(null),B=m.useRef("right"),V=m.useRef(0),q=y?_f:m.Fragment,G=y?{as:Gn,allowPinchZoom:!0}:void 0,ee=D=>{var ce,Te;const T=M.current+D,K=b().filter(Oe=>!Oe.disabled),se=document.activeElement,C=(ce=K.find(Oe=>Oe.ref.current===se))==null?void 0:ce.textValue,Ee=K.map(Oe=>Oe.textValue),nt=Tne(Ee,T,C),fe=(Te=K.find(Oe=>Oe.textValue===nt))==null?void 0:Te.ref.current;(function Oe(Pe){M.current=Pe,window.clearTimeout(j.current),Pe!==""&&(j.current=window.setTimeout(()=>Oe(""),1e3))})(T),fe&&setTimeout(()=>fe.focus())};m.useEffect(()=>()=>window.clearTimeout(j.current),[]),Uv();const N=m.useCallback(D=>{var K,se;return B.current===((K=P.current)==null?void 0:K.side)&&kne(D,(se=P.current)==null?void 0:se.area)},[]);return c.jsx(dne,{scope:n,searchRef:M,onItemEnter:m.useCallback(D=>{N(D)&&D.preventDefault()},[N]),onItemLeave:m.useCallback(D=>{var T;N(D)||((T=k.current)==null||T.focus(),S(null))},[N]),onTriggerLeave:m.useCallback(D=>{N(D)&&D.preventDefault()},[N]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(D=>{P.current=D},[]),children:c.jsx(q,{...G,children:c.jsx(xf,{asChild:!0,trapped:s,onMountAutoFocus:Z(i,D=>{var T;D.preventDefault(),(T=k.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(ml,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:c.jsx(D4,{asChild:!0,...x,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:S,onEntryFocus:Z(l,D=>{w.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Hy,{role:"menu","aria-orientation":"vertical","data-state":sF(_.open),"data-radix-menu-content":"",dir:w.dir,...g,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:Z(v.onKeyDown,D=>{const K=D.target.closest("[data-radix-menu-content]")===D.currentTarget,se=D.ctrlKey||D.altKey||D.metaKey,C=D.key.length===1;K&&(D.key==="Tab"&&D.preventDefault(),!se&&C&&ee(D.key));const Ee=k.current;if(D.target!==Ee||!nne.includes(D.key))return;D.preventDefault();const fe=b().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);O4.includes(D.key)&&fe.reverse(),Ene(fe)}),onBlur:Z(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(j.current),M.current="")}),onPointerMove:Z(t.onPointerMove,Oh(D=>{const T=D.target,K=V.current!==D.clientX;if(D.currentTarget.contains(T)&&K){const se=D.clientX>V.current?"right":"left";B.current=se,V.current=D.clientX}}))})})})})})})});B4.displayName=Gr;var pne="MenuGroup",SS=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(xe.div,{role:"group",...r,ref:e})});SS.displayName=pne;var mne="MenuLabel",z4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(xe.div,{...r,ref:e})});z4.displayName=mne;var gg="MenuItem",vA="menu.itemSelect",Qv=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=m.useRef(null),o=Ef(gg,t.__scopeMenu),a=bS(gg,t.__scopeMenu),l=Je(e,i),u=m.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(vA,{bubbles:!0,cancelable:!0});h.addEventListener(vA,p=>r==null?void 0:r(p),{once:!0}),j1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return c.jsx(W4,{...s,ref:l,disabled:n,onClick:Z(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:Z(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Z(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Z_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Qv.displayName=gg;var W4=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=bS(gg,n),a=F4(n),l=m.useRef(null),u=Je(e,l),[d,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const y=l.current;y&&p((y.textContent??"").trim())},[i.children]),c.jsx(Mh.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:c.jsx(M4,{asChild:!0,...a,focusable:!r,children:c.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Z(t.onPointerMove,Oh(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Z(t.onPointerLeave,Oh(y=>o.onItemLeave(y))),onFocus:Z(t.onFocus,()=>h(!0)),onBlur:Z(t.onBlur,()=>h(!1))})})})}),gne="MenuCheckboxItem",H4=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(Y4,{scope:t.__scopeMenu,checked:n,children:c.jsx(Qv,{role:"menuitemcheckbox","aria-checked":yg(n)?"mixed":n,...s,ref:e,"data-state":CS(n),onSelect:Z(s.onSelect,()=>r==null?void 0:r(yg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});H4.displayName=gne;var q4="MenuRadioGroup",[yne,vne]=El(q4,{value:void 0,onValueChange:()=>{}}),G4=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=xn(r);return c.jsx(yne,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(SS,{...s,ref:e})})});G4.displayName=q4;var K4="MenuRadioItem",Q4=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=vne(K4,t.__scopeMenu),i=n===s.value;return c.jsx(Y4,{scope:t.__scopeMenu,checked:i,children:c.jsx(Qv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":CS(i),onSelect:Z(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Q4.displayName=K4;var TS="MenuItemIndicator",[Y4,wne]=El(TS,{checked:!1}),X4=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=wne(TS,n);return c.jsx(ur,{present:r||yg(i.checked)||i.checked===!0,children:c.jsx(xe.span,{...s,ref:e,"data-state":CS(i.checked)})})});X4.displayName=TS;var xne="MenuSeparator",J4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});J4.displayName=xne;var _ne="MenuArrow",Z4=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Kv(n);return c.jsx(qy,{...s,...r,ref:e})});Z4.displayName=_ne;var bne="MenuSub",[ghe,eF]=El(bne),rd="MenuSubTrigger",tF=m.forwardRef((t,e)=>{const n=Sl(rd,t.__scopeMenu),r=Ef(rd,t.__scopeMenu),s=eF(rd,t.__scopeMenu),i=bS(rd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:t.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),c.jsx(xS,{asChild:!0,...u,children:c.jsx(W4,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":sF(n.open),...t,ref:Oy(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Z(t.onPointerMove,Oh(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Z(t.onPointerLeave,Oh(h=>{var p,y;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const v=(y=n.content)==null?void 0:y.dataset.side,_=v==="right",w=_?-5:5,g=f[_?"left":"right"],x=f[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+w,y:h.clientY},{x:g,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:g,y:f.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Z(t.onKeyDown,h=>{var p;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||rne[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});tF.displayName=rd;var nF="MenuSubContent",rF=m.forwardRef((t,e)=>{const n=$4(Gr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Sl(Gr,t.__scopeMenu),o=Ef(Gr,t.__scopeMenu),a=eF(nF,t.__scopeMenu),l=m.useRef(null),u=Je(e,l);return c.jsx(Mh.Provider,{scope:t.__scopeMenu,children:c.jsx(ur,{present:r||i.open,children:c.jsx(Mh.Slot,{scope:t.__scopeMenu,children:c.jsx(ES,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Z(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Z(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Z(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=sne[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});rF.displayName=nF;function sF(t){return t?"open":"closed"}function yg(t){return t==="indeterminate"}function CS(t){return yg(t)?"indeterminate":t?"checked":"unchecked"}function Ene(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Tne(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Sne(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Cne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function kne(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Cne(n,e)}function Oh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ine=V4,Ane=xS,Nne=U4,Pne=B4,Rne=SS,jne=z4,Dne=Qv,Mne=H4,One=G4,Lne=Q4,Fne=X4,Vne=J4,$ne=Z4,Une=tF,Bne=rF,kS="DropdownMenu",[zne,yhe]=fi(kS,[L4]),Xn=L4(),[Wne,iF]=zne(kS),oF=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Xn(e),u=m.useRef(null),[d=!1,h]=si({prop:s,defaultProp:i,onChange:o});return c.jsx(Wne,{scope:e,triggerId:qr(),triggerRef:u,contentId:qr(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:a,children:c.jsx(Ine,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};oF.displayName=kS;var aF="DropdownMenuTrigger",lF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=iF(aF,n),o=Xn(n);return c.jsx(Ane,{asChild:!0,...o,children:c.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Oy(e,i.triggerRef),onPointerDown:Z(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Z(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});lF.displayName=aF;var Hne="DropdownMenuPortal",cF=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Xn(e);return c.jsx(Nne,{...r,...n})};cF.displayName=Hne;var uF="DropdownMenuContent",dF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=iF(uF,n),i=Xn(n),o=m.useRef(!1);return c.jsx(Pne,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Z(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Z(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dF.displayName=uF;var qne="DropdownMenuGroup",Gne=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Rne,{...s,...r,ref:e})});Gne.displayName=qne;var Kne="DropdownMenuLabel",hF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(jne,{...s,...r,ref:e})});hF.displayName=Kne;var Qne="DropdownMenuItem",fF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Dne,{...s,...r,ref:e})});fF.displayName=Qne;var Yne="DropdownMenuCheckboxItem",pF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Mne,{...s,...r,ref:e})});pF.displayName=Yne;var Xne="DropdownMenuRadioGroup",Jne=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(One,{...s,...r,ref:e})});Jne.displayName=Xne;var Zne="DropdownMenuRadioItem",mF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Lne,{...s,...r,ref:e})});mF.displayName=Zne;var ere="DropdownMenuItemIndicator",gF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Fne,{...s,...r,ref:e})});gF.displayName=ere;var tre="DropdownMenuSeparator",yF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Vne,{...s,...r,ref:e})});yF.displayName=tre;var nre="DropdownMenuArrow",rre=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx($ne,{...s,...r,ref:e})});rre.displayName=nre;var sre="DropdownMenuSubTrigger",vF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Une,{...s,...r,ref:e})});vF.displayName=sre;var ire="DropdownMenuSubContent",wF=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Xn(n);return c.jsx(Bne,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wF.displayName=ire;var ore=oF,are=lF,lre=cF,xF=dF,_F=hF,bF=fF,EF=pF,SF=mF,TF=gF,CF=yF,kF=vF,IF=wF;const cre=ore,ure=are,dre=m.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(kF,{ref:s,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(Gj,{className:"ml-auto h-4 w-4"})]}));dre.displayName=kF.displayName;const hre=m.forwardRef(({className:t,...e},n)=>c.jsx(IF,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));hre.displayName=IF.displayName;const AF=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(lre,{children:c.jsx(xF,{ref:r,sideOffset:e,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));AF.displayName=xF.displayName;const Kp=m.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(bF,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Kp.displayName=bF.displayName;const fre=m.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(EF,{ref:s,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TF,{children:c.jsx(dn,{className:"h-4 w-4"})})}),e]}));fre.displayName=EF.displayName;const pre=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(SF,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(TF,{children:c.jsx(T9,{className:"h-2 w-2 fill-current"})})}),e]}));pre.displayName=SF.displayName;const NF=m.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(_F,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));NF.displayName=_F.displayName;const PF=m.forwardRef(({className:t,...e},n)=>c.jsx(CF,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",t),...e}));PF.displayName=CF.displayName;function mre(){var s;const t=Pr(),{currentUser:e,logout:n}=Zr(),r=async()=>{try{await n(),t("/login")}catch(i){console.error("Failed to log out",i)}};return c.jsxs("header",{className:"border-b py-3 px-4 flex items-center justify-between bg-background/80 backdrop-blur-sm shadow-sm",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(wS,{className:"lg:hidden mr-2"}),c.jsx("h1",{className:"text-xl font-semibold text-foreground hidden sm:inline-block",children:"Aifluence"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(_e,{variant:"ghost",size:"icon",className:"text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50",onClick:()=>window.open("https://discord.gg/Qnyu5m78z8","_blank"),children:c.jsx(G0,{className:"h-5 w-5"})}),c.jsxs(_e,{variant:"ghost",size:"icon",className:"relative",children:[c.jsx(x9,{className:"h-5 w-5"}),c.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-social-purple"})]}),c.jsxs(cre,{children:[c.jsx(ure,{asChild:!0,children:c.jsx(_e,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:c.jsx("div",{className:"h-9 w-9 rounded-full bg-muted flex items-center justify-center",children:c.jsx("span",{className:"text-foreground font-medium",children:e!=null&&e.displayName?e.displayName.charAt(0).toUpperCase():(s=e==null?void 0:e.email)==null?void 0:s.charAt(0).toUpperCase()})})})}),c.jsxs(AF,{align:"end",className:"w-56",children:[c.jsx(NF,{children:"My Account"}),c.jsx(PF,{}),c.jsx(Kp,{onClick:()=>t("/subscription"),children:"Subscription"}),c.jsxs(Kp,{onClick:()=>window.open("https://discord.gg/Qnyu5m78z8","_blank"),children:[c.jsx(G0,{className:"h-4 w-4 mr-2"}),"Discord Support"]}),c.jsx(Kp,{onClick:r,children:"Logout"})]})]})]})]})}function is({children:t}){return c.jsx(S4,{children:c.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[c.jsx(Ute,{}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(mre,{}),c.jsx("main",{className:"flex-1 p-6 overflow-auto",children:t})]})]})})}function gre(){m.useState(!1);const[t,e]=m.useState(!1),n=m.useRef([]);m.useEffect(()=>{const l=()=>{window.scrollY>50?e(!0):e(!1),n.current.forEach(u=>{if(!u)return;u.getBoundingClientRect().top<window.innerHeight*.85&&u.classList.add("scroll-visible")})};return window.addEventListener("scroll",l),setTimeout(l,100),()=>{window.removeEventListener("scroll",l)}},[]);const r=l=>u=>{u&&(u.classList.add("scroll-trigger"),n.current[l]=u)},s=[{name:"Sarah K.",platform:"TikTok",quote:"Within just 2 weeks of following the TikTok growth strategies, my account went from 500 to over 25,000 followers!",earnings:"$2,300/month",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80"},{name:"Marcus T.",platform:"YouTube",quote:"I was struggling to get views, but after applying the audience retention techniques, my last video hit 1 million views!",earnings:"$4,700/month",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80"},{name:"Alexia P.",platform:"Instagram & Shopify",quote:"The combined Instagram and Shopify strategy helped me launch my online store with immediate sales. Best investment ever!",earnings:"$6,800/month",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80"}],i=[{title:"Fast Results",description:"See real growth within days, not months. Our TikTok warmup takes only 1-3 days!",icon:ch},{title:"Monetization Strategies",description:"Learn how to turn followers into income with proven methods",icon:$C},{title:"Platform-Specific Growth",description:"Tailored strategies for TikTok, YouTube, Instagram, and Shopify",icon:$9},{title:"AI-Powered Coaching",description:"Get personalized advice from our advanced AI coach",icon:X0}],o=[{title:"Comprehensive Courses",description:"Learn platform-specific strategies for TikTok, YouTube, Instagram, and Shopify",icon:Vo},{title:"AI Coaching Assistant",description:"Get 24/7 personalized advice and feedback to accelerate your growth",icon:_9},{title:"Detailed Analytics",description:"Track your progress with comprehensive analytics and growth metrics",icon:Id},{title:"Video Planning Tools",description:"Create viral content plans with our proven templates and frameworks",icon:I9}],a=()=>{window.scrollTo({top:0,behavior:"smooth"})};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:a,className:`fixed bottom-8 right-8 z-50 p-3 rounded-full bg-social-purple text-white shadow-lg transition-all ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,children:c.jsx(w9,{className:"h-6 w-6"})}),c.jsxs("div",{className:"min-h-screen w-full overflow-hidden",children:[c.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-social-purple/5 via-white to-white -z-10"}),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden opacity-10 -z-5",children:[c.jsx("div",{className:"absolute w-[800px] h-[800px] rounded-full bg-gradient-to-r from-social-purple/30 to-social-darkpurple/30 animate-pulse-subtle"}),c.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full bg-gradient-to-r from-blue-500/20 to-purple-500/20 animate-pulse-subtle",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute w-[400px] h-[400px] rounded-full bg-gradient-to-r from-pink-500/20 to-yellow-500/20 animate-pulse-subtle",style:{animationDelay:"2s"}})]}),c.jsx("div",{className:"absolute top-0 -right-1/4 w-1/2 h-1/2 bg-gradient-to-b from-social-purple/10 to-blue-500/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute -bottom-1/4 -left-1/4 w-1/2 h-1/2 bg-gradient-to-t from-social-darkpurple/10 to-purple-500/5 rounded-full blur-3xl"}),c.jsxs("div",{className:"max-w-7xl mx-auto text-center px-4 relative z-10",children:[c.jsxs("div",{className:"mb-6 inline-flex items-center py-1 px-3 rounded-full bg-gradient-to-r from-social-purple/10 to-social-darkpurple/10 text-social-darkpurple text-sm font-medium animate-fade-in",children:[c.jsx(Zj,{className:"h-4 w-4 mr-2"})," Trusted by 10,000+ creators worldwide"]}),c.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight mb-6 animate-fade-in",children:[c.jsx("span",{className:"bg-gradient-to-r from-social-purple to-social-darkpurple bg-clip-text text-transparent animate-gradient-text",children:"Transform"})," Your Social Media Into a ",c.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent animate-gradient-text",children:"Revenue Engine"})]}),c.jsx("p",{className:"mt-6 max-w-3xl mx-auto text-xl text-gray-600 animate-fade-in animate-delayed-1",children:"Join the elite community of creators earning $1,000-$10,000 monthly with our proprietary AI-powered growth strategies and monetization framework."}),c.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row justify-center gap-4 animate-fade-in animate-delayed-2",children:[c.jsx(jt,{to:"/register",children:c.jsxs(_e,{size:"lg",className:"bg-gradient-to-r from-social-purple to-social-darkpurple hover:shadow-lg hover:shadow-social-purple/25 text-white font-medium px-8 py-6 text-lg transition-all duration-300 group",children:["Start Your Growth Journey",c.jsx(Mr,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),c.jsx(jt,{to:"/login",children:c.jsx(_e,{variant:"outline",size:"lg",className:"border-2 py-6 px-8 text-lg hover:bg-gray-50 transition-all",children:"Sign In"})})]}),c.jsxs("div",{className:"mt-16 animate-fade-in animate-delayed-3",children:[c.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-12 text-gray-600",children:[c.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm py-2 px-4 rounded-full shadow-sm",children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500"}),c.jsx("span",{className:"font-medium",children:"Results in 72 Hours"})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm py-2 px-4 rounded-full shadow-sm",children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500"}),c.jsx("span",{className:"font-medium",children:"99.4% Success Rate"})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm py-2 px-4 rounded-full shadow-sm",children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500"}),c.jsx("span",{className:"font-medium",children:"24/7 AI Support"})]}),c.jsxs("div",{className:"flex items-center space-x-2 bg-white/80 backdrop-blur-sm py-2 px-4 rounded-full shadow-sm",children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500"}),c.jsx("span",{className:"font-medium",children:"Money-Back Guarantee"})]})]}),c.jsx("div",{className:"mt-12 flex justify-center",children:c.jsx($y,{className:"h-8 w-8 animate-bounce text-gray-400"})})]})]})]}),c.jsxs("section",{ref:r(0),className:"py-24 w-full overflow-hidden bg-gradient-to-r from-blue-600 to-purple-600 relative",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute w-[800px] h-[800px] rounded-full bg-white/5 -top-1/2 -right-1/4"}),c.jsx("div",{className:"absolute w-[600px] h-[600px] rounded-full bg-white/5 -bottom-1/4 -left-1/4"}),c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPg0KICAgICAgPHBhdGggZD0iTSAwIDUwIEwgNTAgNTAiIHN0cm9rZT0iIzlmNzhmZiIgc3Ryb2tlLXdpZHRoPSIwLjUiIGZpbGw9Im5vbmUiIHN0cm9rZS1vcGFjaXR5PSIwLjEiLz4NCiAgICAgIDxwYXRoIGQ9Ik0gNTAgMCBMIDUwIDUwIiBzdHJva2U9IiM5Zjc4ZmYiIHN0cm9rZS13aWR0aD0iMC41IiBmaWxsPSJub25lIiBzdHJva2Utb3BhY2l0eT0iMC4xIi8+DQogICAgPC9wYXR0ZXJuPg0KICA8L2RlZnM+DQogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiIC8+DQo8L3N2Zz4=')]"})]}),c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-12 px-6 lg:px-8 relative z-10",children:[c.jsxs("div",{className:"md:w-1/2 space-y-6",children:[c.jsx("div",{className:"inline-block bg-white/20 px-4 py-1.5 rounded-full mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(V9,{className:"h-4 w-4 text-yellow-300"}),c.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Revolutionary Technology"})]})}),c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white leading-tight",children:["AI-Powered ",c.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-yellow-500 bg-clip-text text-transparent",children:"Viral Video Creation"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-white/90",children:"Our proprietary algorithm analyzes millions of viral videos to automatically generate content that's guaranteed to perform in your niche."}),c.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(B9,{className:"h-5 w-5 text-yellow-300"})}),c.jsx("span",{className:"text-white font-medium",children:"Generate in seconds"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(zC,{className:"h-5 w-5 text-yellow-300"})}),c.jsx("span",{className:"text-white font-medium",children:"Ready to upload"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(X0,{className:"h-5 w-5 text-yellow-300"})}),c.jsx("span",{className:"text-white font-medium",children:"Viral-optimized"})]})]}),c.jsx("div",{className:"pt-8",children:c.jsx(jt,{to:"/register",children:c.jsxs(_e,{size:"lg",className:"bg-white text-blue-600 hover:bg-white/90 text-lg font-medium py-6 px-8 group",children:["Experience AI Video Creation",c.jsx(Mr,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})})]}),c.jsx("div",{className:"md:w-1/2 flex justify-center",children:c.jsxs("div",{className:"relative max-w-md",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-500 blur-xl opacity-50 animate-pulse-subtle"}),c.jsx("div",{className:"relative bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl p-1 shadow-2xl",children:c.jsx("div",{className:"bg-black rounded-xl p-3 backdrop-blur-sm",children:c.jsxs("div",{className:"aspect-[9/16] w-full max-w-sm bg-gray-800 rounded-lg overflow-hidden relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center animate-pulse-subtle border border-white/25",children:c.jsx(zC,{className:"h-10 w-10 text-white"})})}),c.jsx("div",{className:"absolute top-4 right-4 bg-red-600 rounded-full w-3 h-3 animate-pulse"}),c.jsx("div",{className:"absolute top-4 left-4 flex space-x-1",children:c.jsx("div",{className:"bg-white/20 rounded-full px-2 py-0.5 text-xs backdrop-blur-sm",children:"Live"})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-medium text-lg",children:"TikTok Growth Hack"}),c.jsx("p",{className:"text-white/70 text-sm",children:"Generated by AI • 52 seconds"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:"bg-white/20 rounded-full px-2 py-1 text-xs backdrop-blur-sm",children:"4K"}),c.jsx("div",{className:"bg-gradient-to-r from-social-purple to-social-darkpurple rounded-full px-2 py-1 text-xs text-white",children:"AUTO"})]})]})})]})})}),c.jsx("div",{className:"absolute -top-6 -right-6 bg-gradient-to-r from-yellow-400 to-yellow-500 text-black rounded-full px-6 py-2 font-bold text-sm transform rotate-12 shadow-lg",children:"NEW TECH"})]})})]})})]}),c.jsx("section",{ref:r(1),className:"py-24 px-6 bg-white w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Enterprise-Grade Growth Infrastructure"}),c.jsx("p",{className:"text-xl text-gray-600 mb-16",children:"Our AI-powered platform provides everything you need to scale your social media presence from zero to millions."})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map((l,u)=>c.jsxs(Fe,{className:"border-0 bg-gradient-to-br from-white to-gray-50 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-social-purple/0 to-social-darkpurple/0 opacity-0 group-hover:opacity-100 group-hover:from-social-purple/5 group-hover:to-social-darkpurple/5 transition-all duration-500"}),c.jsxs(at,{children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-social-purple/10 to-social-darkpurple/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:c.jsx(l.icon,{className:"h-7 w-7 text-social-purple"})}),c.jsx(lt,{className:"text-2xl",children:l.title}),c.jsx(ft,{className:"text-base",children:l.description})]}),c.jsx(Jt,{children:c.jsxs(jt,{to:"/register",className:"text-social-purple font-medium flex items-center group-hover:underline",children:["Learn more",c.jsx(Mr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]},u))})]})}),c.jsx("section",{ref:r(2),className:"py-24 px-6 bg-gray-50 w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"text-center",children:c.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-16",children:["Why Our Platform Generates ",c.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-500 bg-clip-text text-transparent",children:"Millions in Revenue"})]})}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:i.map((l,u)=>c.jsxs(Fe,{className:"border-0 shadow-lg hover:shadow-xl transition-all group bg-white overflow-hidden",children:[c.jsx("div",{className:"h-2 bg-gradient-to-r from-social-purple to-social-darkpurple"}),c.jsxs(at,{children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-social-purple/10 to-social-darkpurple/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:c.jsx(l.icon,{className:"h-7 w-7 text-social-purple"})}),c.jsx(lt,{children:l.title})]}),c.jsx(Ze,{children:c.jsx(ft,{className:"text-base",children:l.description})})]},u))})]})}),c.jsxs("section",{ref:r(3),className:"py-24 px-6 bg-white w-full relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-gray-50/50 to-transparent"}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Multi-Platform Mastery"}),c.jsx("p",{className:"text-xl text-gray-600 mb-16 max-w-3xl mx-auto",children:"Dominate every major platform with our specialized strategies and AI-driven optimization tools."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[c.jsxs(Fe,{className:"border-0 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[c.jsx("div",{className:"h-3 bg-social-tiktok"}),c.jsx(at,{className:"bg-gradient-to-br from-gray-50 to-white",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-social-tiktok flex items-center justify-center text-white",children:c.jsx(Vo,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx(lt,{className:"text-xl",children:"TikTok"}),c.jsx(ft,{children:"Fast growth & viral tactics"})]})]})}),c.jsxs(Ze,{className:"pt-6 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"1-3 day account warmup"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"CRP program fast-track"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Viral hook templates"})]})]}),c.jsx(Jt,{className:"pt-0",children:c.jsx(jt,{to:"/register",className:"w-full",children:c.jsxs(_e,{className:"w-full bg-social-tiktok hover:bg-social-tiktok/90 group-hover:shadow-lg transition-all",children:["Get Started",c.jsx(Mr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})})]}),c.jsxs(Fe,{className:"border-0 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[c.jsx("div",{className:"h-3 bg-social-youtube"}),c.jsx(at,{className:"bg-gradient-to-br from-gray-50 to-white",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-social-youtube flex items-center justify-center text-white",children:c.jsx(U9,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx(lt,{className:"text-xl",children:"YouTube"}),c.jsx(ft,{children:"Channel growth & revenue"})]})]})}),c.jsxs(Ze,{className:"pt-6 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Channel optimization"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Audience retention secrets"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Monetization pathways"})]})]}),c.jsx(Jt,{className:"pt-0",children:c.jsx(jt,{to:"/register",className:"w-full",children:c.jsxs(_e,{className:"w-full bg-social-youtube hover:bg-social-youtube/90 group-hover:shadow-lg transition-all",children:["Get Started",c.jsx(Mr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})})]}),c.jsxs(Fe,{className:"border-0 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[c.jsx("div",{className:"h-3 bg-social-instagram"}),c.jsx(at,{className:"bg-gradient-to-br from-gray-50 to-white",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-social-instagram flex items-center justify-center text-white",children:c.jsx(L1,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx(lt,{className:"text-xl",children:"Instagram"}),c.jsx(ft,{children:"Engagement & influencer"})]})]})}),c.jsxs(Ze,{className:"pt-6 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Reels algorithm secrets"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Engagement boosting"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Brand deal strategies"})]})]}),c.jsx(Jt,{className:"pt-0",children:c.jsx(jt,{to:"/register",className:"w-full",children:c.jsxs(_e,{className:"w-full bg-social-instagram hover:bg-social-instagram/90 group-hover:shadow-lg transition-all",children:["Get Started",c.jsx(Mr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})})]}),c.jsxs(Fe,{className:"border-0 shadow-xl hover:shadow-2xl transition-all duration-300 overflow-hidden group",children:[c.jsx("div",{className:"h-3 bg-social-shopify"}),c.jsx(at,{className:"bg-gradient-to-br from-gray-50 to-white",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-social-shopify flex items-center justify-center text-white",children:c.jsx(F1,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx(lt,{className:"text-xl",children:"Shopify"}),c.jsx(ft,{children:"E-commerce & passive income"})]})]})}),c.jsxs(Ze,{className:"pt-6 space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Store optimization"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Product selection strategy"})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(dn,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:"Social media integration"})]})]}),c.jsx(Jt,{className:"pt-0",children:c.jsx(jt,{to:"/register",className:"w-full",children:c.jsxs(_e,{className:"w-full bg-social-shopify hover:bg-social-shopify/90 group-hover:shadow-lg transition-all",children:["Get Started",c.jsx(Mr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})})]})]})]})]}),c.jsx("section",{ref:r(4),className:"py-24 px-6 bg-gray-50 w-full",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:["Real Results, Real ",c.jsx("span",{className:"text-green-600",children:"Income"})]}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See how our users are building million-dollar personal brands and businesses using our platform."})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:s.map((l,u)=>c.jsxs(Fe,{className:"border-0 bg-white shadow-xl hover:shadow-2xl transition-all relative overflow-hidden group",children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-gray-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),c.jsx(at,{children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"h-14 w-14 rounded-full overflow-hidden",children:c.jsx("img",{src:l.image,alt:l.name,className:"h-full w-full object-cover"})}),c.jsxs("div",{children:[c.jsx(lt,{className:"text-xl",children:l.name}),c.jsx(ft,{children:l.platform})]}),c.jsx("div",{className:"ml-auto flex",children:[1,2,3,4,5].map(d=>c.jsx(Q0,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},d))})]})}),c.jsxs(Ze,{children:[c.jsxs("div",{className:"relative",children:[c.jsx("svg",{className:"absolute top-0 left-0 transform -translate-x-6 -translate-y-8 h-16 w-16 text-gray-100",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:c.jsx("path",{d:"M7.39762 10.3C7.39762 11.0733 7.14888 11.7 6.6514 12.18C6.16553 12.6333 5.52888 12.86 4.74147 12.86C3.84147 12.86 3.12248 12.5533 2.58451 11.94C2.04655 11.3266 1.77757 10.4467 1.77757 9.29999C1.77757 8.07332 2.07446 6.87332 2.66824 5.69999C3.26201 4.49999 4.02579 3.55332 4.95957 2.85999L6.7389 4.25999C6.04843 4.73999 5.45578 5.27332 4.96094 5.85999C4.4661 6.44666 4.14449 6.99999 3.99611 7.51999L4.12518 7.59999C4.42448 7.39999 4.79324 7.29999 5.23146 7.29999C6.32208 7.29999 7.17301 7.60666 7.78426 8.21999C8.39551 8.81999 8.70114 9.48666 8.70114 10.22L7.39762 10.3ZM14.6242 10.3C14.6242 11.0733 14.3755 11.7 13.878 12.18C13.3922 12.6333 12.7555 12.86 11.9681 12.86C11.0681 12.86 10.3491 12.5533 9.8112 11.94C9.27324 11.3266 9.00426 10.4467 9.00426 9.29999C9.00426 8.07332 9.30115 6.87332 9.89493 5.69999C10.4887 4.49999 11.2525 3.55332 12.1863 2.85999L13.9656 4.25999C13.2751 4.73999 12.6825 5.27332 12.1877 5.85999C11.6928 6.44666 11.3712 6.99999 11.2228 7.51999L11.3519 7.59999C11.6512 7.39999 11.9999 7.29999 12.4382 7.29999C13.5288 7.29999 14.3797 7.60666 14.991 8.21999C15.6022 8.81999 15.9078 9.48666 15.9078 10.22L14.6242 10.3Z",fill:"currentColor"})}),c.jsx("p",{className:"text-gray-700 relative z-10 leading-relaxed mb-6",children:l.quote})]}),c.jsxs("div",{className:"flex items-center justify-center mt-6 bg-gradient-to-r from-green-50 to-emerald-50 p-3 rounded-xl",children:[c.jsx($C,{className:"h-6 w-6 text-green-600 mr-2"}),c.jsx("span",{className:"font-bold text-green-600 text-xl",children:l.earnings})]})]})]},u))}),c.jsx("div",{className:"mt-16 text-center",children:c.jsx(jt,{to:"/register",children:c.jsxs(_e,{size:"lg",className:"bg-gradient-to-r from-social-purple to-social-darkpurple hover:shadow-lg hover:shadow-social-purple/25 text-white px-8 py-6 text-lg",children:["Join Our Success Stories",c.jsx(Mr,{className:"ml-2 h-5 w-5"})]})})})]})}),c.jsxs("section",{ref:r(5),className:"py-32 px-6 bg-gradient-to-br from-social-darkpurple to-indigo-900 text-white w-full relative",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-2/3 h-32 bg-gradient-to-b from-white/10 to-transparent rotate-45 transform -translate-y-12 translate-x-32 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-2/3 h-32 bg-gradient-to-t from-white/10 to-transparent -rotate-45 transform translate-y-12 -translate-x-32 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute inset-0",children:Array.from({length:20}).map((l,u)=>c.jsx("div",{className:"absolute rounded-full bg-white/10",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,animation:`float ${Math.random()*10+10}s infinite ease-in-out`,animationDelay:`${Math.random()*5}s`}},u))})]}),c.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-8 leading-tight",children:["Ready to Transform Your Social Media Into a ",c.jsx("span",{className:"text-gradient bg-gradient-to-r from-yellow-300 to-yellow-500 bg-clip-text text-transparent",children:"Million-Dollar Asset?"})]}),c.jsx("p",{className:"text-xl md:text-2xl mb-12 opacity-90 max-w-3xl mx-auto",children:"Join thousands of creators who are leveraging our enterprise-grade growth platform to build wealth through social media."}),c.jsx(jt,{to:"/register",children:c.jsxs(_e,{size:"lg",variant:"secondary",className:"bg-white text-social-darkpurple hover:bg-white/90 px-12 py-7 text-xl font-bold shadow-xl hover:shadow-2xl transition-all",children:["Start Your Growth Journey",c.jsx(Mr,{className:"ml-3 h-6 w-6"})]})}),c.jsx("p",{className:"mt-12 text-sm opacity-75",children:"*Results may vary. Our top users earn over $50,000 monthly after implementing our strategies and proprietary technologies."})]})]})]})]})}const yre=()=>{const t=Ji(),e=Pr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted",children:c.jsxs("div",{className:"text-center max-w-md px-4",children:[c.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-social-purple to-social-darkpurple rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("span",{className:"text-3xl font-bold text-white",children:"404"})}),c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find the page you're looking for. It might have been moved or doesn't exist."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(_e,{className:"w-full bg-gradient-to-r from-social-purple to-social-darkpurple hover:opacity-90",onClick:()=>e("/"),children:"Return to Home"}),c.jsxs(_e,{variant:"outline",className:"w-full",onClick:()=>e(-1),children:[c.jsx(v9,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})]})})};var Sf=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Bn=t=>t==null;const RF=t=>typeof t=="object";var $t=t=>!Bn(t)&&!Array.isArray(t)&&RF(t)&&!Ma(t),jF=t=>$t(t)&&t.target?Sf(t.target)?t.target.checked:t.target.value:t,vre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DF=(t,e)=>t.has(vre(e)),wre=t=>{const e=t.constructor&&t.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},IS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(IS&&(t instanceof Blob||t instanceof FileList))&&(n||$t(t)))if(e=n?[]:{},!n&&!wre(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Zn(t[r]));else return t;return e}var Yv=t=>Array.isArray(t)?t.filter(Boolean):[],Ot=t=>t===void 0,ne=(t,e,n)=>{if(!e||!$t(t))return n;const r=Yv(e.split(/[,[\].]+?/)).reduce((s,i)=>Bn(s)?s:s[i],t);return Ot(r)||r===t?Ot(t[e])?n:t[e]:r},Lr=t=>typeof t=="boolean",AS=t=>/^\w*$/.test(t),MF=t=>Yv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(t,e,n)=>{let r=-1;const s=AS(e)?[e]:MF(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const u=t[a];l=$t(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const vg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},OF=U.createContext(null),Xv=()=>U.useContext(OF),xre=t=>{const{children:e,...n}=t;return U.createElement(OF.Provider,{value:n},e)};var LF=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ms.all&&(e._proxyFormState[o]=!r||ms.all),n&&(n[o]=!0),t[o]}});return s},er=t=>$t(t)&&!Object.keys(t).length,FF=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return er(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ms.all))},Ld=t=>Array.isArray(t)?t:[t],VF=(t,e,n)=>!t||!e||t===e||Ld(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function NS(t){const e=U.useRef(t);e.current=t,U.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function _re(t){const e=Xv(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=U.useState(n._formState),l=U.useRef(!0),u=U.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=U.useRef(s);return d.current=s,NS({disabled:r,next:h=>l.current&&VF(d.current,h.name,i)&&FF(h,u.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),U.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),LF(o,n,u.current,!1)}var Qs=t=>typeof t=="string",$F=(t,e,n,r,s)=>Qs(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n);function bre(t){const e=Xv(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=U.useRef(r);a.current=r,NS({disabled:i,subject:n._subjects.values,next:d=>{VF(a.current,d.name,o)&&u(Zn($F(a.current,n._names,d.values||n._formValues,!1,s)))}});const[l,u]=U.useState(n._getWatch(r,s));return U.useEffect(()=>n._removeUnmounted()),l}function Ere(t){const e=Xv(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=DF(s._names.array,n),a=bre({control:s,name:n,defaultValue:ne(s._formValues,n,ne(s._defaultValues,n,t.defaultValue)),exact:!0}),l=_re({control:s,name:n,exact:!0}),u=U.useRef(s.register(n,{...t.rules,value:a,...Lr(t.disabled)?{disabled:t.disabled}:{}}));return U.useEffect(()=>{const d=s._options.shouldUnregister||i,h=(f,p)=>{const y=ne(s._fields,f);y&&y._f&&(y._f.mount=p)};if(h(n,!0),d){const f=Zn(ne(s._options.defaultValues,n));ot(s._defaultValues,n,f),Ot(ne(s._formValues,n))&&ot(s._formValues,n,f)}return()=>{(o?d&&!s._state.action:d)?s.unregister(n):h(n,!1)}},[n,s,o,i]),U.useEffect(()=>{ne(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ne(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Lr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:U.useCallback(d=>u.current.onChange({target:{value:jF(d),name:n},type:vg.CHANGE}),[n]),onBlur:U.useCallback(()=>u.current.onBlur({target:{value:ne(s._formValues,n),name:n},type:vg.BLUR}),[n,s]),ref:U.useCallback(d=>{const h=ne(s._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(l.validatingFields,n)},error:{enumerable:!0,get:()=>ne(l.errors,n)}})}}const Sre=t=>t.render(Ere(t));var UF=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},wA=t=>({isOnSubmit:!t||t===ms.onSubmit,isOnBlur:t===ms.onBlur,isOnChange:t===ms.onChange,isOnAll:t===ms.all,isOnTouch:t===ms.onTouched}),xA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Fd=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Fd(a,e))break}else if($t(a)&&Fd(a,e))break}}};var Tre=(t,e,n)=>{const r=Ld(ne(t,n));return ot(r,"root",e[n]),ot(t,n,r),t},PS=t=>t.type==="file",Pi=t=>typeof t=="function",wg=t=>{if(!IS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Qp=t=>Qs(t),RS=t=>t.type==="radio",xg=t=>t instanceof RegExp;const _A={value:!1,isValid:!1},bA={value:!0,isValid:!0};var BF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ot(t[0].attributes.value)?Ot(t[0].value)||t[0].value===""?bA:{value:t[0].value,isValid:!0}:bA:_A}return _A};const EA={isValid:!1,value:null};var zF=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,EA):EA;function SA(t,e,n="validate"){if(Qp(t)||Array.isArray(t)&&t.every(Qp)||Lr(t)&&!t)return{type:n,message:Qp(t)?t:"",ref:e}}var Rl=t=>$t(t)&&!xg(t)?t:{value:t,message:""},TA=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:u,min:d,max:h,pattern:f,validate:p,name:y,valueAsNumber:v,mount:_,disabled:w}=t._f,g=ne(e,y);if(!_||w)return{};const x=o?o[0]:i,b=P=>{r&&x.reportValidity&&(x.setCustomValidity(Lr(P)?"":P||""),x.reportValidity())},E={},S=RS(i),k=Sf(i),A=S||k,j=(v||PS(i))&&Ot(i.value)&&Ot(g)||wg(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,M=UF.bind(null,y,n,E),L=(P,B,V,q=wi.maxLength,G=wi.minLength)=>{const ee=P?B:V;E[y]={type:P?q:G,message:ee,ref:i,...M(P?q:G,ee)}};if(s?!Array.isArray(g)||!g.length:a&&(!A&&(j||Bn(g))||Lr(g)&&!g||k&&!BF(o).isValid||S&&!zF(o).isValid)){const{value:P,message:B}=Qp(a)?{value:!!a,message:a}:Rl(a);if(P&&(E[y]={type:wi.required,message:B,ref:x,...M(wi.required,B)},!n))return b(B),E}if(!j&&(!Bn(d)||!Bn(h))){let P,B;const V=Rl(h),q=Rl(d);if(!Bn(g)&&!isNaN(g)){const G=i.valueAsNumber||g&&+g;Bn(V.value)||(P=G>V.value),Bn(q.value)||(B=G<q.value)}else{const G=i.valueAsDate||new Date(g),ee=T=>new Date(new Date().toDateString()+" "+T),N=i.type=="time",D=i.type=="week";Qs(V.value)&&g&&(P=N?ee(g)>ee(V.value):D?g>V.value:G>new Date(V.value)),Qs(q.value)&&g&&(B=N?ee(g)<ee(q.value):D?g<q.value:G<new Date(q.value))}if((P||B)&&(L(!!P,V.message,q.message,wi.max,wi.min),!n))return b(E[y].message),E}if((l||u)&&!j&&(Qs(g)||s&&Array.isArray(g))){const P=Rl(l),B=Rl(u),V=!Bn(P.value)&&g.length>+P.value,q=!Bn(B.value)&&g.length<+B.value;if((V||q)&&(L(V,P.message,B.message),!n))return b(E[y].message),E}if(f&&!j&&Qs(g)){const{value:P,message:B}=Rl(f);if(xg(P)&&!g.match(P)&&(E[y]={type:wi.pattern,message:B,ref:i,...M(wi.pattern,B)},!n))return b(B),E}if(p){if(Pi(p)){const P=await p(g,e),B=SA(P,x);if(B&&(E[y]={...B,...M(wi.validate,B.message)},!n))return b(B.message),E}else if($t(p)){let P={};for(const B in p){if(!er(P)&&!n)break;const V=SA(await p[B](g,e),x,B);V&&(P={...V,...M(B,V.message)},b(V.message),n&&(E[y]=P))}if(!er(P)&&(E[y]={ref:x,...P},!n))return E}}return b(!0),E};function Cre(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ot(t)?r++:t[e[r++]];return t}function kre(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ot(t[e]))return!1;return!0}function Yt(t,e){const n=Array.isArray(e)?e:AS(e)?[e]:MF(e),r=n.length===1?t:Cre(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&($t(r)&&er(r)||Array.isArray(r)&&kre(r))&&Yt(t,n.slice(0,-1)),t}var Ix=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},eb=t=>Bn(t)||!RF(t);function xo(t,e){if(eb(t)||eb(e))return t===e;if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ma(i)&&Ma(o)||$t(i)&&$t(o)||Array.isArray(i)&&Array.isArray(o)?!xo(i,o):i!==o)return!1}}return!0}var WF=t=>t.type==="select-multiple",Ire=t=>RS(t)||Sf(t),Ax=t=>wg(t)&&t.isConnected,HF=t=>{for(const e in t)if(Pi(t[e]))return!0;return!1};function _g(t,e={}){const n=Array.isArray(t);if($t(t)||n)for(const r in t)Array.isArray(t[r])||$t(t[r])&&!HF(t[r])?(e[r]=Array.isArray(t[r])?[]:{},_g(t[r],e[r])):Bn(t[r])||(e[r]=!0);return e}function qF(t,e,n){const r=Array.isArray(t);if($t(t)||r)for(const s in t)Array.isArray(t[s])||$t(t[s])&&!HF(t[s])?Ot(e)||eb(n[s])?n[s]=Array.isArray(t[s])?_g(t[s],[]):{..._g(t[s])}:qF(t[s],Bn(e)?{}:e[s],n[s]):n[s]=!xo(t[s],e[s]);return n}var $u=(t,e)=>qF(t,e,_g(e)),GF=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ot(t)?t:e?t===""?NaN:t&&+t:n&&Qs(t)?new Date(t):r?r(t):t;function Nx(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return PS(e)?e.files:RS(e)?zF(t.refs).value:WF(e)?[...e.selectedOptions].map(({value:n})=>n):Sf(e)?BF(t.refs).value:GF(Ot(e.value)?t.ref.value:e.value,t)}var Are=(t,e,n,r)=>{const s={};for(const i of t){const o=ne(e,i);o&&ot(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Uu=t=>Ot(t)?t:xg(t)?t.source:$t(t)?xg(t.value)?t.value.source:t.value:t;const CA="AsyncFunction";var Nre=t=>(!t||!t.validate)&&!!(Pi(t.validate)&&t.validate.constructor.name===CA||$t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CA)),Pre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function kA(t,e,n){const r=ne(t,n);if(r||AS(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ne(e,i),a=ne(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Rre=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,jre=(t,e)=>!Yv(ne(t,e)).length&&Yt(t,e);const Dre={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function Mre(t={}){let e={...Dre,...t},n={submitCount:0,isDirty:!1,isLoading:Pi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=$t(e.defaultValues)||$t(e.values)?Zn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Zn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ix(),array:Ix(),state:Ix()},f=wA(e.mode),p=wA(e.reValidateMode),y=e.criteriaMode===ms.all,v=I=>R=>{clearTimeout(u),u=setTimeout(I,R)},_=async I=>{if(!t.disabled&&(d.isValid||I)){const R=e.resolver?er((await A()).errors):await M(r,!0);R!==n.isValid&&h.state.next({isValid:R})}},w=(I,R)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((I||Array.from(a.mount)).forEach(F=>{F&&(R?ot(n.validatingFields,F,R):Yt(n.validatingFields,F))}),h.state.next({validatingFields:n.validatingFields,isValidating:!er(n.validatingFields)}))},g=(I,R=[],F,ae,te=!0,Y=!0)=>{if(ae&&F&&!t.disabled){if(o.action=!0,Y&&Array.isArray(ne(r,I))){const ye=F(ne(r,I),ae.argA,ae.argB);te&&ot(r,I,ye)}if(Y&&Array.isArray(ne(n.errors,I))){const ye=F(ne(n.errors,I),ae.argA,ae.argB);te&&ot(n.errors,I,ye),jre(n.errors,I)}if(d.touchedFields&&Y&&Array.isArray(ne(n.touchedFields,I))){const ye=F(ne(n.touchedFields,I),ae.argA,ae.argB);te&&ot(n.touchedFields,I,ye)}d.dirtyFields&&(n.dirtyFields=$u(s,i)),h.state.next({name:I,isDirty:P(I,R),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ot(i,I,R)},x=(I,R)=>{ot(n.errors,I,R),h.state.next({errors:n.errors})},b=I=>{n.errors=I,h.state.next({errors:n.errors,isValid:!1})},E=(I,R,F,ae)=>{const te=ne(r,I);if(te){const Y=ne(i,I,Ot(F)?ne(s,I):F);Ot(Y)||ae&&ae.defaultChecked||R?ot(i,I,R?Y:Nx(te._f)):q(I,Y),o.mount&&_()}},S=(I,R,F,ae,te)=>{let Y=!1,ye=!1;const De={name:I};if(!t.disabled){const O=!!(ne(r,I)&&ne(r,I)._f&&ne(r,I)._f.disabled);if(!F||ae){d.isDirty&&(ye=n.isDirty,n.isDirty=De.isDirty=P(),Y=ye!==De.isDirty);const H=O||xo(ne(s,I),R);ye=!!(!O&&ne(n.dirtyFields,I)),H||O?Yt(n.dirtyFields,I):ot(n.dirtyFields,I,!0),De.dirtyFields=n.dirtyFields,Y=Y||d.dirtyFields&&ye!==!H}if(F){const H=ne(n.touchedFields,I);H||(ot(n.touchedFields,I,F),De.touchedFields=n.touchedFields,Y=Y||d.touchedFields&&H!==F)}Y&&te&&h.state.next(De)}return Y?De:{}},k=(I,R,F,ae)=>{const te=ne(n.errors,I),Y=d.isValid&&Lr(R)&&n.isValid!==R;if(t.delayError&&F?(l=v(()=>x(I,F)),l(t.delayError)):(clearTimeout(u),l=null,F?ot(n.errors,I,F):Yt(n.errors,I)),(F?!xo(te,F):te)||!er(ae)||Y){const ye={...ae,...Y&&Lr(R)?{isValid:R}:{},errors:n.errors,name:I};n={...n,...ye},h.state.next(ye)}},A=async I=>{w(I,!0);const R=await e.resolver(i,e.context,Are(I||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(I),R},j=async I=>{const{errors:R}=await A(I);if(I)for(const F of I){const ae=ne(R,F);ae?ot(n.errors,F,ae):Yt(n.errors,F)}else n.errors=R;return R},M=async(I,R,F={valid:!0})=>{for(const ae in I){const te=I[ae];if(te){const{_f:Y,...ye}=te;if(Y){const De=a.array.has(Y.name),O=te._f&&Nre(te._f);O&&d.validatingFields&&w([ae],!0);const H=await TA(te,i,y,e.shouldUseNativeValidation&&!R,De);if(O&&d.validatingFields&&w([ae]),H[Y.name]&&(F.valid=!1,R))break;!R&&(ne(H,Y.name)?De?Tre(n.errors,H,Y.name):ot(n.errors,Y.name,H[Y.name]):Yt(n.errors,Y.name))}!er(ye)&&await M(ye,R,F)}}return F.valid},L=()=>{for(const I of a.unMount){const R=ne(r,I);R&&(R._f.refs?R._f.refs.every(F=>!Ax(F)):!Ax(R._f.ref))&&fe(I)}a.unMount=new Set},P=(I,R)=>!t.disabled&&(I&&R&&ot(i,I,R),!xo(K(),s)),B=(I,R,F)=>$F(I,a,{...o.mount?i:Ot(R)?s:Qs(I)?{[I]:R}:R},F,R),V=I=>Yv(ne(o.mount?i:s,I,t.shouldUnregister?ne(s,I,[]):[])),q=(I,R,F={})=>{const ae=ne(r,I);let te=R;if(ae){const Y=ae._f;Y&&(!Y.disabled&&ot(i,I,GF(R,Y)),te=wg(Y.ref)&&Bn(R)?"":R,WF(Y.ref)?[...Y.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):Y.refs?Sf(Y.ref)?Y.refs.length>1?Y.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(te)?!!te.find(De=>De===ye.value):te===ye.value)):Y.refs[0]&&(Y.refs[0].checked=!!te):Y.refs.forEach(ye=>ye.checked=ye.value===te):PS(Y.ref)?Y.ref.value="":(Y.ref.value=te,Y.ref.type||h.values.next({name:I,values:{...i}})))}(F.shouldDirty||F.shouldTouch)&&S(I,te,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&T(I)},G=(I,R,F)=>{for(const ae in R){const te=R[ae],Y=`${I}.${ae}`,ye=ne(r,Y);(a.array.has(I)||$t(te)||ye&&!ye._f)&&!Ma(te)?G(Y,te,F):q(Y,te,F)}},ee=(I,R,F={})=>{const ae=ne(r,I),te=a.array.has(I),Y=Zn(R);ot(i,I,Y),te?(h.array.next({name:I,values:{...i}}),(d.isDirty||d.dirtyFields)&&F.shouldDirty&&h.state.next({name:I,dirtyFields:$u(s,i),isDirty:P(I,Y)})):ae&&!ae._f&&!Bn(Y)?G(I,Y,F):q(I,Y,F),xA(I,a)&&h.state.next({...n}),h.values.next({name:o.mount?I:void 0,values:{...i}})},N=async I=>{o.mount=!0;const R=I.target;let F=R.name,ae=!0;const te=ne(r,F),Y=()=>R.type?Nx(te._f):jF(I),ye=De=>{ae=Number.isNaN(De)||Ma(De)&&isNaN(De.getTime())||xo(De,ne(i,F,De))};if(te){let De,O;const H=Y(),ve=I.type===vg.BLUR||I.type===vg.FOCUS_OUT,Re=!Pre(te._f)&&!e.resolver&&!ne(n.errors,F)&&!te._f.deps||Rre(ve,ne(n.touchedFields,F),n.isSubmitted,p,f),Qe=xA(F,a,ve);ot(i,F,H),ve?(te._f.onBlur&&te._f.onBlur(I),l&&l(0)):te._f.onChange&&te._f.onChange(I);const cn=S(F,H,ve,!1),jr=!er(cn)||Qe;if(!ve&&h.values.next({name:F,type:I.type,values:{...i}}),Re)return d.isValid&&(t.mode==="onBlur"?ve&&_():_()),jr&&h.state.next({name:F,...Qe?{}:cn});if(!ve&&Qe&&h.state.next({...n}),e.resolver){const{errors:Fn}=await A([F]);if(ye(H),ae){const yi=kA(n.errors,r,F),Dr=kA(Fn,r,yi.name||F);De=Dr.error,F=Dr.name,O=er(Fn)}}else w([F],!0),De=(await TA(te,i,y,e.shouldUseNativeValidation))[F],w([F]),ye(H),ae&&(De?O=!1:d.isValid&&(O=await M(r,!0)));ae&&(te._f.deps&&T(te._f.deps),k(F,O,De,cn))}},D=(I,R)=>{if(ne(n.errors,R)&&I.focus)return I.focus(),1},T=async(I,R={})=>{let F,ae;const te=Ld(I);if(e.resolver){const Y=await j(Ot(I)?I:te);F=er(Y),ae=I?!te.some(ye=>ne(Y,ye)):F}else I?(ae=(await Promise.all(te.map(async Y=>{const ye=ne(r,Y);return await M(ye&&ye._f?{[Y]:ye}:ye)}))).every(Boolean),!(!ae&&!n.isValid)&&_()):ae=F=await M(r);return h.state.next({...!Qs(I)||d.isValid&&F!==n.isValid?{}:{name:I},...e.resolver||!I?{isValid:F}:{},errors:n.errors}),R.shouldFocus&&!ae&&Fd(r,D,I?te:a.mount),ae},K=I=>{const R={...o.mount?i:s};return Ot(I)?R:Qs(I)?ne(R,I):I.map(F=>ne(R,F))},se=(I,R)=>({invalid:!!ne((R||n).errors,I),isDirty:!!ne((R||n).dirtyFields,I),error:ne((R||n).errors,I),isValidating:!!ne(n.validatingFields,I),isTouched:!!ne((R||n).touchedFields,I)}),C=I=>{I&&Ld(I).forEach(R=>Yt(n.errors,R)),h.state.next({errors:I?n.errors:{}})},Ee=(I,R,F)=>{const ae=(ne(r,I,{_f:{}})._f||{}).ref,te=ne(n.errors,I)||{},{ref:Y,message:ye,type:De,...O}=te;ot(n.errors,I,{...O,...R,ref:ae}),h.state.next({name:I,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&ae&&ae.focus&&ae.focus()},nt=(I,R)=>Pi(I)?h.values.subscribe({next:F=>I(B(void 0,R),F)}):B(I,R,!0),fe=(I,R={})=>{for(const F of I?Ld(I):a.mount)a.mount.delete(F),a.array.delete(F),R.keepValue||(Yt(r,F),Yt(i,F)),!R.keepError&&Yt(n.errors,F),!R.keepDirty&&Yt(n.dirtyFields,F),!R.keepTouched&&Yt(n.touchedFields,F),!R.keepIsValidating&&Yt(n.validatingFields,F),!e.shouldUnregister&&!R.keepDefaultValue&&Yt(s,F);h.values.next({values:{...i}}),h.state.next({...n,...R.keepDirty?{isDirty:P()}:{}}),!R.keepIsValid&&_()},ce=({disabled:I,name:R,field:F,fields:ae,value:te})=>{if(Lr(I)&&o.mount||I){const Y=I?void 0:Ot(te)?Nx(F?F._f:ne(ae,R)._f):te;ot(i,R,Y),S(R,Y,!1,!1,!0)}},Te=(I,R={})=>{let F=ne(r,I);const ae=Lr(R.disabled)||Lr(t.disabled);return ot(r,I,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:I}},name:I,mount:!0,...R}}),a.mount.add(I),F?ce({field:F,disabled:Lr(R.disabled)?R.disabled:t.disabled,name:I,value:R.value}):E(I,!0,R.value),{...ae?{disabled:R.disabled||t.disabled}:{},...e.progressive?{required:!!R.required,min:Uu(R.min),max:Uu(R.max),minLength:Uu(R.minLength),maxLength:Uu(R.maxLength),pattern:Uu(R.pattern)}:{},name:I,onChange:N,onBlur:N,ref:te=>{if(te){Te(I,R),F=ne(r,I);const Y=Ot(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=Ire(Y),De=F._f.refs||[];if(ye?De.find(O=>O===Y):Y===F._f.ref)return;ot(r,I,{_f:{...F._f,...ye?{refs:[...De.filter(Ax),Y,...Array.isArray(ne(s,I))?[{}]:[]],ref:{type:Y.type,name:I}}:{ref:Y}}}),E(I,!1,void 0,Y)}else F=ne(r,I,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(DF(a.array,I)&&o.action)&&a.unMount.add(I)}}},Oe=()=>e.shouldFocusError&&Fd(r,D,a.mount),Pe=I=>{Lr(I)&&(h.state.next({disabled:I}),Fd(r,(R,F)=>{const ae=ne(r,F);ae&&(R.disabled=ae._f.disabled||I,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(te=>{te.disabled=ae._f.disabled||I}))},0,!1))},Be=(I,R)=>async F=>{let ae;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let te=Zn(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:ye}=await A();n.errors=Y,te=ye}else await M(r);if(Yt(n.errors,"root"),er(n.errors)){h.state.next({errors:{}});try{await I(te,F)}catch(Y){ae=Y}}else R&&await R({...n.errors},F),Oe(),setTimeout(Oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:er(n.errors)&&!ae,submitCount:n.submitCount+1,errors:n.errors}),ae)throw ae},qe=(I,R={})=>{ne(r,I)&&(Ot(R.defaultValue)?ee(I,Zn(ne(s,I))):(ee(I,R.defaultValue),ot(s,I,Zn(R.defaultValue))),R.keepTouched||Yt(n.touchedFields,I),R.keepDirty||(Yt(n.dirtyFields,I),n.isDirty=R.defaultValue?P(I,Zn(ne(s,I))):P()),R.keepError||(Yt(n.errors,I),d.isValid&&_()),h.state.next({...n}))},Ut=(I,R={})=>{const F=I?Zn(I):s,ae=Zn(F),te=er(I),Y=te?s:ae;if(R.keepDefaultValues||(s=F),!R.keepValues){if(R.keepDirtyValues){const ye=new Set([...a.mount,...Object.keys($u(s,i))]);for(const De of Array.from(ye))ne(n.dirtyFields,De)?ot(Y,De,ne(i,De)):ee(De,ne(Y,De))}else{if(IS&&Ot(I))for(const ye of a.mount){const De=ne(r,ye);if(De&&De._f){const O=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(wg(O)){const H=O.closest("form");if(H){H.reset();break}}}}r={}}i=t.shouldUnregister?R.keepDefaultValues?Zn(s):{}:Zn(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:R.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:R.keepSubmitCount?n.submitCount:0,isDirty:te?!1:R.keepDirty?n.isDirty:!!(R.keepDefaultValues&&!xo(I,s)),isSubmitted:R.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:R.keepDirtyValues?R.keepDefaultValues&&i?$u(s,i):n.dirtyFields:R.keepDefaultValues&&I?$u(s,I):R.keepDirty?n.dirtyFields:{},touchedFields:R.keepTouched?n.touchedFields:{},errors:R.keepErrors?n.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},tn=(I,R)=>Ut(Pi(I)?I(i):I,R);return{control:{register:Te,unregister:fe,getFieldState:se,handleSubmit:Be,setError:Ee,_executeSchema:A,_getWatch:B,_getDirty:P,_updateValid:_,_removeUnmounted:L,_updateFieldArray:g,_updateDisabledField:ce,_getFieldArray:V,_reset:Ut,_resetDefaultValues:()=>Pi(e.defaultValues)&&e.defaultValues().then(I=>{tn(I,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:I=>{n={...n,...I}},_disableForm:Pe,_subjects:h,_proxyFormState:d,_setErrors:b,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(I){o=I},get _defaultValues(){return s},get _names(){return a},set _names(I){a=I},get _formState(){return n},set _formState(I){n=I},get _options(){return e},set _options(I){e={...e,...I}}},trigger:T,register:Te,handleSubmit:Be,watch:nt,setValue:ee,getValues:K,reset:tn,resetField:qe,clearErrors:C,unregister:fe,setError:Ee,setFocus:(I,R={})=>{const F=ne(r,I),ae=F&&F._f;if(ae){const te=ae.refs?ae.refs[0]:ae.ref;te.focus&&(te.focus(),R.shouldSelect&&te.select())}},getFieldState:se}}function jS(t={}){const e=U.useRef(),n=U.useRef(),[r,s]=U.useState({isDirty:!1,isValidating:!1,isLoading:Pi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Pi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Mre(t),formState:r});const i=e.current.control;return i._options=t,NS({subject:i._subjects.state,next:o=>{FF(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),U.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),U.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),U.useEffect(()=>{t.values&&!xo(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),U.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),U.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),U.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),U.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=LF(r,i),e.current}const IA=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ne(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},KF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?IA(r.ref,n,t):r.refs&&r.refs.forEach(s=>IA(s,n,t))}},Ore=(t,e)=>{e.shouldUseNativeValidation&&KF(t,e);const n={};for(const r in t){const s=ne(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Lre(e.names||Object.keys(t),r)){const o=Object.assign({},ne(n,r));ot(o,"root",i),ot(n,r,o)}else ot(n,r,i)}return n},Lre=(t,e)=>t.some(n=>n.startsWith(e+"."));var Fre=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=UF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},DS=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&KF({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Ore(Fre(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},et;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(et||(et={}));var AA;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(AA||(AA={}));const ue=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ea=t=>{switch(typeof t){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return isNaN(t)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(t)?ue.array:t===null?ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ue.promise:typeof Map<"u"&&t instanceof Map?ue.map:typeof Set<"u"&&t instanceof Set?ue.set:typeof Date<"u"&&t instanceof Date?ue.date:ue.object;default:return ue.unknown}},J=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof Kr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Kr.create=t=>new Kr(t);const Lh=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ue.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,et.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${et.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${et.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${et.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:et.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,et.assertNever(t)}return{message:n}};let Vre=Lh;function tb(){return Vre}const nb=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function le(t,e){const n=tb(),r=nb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Lh?void 0:Lh].filter(s=>!!s)});t.common.issues.push(r)}class Kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ie;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Kn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ie;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Ie=Object.freeze({status:"aborted"}),sd=t=>({status:"dirty",value:t}),cr=t=>({status:"valid",value:t}),NA=t=>t.status==="aborted",PA=t=>t.status==="dirty",bg=t=>t.status==="valid",Eg=t=>typeof Promise<"u"&&t instanceof Promise;function Sg(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function QF(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));var id,od;class ui{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RA=(t,e)=>{if(bg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kr(t.common.issues);return this._error=n,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class We{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ea(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ea(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kn,ctx:{common:e.parent.common,data:e.data,parsedType:Ea(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Eg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ea(e)},i=this._parseSync({data:e,path:s.path,parent:s});return RA(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ea(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Eg(s)?s:Promise.resolve(s));return RA(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qi({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Fi.create(this,this._def)}nullable(){return ll.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ri.create(this,this._def)}promise(){return Vh.create(this,this._def)}or(e){return kg.create([this,e],this._def)}and(e){return Ig.create(this,e,this._def)}transform(e){return new Qi({...Ve(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new jg({...Ve(this._def),innerType:this,defaultValue:n,typeName:Se.ZodDefault})}brand(){return new ZF({typeName:Se.ZodBranded,type:this,...Ve(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Dg({...Ve(this._def),innerType:this,catchValue:n,typeName:Se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Jv.create(this,e)}readonly(){return Mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $re=/^c[^\s-]{8,}$/i,Ure=/^[0-9a-z]+$/,Bre=/^[0-9A-HJKMNP-TV-Z]{26}$/,zre=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wre=/^[a-z0-9_-]{21}$/i,Hre=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qre=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gre="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Px;const Kre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qre=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Yre=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,YF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Xre=new RegExp(`^${YF}$`);function XF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Jre(t){return new RegExp(`^${XF(t)}$`)}function Zre(t){let e=`${YF}T${XF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ese(t,e){return!!((e==="v4"||!e)&&Kre.test(t)||(e==="v6"||!e)&&Qre.test(t))}class Ri extends We{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ue.string,received:i.parsedType}),Ie}const r=new Kn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?le(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&le(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")qre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Px||(Px=new RegExp(Gre,"u")),Px.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")zre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Wre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")$re.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Ure.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Bre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Zre(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Xre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Jre(i).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Hre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?ese(e.data,i.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Yre.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):et.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...me.errToObj(r)})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...me.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...me.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...me.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...me.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...me.errToObj(n)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ri.create=t=>{var e;return new Ri({checks:[],typeName:Se.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};function tse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class eu extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ue.number,received:i.parsedType}),Ie}let r;const s=new Kn;for(const i of this._def.checks)i.kind==="int"?et.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?tse(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_finite,message:i.message}),s.dirty()):et.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new eu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new eu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&et.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}eu.create=t=>new eu({checks:[],typeName:Se.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class tu extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ue.bigint){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ue.bigint,received:i.parsedType}),Ie}let r;const s=new Kn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),le(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):et.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new tu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tu.create=t=>{var e;return new tu({checks:[],typeName:Se.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ve(t)})};class rb extends We{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.boolean,received:r.parsedType}),Ie}return cr(e.data)}}rb.create=t=>new rb({typeName:Se.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class Fh extends We{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_type,expected:ue.date,received:i.parsedType}),Ie}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return le(i,{code:J.invalid_date}),Ie}const r=new Kn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):et.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Fh.create=t=>new Fh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Se.ZodDate,...Ve(t)});class sb extends We{_parse(e){if(this._getType(e)!==ue.symbol){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.symbol,received:r.parsedType}),Ie}return cr(e.data)}}sb.create=t=>new sb({typeName:Se.ZodSymbol,...Ve(t)});class Tg extends We{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.undefined,received:r.parsedType}),Ie}return cr(e.data)}}Tg.create=t=>new Tg({typeName:Se.ZodUndefined,...Ve(t)});class Cg extends We{_parse(e){if(this._getType(e)!==ue.null){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.null,received:r.parsedType}),Ie}return cr(e.data)}}Cg.create=t=>new Cg({typeName:Se.ZodNull,...Ve(t)});class ib extends We{constructor(){super(...arguments),this._any=!0}_parse(e){return cr(e.data)}}ib.create=t=>new ib({typeName:Se.ZodAny,...Ve(t)});class wc extends We{constructor(){super(...arguments),this._unknown=!0}_parse(e){return cr(e.data)}}wc.create=t=>new wc({typeName:Se.ZodUnknown,...Ve(t)});class na extends We{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:J.invalid_type,expected:ue.never,received:n.parsedType}),Ie}}na.create=t=>new na({typeName:Se.ZodNever,...Ve(t)});class ob extends We{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.void,received:r.parsedType}),Ie}return cr(e.data)}}ob.create=t=>new ob({typeName:Se.ZodVoid,...Ve(t)});class ri extends We{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ue.array)return le(n,{code:J.invalid_type,expected:ue.array,received:n.parsedType}),Ie;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(le(n,{code:o?J.too_big:J.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ui(n,o,n.path,a)))).then(o=>Kn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ui(n,o,n.path,a)));return Kn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ri({...this._def,minLength:{value:e,message:me.toString(n)}})}max(e,n){return new ri({...this._def,maxLength:{value:e,message:me.toString(n)}})}length(e,n){return new ri({...this._def,exactLength:{value:e,message:me.toString(n)}})}nonempty(e){return this.min(1,e)}}ri.create=(t,e)=>new ri({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Ve(e)});function Vl(t){if(t instanceof Dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Fi.create(Vl(r))}return new Dt({...t._def,shape:()=>e})}else return t instanceof ri?new ri({...t._def,type:Vl(t.element)}):t instanceof Fi?Fi.create(Vl(t.unwrap())):t instanceof ll?ll.create(Vl(t.unwrap())):t instanceof Ki?Ki.create(t.items.map(e=>Vl(e))):t}class Dt extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=et.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ue.object){const u=this._getOrReturnCtx(e);return le(u,{code:J.invalid_type,expected:ue.object,received:u.parsedType}),Ie}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=i[u],h=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new ui(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof na){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(le(s,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new ui(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Kn.mergeObjectSync(r,u)):Kn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new Dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=me.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Dt({...this._def,catchall:e})}pick(e){const n={};return et.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Dt({...this._def,shape:()=>n})}omit(e){const n={};return et.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Dt({...this._def,shape:()=>n})}deepPartial(){return Vl(this)}partial(e){const n={};return et.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Dt({...this._def,shape:()=>n})}required(e){const n={};return et.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fi;)i=i._def.innerType;n[r]=i}}),new Dt({...this._def,shape:()=>n})}keyof(){return JF(et.objectKeys(this.shape))}}Dt.create=(t,e)=>new Dt({shape:()=>t,unknownKeys:"strip",catchall:na.create(),typeName:Se.ZodObject,...Ve(e)});Dt.strictCreate=(t,e)=>new Dt({shape:()=>t,unknownKeys:"strict",catchall:na.create(),typeName:Se.ZodObject,...Ve(e)});Dt.lazycreate=(t,e)=>new Dt({shape:t,unknownKeys:"strip",catchall:na.create(),typeName:Se.ZodObject,...Ve(e)});class kg extends We{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Kr(a.ctx.common.issues));return le(n,{code:J.invalid_union,unionErrors:o}),Ie}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Kr(l));return le(n,{code:J.invalid_union,unionErrors:a}),Ie}}get options(){return this._def.options}}kg.create=(t,e)=>new kg({options:t,typeName:Se.ZodUnion,...Ve(e)});const _i=t=>t instanceof Ng?_i(t.schema):t instanceof Qi?_i(t.innerType()):t instanceof Pg?[t.value]:t instanceof al?t.options:t instanceof Rg?et.objectValues(t.enum):t instanceof jg?_i(t._def.innerType):t instanceof Tg?[void 0]:t instanceof Cg?[null]:t instanceof Fi?[void 0,..._i(t.unwrap())]:t instanceof ll?[null,..._i(t.unwrap())]:t instanceof ZF||t instanceof Mg?_i(t.unwrap()):t instanceof Dg?_i(t._def.innerType):[];class MS extends We{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.object)return le(n,{code:J.invalid_type,expected:ue.object,received:n.parsedType}),Ie;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(le(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=_i(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new MS({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Ve(r)})}}function ab(t,e){const n=Ea(t),r=Ea(e);if(t===e)return{valid:!0,data:t};if(n===ue.object&&r===ue.object){const s=et.objectKeys(e),i=et.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=ab(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ue.array&&r===ue.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=ab(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ue.date&&r===ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ig extends We{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(NA(i)||NA(o))return Ie;const a=ab(i.value,o.value);return a.valid?((PA(i)||PA(o))&&n.dirty(),{status:n.value,value:a.data}):(le(r,{code:J.invalid_intersection_types}),Ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ig.create=(t,e,n)=>new Ig({left:t,right:e,typeName:Se.ZodIntersection,...Ve(n)});class Ki extends We{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.array)return le(r,{code:J.invalid_type,expected:ue.array,received:r.parsedType}),Ie;if(r.data.length<this._def.items.length)return le(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ui(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Kn.mergeArray(n,o)):Kn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ki({...this._def,rest:e})}}Ki.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ki({items:t,typeName:Se.ZodTuple,rest:null,...Ve(e)})};class Ag extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.object)return le(r,{code:J.invalid_type,expected:ue.object,received:r.parsedType}),Ie;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ui(r,a,r.path,a)),value:o._parse(new ui(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Kn.mergeObjectAsync(n,s):Kn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof We?new Ag({keyType:e,valueType:n,typeName:Se.ZodRecord,...Ve(r)}):new Ag({keyType:Ri.create(),valueType:e,typeName:Se.ZodRecord,...Ve(n)})}}class lb extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.map)return le(r,{code:J.invalid_type,expected:ue.map,received:r.parsedType}),Ie;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:s._parse(new ui(r,a,r.path,[u,"key"])),value:i._parse(new ui(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Ie;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Ie;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}lb.create=(t,e,n)=>new lb({valueType:e,keyType:t,typeName:Se.ZodMap,...Ve(n)});class nu extends We{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.set)return le(r,{code:J.invalid_type,expected:ue.set,received:r.parsedType}),Ie;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(le(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(le(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Ie;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>i._parse(new ui(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new nu({...this._def,minSize:{value:e,message:me.toString(n)}})}max(e,n){return new nu({...this._def,maxSize:{value:e,message:me.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nu.create=(t,e)=>new nu({valueType:t,minSize:null,maxSize:null,typeName:Se.ZodSet,...Ve(e)});class Vd extends We{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.function)return le(n,{code:J.invalid_type,expected:ue.function,received:n.parsedType}),Ie;function r(a,l){return nb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tb(),Lh].filter(u=>!!u),issueData:{code:J.invalid_arguments,argumentsError:l}})}function s(a,l){return nb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tb(),Lh].filter(u=>!!u),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Vh){const a=this;return cr(async function(...l){const u=new Kr([]),d=await a._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(r(l,p)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(p=>{throw u.addIssue(s(h,p)),u})})}else{const a=this;return cr(function(...l){const u=a._def.args.safeParse(l,i);if(!u.success)throw new Kr([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new Kr([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Vd({...this._def,args:Ki.create(e).rest(wc.create())})}returns(e){return new Vd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Vd({args:e||Ki.create([]).rest(wc.create()),returns:n||wc.create(),typeName:Se.ZodFunction,...Ve(r)})}}class Ng extends We{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ng.create=(t,e)=>new Ng({getter:t,typeName:Se.ZodLazy,...Ve(e)});class Pg extends We{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:e.data}}get value(){return this._def.value}}Pg.create=(t,e)=>new Pg({value:t,typeName:Se.ZodLiteral,...Ve(e)});function JF(t,e){return new al({values:t,typeName:Se.ZodEnum,...Ve(e)})}class al extends We{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{expected:et.joinValues(r),received:n.parsedType,code:J.invalid_type}),Ie}if(Sg(this,id)||QF(this,id,new Set(this._def.values)),!Sg(this,id).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{received:n.data,code:J.invalid_enum_value,options:r}),Ie}return cr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return al.create(e,{...this._def,...n})}exclude(e,n=this._def){return al.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}id=new WeakMap;al.create=JF;class Rg extends We{constructor(){super(...arguments),od.set(this,void 0)}_parse(e){const n=et.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ue.string&&r.parsedType!==ue.number){const s=et.objectValues(n);return le(r,{expected:et.joinValues(s),received:r.parsedType,code:J.invalid_type}),Ie}if(Sg(this,od)||QF(this,od,new Set(et.getValidEnumValues(this._def.values))),!Sg(this,od).has(e.data)){const s=et.objectValues(n);return le(r,{received:r.data,code:J.invalid_enum_value,options:s}),Ie}return cr(e.data)}get enum(){return this._def.values}}od=new WeakMap;Rg.create=(t,e)=>new Rg({values:t,typeName:Se.ZodNativeEnum,...Ve(e)});class Vh extends We{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.promise&&n.common.async===!1)return le(n,{code:J.invalid_type,expected:ue.promise,received:n.parsedType}),Ie;const r=n.parsedType===ue.promise?n.data:Promise.resolve(n.data);return cr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vh.create=(t,e)=>new Vh({type:t,typeName:Se.ZodPromise,...Ve(e)});class Qi extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Ie;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ie:l.status==="dirty"||n.value==="dirty"?sd(l.value):l});{if(n.value==="aborted")return Ie;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ie:a.status==="dirty"||n.value==="dirty"?sd(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ie:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ie:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bg(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bg(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);et.assertNever(s)}}Qi.create=(t,e,n)=>new Qi({schema:t,typeName:Se.ZodEffects,effect:e,...Ve(n)});Qi.createWithPreprocess=(t,e,n)=>new Qi({schema:e,effect:{type:"preprocess",transform:t},typeName:Se.ZodEffects,...Ve(n)});class Fi extends We{_parse(e){return this._getType(e)===ue.undefined?cr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fi.create=(t,e)=>new Fi({innerType:t,typeName:Se.ZodOptional,...Ve(e)});class ll extends We{_parse(e){return this._getType(e)===ue.null?cr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ll.create=(t,e)=>new ll({innerType:t,typeName:Se.ZodNullable,...Ve(e)});class jg extends We{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}jg.create=(t,e)=>new jg({innerType:t,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class Dg extends We{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Eg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Kr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Kr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dg.create=(t,e)=>new Dg({innerType:t,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class cb extends We{_parse(e){if(this._getType(e)!==ue.nan){const r=this._getOrReturnCtx(e);return le(r,{code:J.invalid_type,expected:ue.nan,received:r.parsedType}),Ie}return{status:"valid",value:e.data}}}cb.create=t=>new cb({typeName:Se.ZodNaN,...Ve(t)});class ZF extends We{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Jv extends We{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ie:i.status==="dirty"?(n.dirty(),sd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ie:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Jv({in:e,out:n,typeName:Se.ZodPipeline})}}class Mg extends We{_parse(e){const n=this._def.innerType._parse(e),r=s=>(bg(s)&&(s.value=Object.freeze(s.value)),s);return Eg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Mg.create=(t,e)=>new Mg({innerType:t,typeName:Se.ZodReadonly,...Ve(e)});Dt.lazycreate;var Se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Se||(Se={}));const _o=Ri.create;eu.create;cb.create;tu.create;const nse=rb.create;Fh.create;sb.create;Tg.create;Cg.create;ib.create;wc.create;na.create;ob.create;const rse=ri.create,OS=Dt.create;Dt.strictCreate;kg.create;MS.create;Ig.create;Ki.create;Ag.create;lb.create;nu.create;Vd.create;Ng.create;const sse=Pg.create;al.create;Rg.create;Vh.create;Qi.create;Fi.create;ll.create;Qi.createWithPreprocess;Jv.create;var ise="Label",eV=m.forwardRef((t,e)=>c.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eV.displayName=ise;var tV=eV;const ose=gl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ho=m.forwardRef(({className:t,...e},n)=>c.jsx(tV,{ref:n,className:re(ose(),t),...e}));Ho.displayName=tV.displayName;const LS=xre,nV=m.createContext({}),$s=({...t})=>c.jsx(nV.Provider,{value:{name:t.name},children:c.jsx(Sre,{...t})}),Zv=()=>{const t=m.useContext(nV),e=m.useContext(rV),{getFieldState:n,formState:r}=Xv(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},rV=m.createContext({}),fs=m.forwardRef(({className:t,...e},n)=>{const r=m.useId();return c.jsx(rV.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:re("space-y-2",t),...e})})});fs.displayName="FormItem";const Fr=m.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Zv();return c.jsx(Ho,{ref:n,className:re(r&&"text-destructive",t),htmlFor:s,...e})});Fr.displayName="FormLabel";const ps=m.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Zv();return c.jsx(Gn,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});ps.displayName="FormControl";const ase=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Zv();return c.jsx("p",{ref:n,id:r,className:re("text-sm text-muted-foreground",t),...e})});ase.displayName="FormDescription";const Us=m.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Zv(),o=s?String(s==null?void 0:s.message):e;return o?c.jsx("p",{ref:r,id:i,className:re("text-sm font-medium text-destructive",t),...n,children:o}):null});Us.displayName="FormMessage";function sV(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var FS="Checkbox",[lse,vhe]=fi(FS),[cse,use]=lse(FS),iV=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=m.useState(null),y=Je(e,b=>p(b)),v=m.useRef(!1),_=f?d||!!f.closest("form"):!0,[w=!1,g]=si({prop:s,defaultProp:i,onChange:u}),x=m.useRef(w);return m.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const E=()=>g(x.current);return b.addEventListener("reset",E),()=>b.removeEventListener("reset",E)}},[f,g]),c.jsxs(cse,{scope:n,state:w,disabled:a,children:[c.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":qo(w)?"mixed":w,"aria-required":o,"data-state":lV(w),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:y,onKeyDown:Z(t.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Z(t.onClick,b=>{g(E=>qo(E)?!0:!E),_&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),_&&c.jsx(dse,{control:f,bubbles:!v.current,name:r,value:l,checked:w,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:qo(i)?!1:i})]})});iV.displayName=FS;var oV="CheckboxIndicator",aV=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=use(oV,n);return c.jsx(ur,{present:r||qo(i.state)||i.state===!0,children:c.jsx(xe.span,{"data-state":lV(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});aV.displayName=oV;var dse=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=m.useRef(null),a=sV(n),l=_2(e);m.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&p){const y=new Event("click",{bubbles:r});d.indeterminate=qo(n),p.call(d,qo(n)?!1:n),d.dispatchEvent(y)}},[a,n,r]);const u=m.useRef(qo(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qo(t){return t==="indeterminate"}function lV(t){return qo(t)?"indeterminate":t?"checked":"unchecked"}var cV=iV,hse=aV;const Og=m.forwardRef(({className:t,...e},n)=>c.jsx(cV,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(hse,{className:re("flex items-center justify-center text-current"),children:c.jsx(dn,{className:"h-4 w-4"})})}));Og.displayName=cV.displayName;const fse=[{id:"tiktok",label:"TikTok"},{id:"youtube",label:"YouTube"},{id:"youtube-shorts",label:"YouTube Shorts"},{id:"instagram",label:"Instagram"},{id:"shopify",label:"Shopify"}],pse=OS({username:_o().min(3,"Username must be at least 3 characters"),email:_o().email("Please enter a valid email address"),password:_o().min(8,"Password must be at least 8 characters"),confirmPassword:_o(),platforms:rse(_o()).min(1,"Please select at least one platform"),terms:sse(!0,{errorMap:()=>({message:"You must accept the terms and conditions"})})}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function mse(){var o;const{register:t}=Zr(),[e,n]=m.useState(!1),r=Pr(),s=jS({resolver:DS(pse),defaultValues:{username:"",email:"",password:"",confirmPassword:"",platforms:[],terms:!1}}),i=async a=>{n(!0);try{await t(a.email,a.password,a.username,a.platforms),r("/dashboard")}catch(l){console.error("Registration error:",l)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:c.jsxs(Fe,{className:"w-full max-w-md",children:[c.jsxs(at,{className:"space-y-1",children:[c.jsx(lt,{className:"text-2xl font-bold text-center",children:"Create an account"}),c.jsx(ft,{className:"text-center",children:"Enter your details below to create your account"})]}),c.jsx(Ze,{children:c.jsx(LS,{...s,children:c.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[c.jsx($s,{control:s.control,name:"username",render:({field:a})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Username"}),c.jsx(ps,{children:c.jsx(Ks,{placeholder:"johndoe",...a})}),c.jsx(Us,{})]})}),c.jsx($s,{control:s.control,name:"email",render:({field:a})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Email"}),c.jsx(ps,{children:c.jsx(Ks,{type:"email",placeholder:"john.doe@example.com",...a})}),c.jsx(Us,{})]})}),c.jsx($s,{control:s.control,name:"password",render:({field:a})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Password"}),c.jsx(ps,{children:c.jsx(Ks,{type:"password",placeholder:"********",...a})}),c.jsx(Us,{})]})}),c.jsx($s,{control:s.control,name:"confirmPassword",render:({field:a})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Confirm Password"}),c.jsx(ps,{children:c.jsx(Ks,{type:"password",placeholder:"********",...a})}),c.jsx(Us,{})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Fr,{children:"Select Platforms"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:fse.map(a=>c.jsx($s,{control:s.control,name:"platforms",render:({field:l})=>{var u;return c.jsxs(fs,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c.jsx(ps,{children:c.jsx(Og,{checked:(u=l.value)==null?void 0:u.includes(a.id),onCheckedChange:d=>{var h;return d?l.onChange([...l.value,a.id]):l.onChange((h=l.value)==null?void 0:h.filter(f=>f!==a.id))}})}),c.jsx(Fr,{className:"font-normal",children:a.label})]},a.id)}},a.id))}),c.jsx(Us,{children:(o=s.formState.errors.platforms)==null?void 0:o.message})]}),c.jsx($s,{control:s.control,name:"terms",render:({field:a})=>c.jsxs(fs,{className:"flex flex-row items-start space-x-3 space-y-0 mt-4",children:[c.jsx(ps,{children:c.jsx(Og,{checked:a.value,onCheckedChange:a.onChange})}),c.jsxs("div",{className:"space-y-1 leading-none",children:[c.jsxs(Fr,{children:["I agree to the"," ",c.jsx(jt,{to:"/terms",className:"text-primary underline hover:text-primary/80",children:"terms of service"})," ","and"," ",c.jsx(jt,{to:"/privacy",className:"text-primary underline hover:text-primary/80",children:"privacy policy"})]}),c.jsx(Us,{})]})]})}),c.jsx(_e,{type:"submit",className:"w-full",disabled:e,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ii,{className:"mr-2 h-4 w-4 animate-spin"})," Creating account..."]}):c.jsxs(c.Fragment,{children:[c.jsx(E9,{className:"mr-2 h-4 w-4"})," Create account"]})})]})})}),c.jsx(Jt,{className:"flex justify-center",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",c.jsx(jt,{to:"/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]})})]})})}const gse=OS({email:_o().email("Please enter a valid email address"),password:_o().min(1,"Password is required"),rememberMe:nse().optional()});function yse(){var l;const{login:t}=Zr(),[e,n]=m.useState(!1),r=Pr(),i=((l=Ji().state)==null?void 0:l.from)||"/dashboard",o=jS({resolver:DS(gse),defaultValues:{email:"",password:"",rememberMe:!0}}),a=async u=>{n(!0);try{await t(u.email,u.password),r(i,{replace:!0})}catch(d){console.error("Login error:",d)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:c.jsxs(Fe,{className:"w-full max-w-md",children:[c.jsxs(at,{className:"space-y-1",children:[c.jsx(lt,{className:"text-2xl font-bold text-center",children:"Sign in to your account"}),c.jsx(ft,{className:"text-center",children:"Enter your email and password to access your account"})]}),c.jsx(Ze,{children:c.jsx(LS,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(a),className:"space-y-4",children:[c.jsx($s,{control:o.control,name:"email",render:({field:u})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Email"}),c.jsx(ps,{children:c.jsx(Ks,{type:"email",placeholder:"john.doe@example.com",...u})}),c.jsx(Us,{})]})}),c.jsx($s,{control:o.control,name:"password",render:({field:u})=>c.jsxs(fs,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Fr,{children:"Password"}),c.jsx(jt,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:underline",children:"Forgot password?"})]}),c.jsx(ps,{children:c.jsx(Ks,{type:"password",placeholder:"********",...u})}),c.jsx(Us,{})]})}),c.jsx($s,{control:o.control,name:"rememberMe",render:({field:u})=>c.jsxs(fs,{className:"flex flex-row items-start space-x-3 space-y-0",children:[c.jsx(ps,{children:c.jsx(Og,{checked:u.value,onCheckedChange:u.onChange})}),c.jsx("div",{className:"space-y-1 leading-none",children:c.jsx(Fr,{children:"Remember me"})})]})}),c.jsx(_e,{type:"submit",className:"w-full",disabled:e,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ii,{className:"mr-2 h-4 w-4 animate-spin"})," Signing in..."]}):c.jsxs(c.Fragment,{children:[c.jsx(R9,{className:"mr-2 h-4 w-4"})," Sign in"]})})]})})}),c.jsx(Jt,{className:"flex justify-center",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",c.jsx(jt,{to:"/register",className:"text-primary font-medium hover:underline",children:"Create account"})]})})]})})}const vse=gl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ra=m.forwardRef(({className:t,variant:e,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:re(vse({variant:e}),t),...n}));ra.displayName="Alert";const ru=m.forwardRef(({className:t,...e},n)=>c.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",t),...e}));ru.displayName="AlertTitle";const sa=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",t),...e}));sa.displayName="AlertDescription";const wse=OS({email:_o().email("Please enter a valid email address")});function xse(){const{resetPassword:t}=Zr(),[e,n]=m.useState(!1),[r,s]=m.useState(!1),[i,o]=m.useState(null),a=jS({resolver:DS(wse),defaultValues:{email:""}}),l=async u=>{n(!0),o(null);try{await t(u.email),s(!0)}catch(d){o(d.message)}finally{n(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-12",children:c.jsxs(Fe,{className:"w-full max-w-md",children:[c.jsxs(at,{className:"space-y-1",children:[c.jsx(lt,{className:"text-2xl font-bold text-center",children:"Reset your password"}),c.jsx(ft,{className:"text-center",children:"Enter your email address and we'll send you a link to reset your password"})]}),c.jsx(Ze,{children:r?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-center",children:c.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:c.jsx(j9,{className:"h-6 w-6 text-primary"})})}),c.jsxs(ra,{children:[c.jsx(ru,{children:"Email sent!"}),c.jsx(sa,{children:"Check your inbox for a password reset link. It may take a few minutes to arrive."})]}),c.jsx(_e,{asChild:!0,className:"w-full",children:c.jsx(jt,{to:"/login",children:"Return to login"})})]}):c.jsx(LS,{...a,children:c.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[i&&c.jsxs(ra,{variant:"destructive",children:[c.jsx(ru,{children:"Error"}),c.jsx(sa,{children:i})]}),c.jsx($s,{control:a.control,name:"email",render:({field:u})=>c.jsxs(fs,{children:[c.jsx(Fr,{children:"Email"}),c.jsx(ps,{children:c.jsx(Ks,{type:"email",placeholder:"john.doe@example.com",...u})}),c.jsx(Us,{})]})}),c.jsx(_e,{type:"submit",className:"w-full",disabled:e,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ii,{className:"mr-2 h-4 w-4 animate-spin"})," Sending reset link..."]}):"Send reset link"})]})})}),c.jsx(Jt,{className:"flex justify-center",children:c.jsxs("p",{className:"text-sm text-gray-500",children:["Remember your password?"," ",c.jsx(jt,{to:"/login",className:"text-primary font-medium hover:underline",children:"Back to login"})]})})]})})}function kr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function cl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const uV=6048e5,_se=864e5;let bse={};function ew(){return bse}function $h(t,e){var a,l,u,d;const n=ew(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=kr(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Lg(t){return $h(t,{weekStartsOn:1})}function dV(t){const e=kr(t),n=e.getFullYear(),r=cl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Lg(r),i=cl(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Lg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function jA(t){const e=kr(t);return e.setHours(0,0,0,0),e}function DA(t){const e=kr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function hV(t,e){const n=jA(t),r=jA(e),s=+n-DA(n),i=+r-DA(r);return Math.round((s-i)/_se)}function Ese(t){const e=dV(t),n=cl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lg(n)}function Sse(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tse(t){if(!Sse(t)&&typeof t!="number")return!1;const e=kr(t);return!isNaN(Number(e))}function Cse(t,e){const n=kr(t),r=kr(e),s=MA(n,r),i=Math.abs(hV(n,r));n.setDate(n.getDate()-s*i);const o=+(MA(n,r)===-s),a=s*(i-o);return a===0?0:a}function MA(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function kse(t){const e=kr(t),n=cl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ise={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ase=(t,e,n)=>{let r;const s=Ise[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Nse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jse={date:Rx({formats:Nse,defaultWidth:"full"}),time:Rx({formats:Pse,defaultWidth:"full"}),dateTime:Rx({formats:Rse,defaultWidth:"full"})},Dse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mse=(t,e,n,r)=>Dse[t];function Bu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Ose={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Lse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Use={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Bse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},zse={ordinalNumber:Bse,era:Bu({values:Ose,defaultWidth:"wide"}),quarter:Bu({values:Lse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bu({values:Fse,defaultWidth:"wide"}),day:Bu({values:Vse,defaultWidth:"wide"}),dayPeriod:Bu({values:$se,defaultWidth:"wide",formattingValues:Use,defaultFormattingWidth:"wide"})};function zu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Hse(a,h=>h.test(o)):Wse(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Wse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Hse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function qse(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const Gse=/^(\d+)(th|st|nd|rd)?/i,Kse=/\d+/i,Qse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yse={any:[/^b/i,/^(a|c)/i]},Xse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jse={any:[/1/i,/2/i,/3/i,/4/i]},Zse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iie={ordinalNumber:qse({matchPattern:Gse,parsePattern:Kse,valueCallback:t=>parseInt(t,10)}),era:zu({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Yse,defaultParseWidth:"any"}),quarter:zu({matchPatterns:Xse,defaultMatchWidth:"wide",parsePatterns:Jse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zu({matchPatterns:Zse,defaultMatchWidth:"wide",parsePatterns:eie,defaultParseWidth:"any"}),day:zu({matchPatterns:tie,defaultMatchWidth:"wide",parsePatterns:nie,defaultParseWidth:"any"}),dayPeriod:zu({matchPatterns:rie,defaultMatchWidth:"any",parsePatterns:sie,defaultParseWidth:"any"})},oie={code:"en-US",formatDistance:Ase,formatLong:jse,formatRelative:Mse,localize:zse,match:iie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aie(t){const e=kr(t);return hV(e,kse(e))+1}function lie(t){const e=kr(t),n=+Lg(e)-+Ese(e);return Math.round(n/uV)+1}function fV(t,e){var d,h,f,p;const n=kr(t),r=n.getFullYear(),s=ew(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=cl(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=$h(o,e),l=cl(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=$h(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function cie(t,e){var a,l,u,d;const n=ew(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=fV(t,e),i=cl(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),$h(i,e)}function uie(t,e){const n=kr(t),r=+$h(n,e)-+cie(n,e);return Math.round(r/uV)+1}function ct(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ct(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ct(n+1,2)},d(t,e){return ct(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ct(t.getHours()%12||12,e.length)},H(t,e){return ct(t.getHours(),e.length)},m(t,e){return ct(t.getMinutes(),e.length)},s(t,e){return ct(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ct(s,e.length)}},jl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const s=fV(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ct(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):ct(i,e.length)},R:function(t,e){const n=dV(t);return ct(n,e.length)},u:function(t,e){const n=t.getFullYear();return ct(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ct(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ct(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ct(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=uie(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):ct(s,e.length)},I:function(t,e,n){const r=lie(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ct(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=aie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ct(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ct(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ct(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return ct(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=jl.noon:r===0?s=jl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=jl.evening:r>=12?s=jl.afternoon:r>=4?s=jl.morning:s=jl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ct(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FA(r);case"XXXX":case"XX":return _a(r);case"XXXXX":case"XXX":default:return _a(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FA(r);case"xxxx":case"xx":return _a(r);case"xxxxx":case"xxx":default:return _a(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LA(r,":");case"OOOO":default:return"GMT"+_a(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LA(r,":");case"zzzz":default:return"GMT"+_a(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ct(r,e.length)},T:function(t,e,n){const r=t.getTime();return ct(r,e.length)}};function LA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+ct(i,2)}function FA(t,e){return t%60===0?(t>0?"-":"+")+ct(Math.abs(t)/60,2):_a(t,e)}function _a(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=ct(Math.trunc(r/60),2),i=ct(r%60,2);return n+s+e+i}const VA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},die=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return VA(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",VA(r,e)).replace("{{time}}",pV(s,e))},hie={p:pV,P:die},fie=/^D+$/,pie=/^Y+$/,mie=["D","DD","YY","YYYY"];function gie(t){return fie.test(t)}function yie(t){return pie.test(t)}function vie(t,e,n){const r=wie(t,e,n);if(console.warn(r),mie.includes(t))throw new RangeError(r)}function wie(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bie=/^'([^]*?)'?$/,Eie=/''/g,Sie=/[a-zA-Z]/;function ub(t,e,n){var d,h,f,p;const r=ew(),s=r.locale??oie,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=kr(t);if(!Tse(a))throw new RangeError("Invalid time value");let l=e.match(_ie).map(y=>{const v=y[0];if(v==="p"||v==="P"){const _=hie[v];return _(y,s.formatLong)}return y}).join("").match(xie).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:Tie(y)};if(OA[v])return{isToken:!0,value:y};if(v.match(Sie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const v=y.value;(yie(v)||gie(v))&&vie(v,e,String(t));const _=OA[v[0]];return _(a,v,s.localize,u)}).join("")}function Tie(t){const e=t.match(bie);return e?e[1].replace(Eie,"'"):t}function Cie(){const{subscription:t,hasActiveSubscription:e,isLoading:n,error:r,refreshSubscription:s}=bl(),[i,o]=m.useState(!1),a=async()=>{o(!0);try{await s()}catch(d){console.error("Failed to refresh subscription:",d)}finally{o(!1)}};if(n)return c.jsx(Fe,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(Un,{className:"h-6 w-6 rounded-full"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx(Un,{className:"h-5 w-32 mb-2"}),c.jsx(Un,{className:"h-4 w-full mb-3"}),c.jsx(Un,{className:"h-9 w-32"})]})]})})});if(r)return c.jsxs(ra,{variant:"destructive",className:"mb-4",children:[c.jsx(Qj,{className:"h-4 w-4"}),c.jsxs(sa,{className:"flex items-center justify-between",children:[c.jsx("span",{children:r}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(_e,{variant:"outline",size:"sm",onClick:a,disabled:i,children:[c.jsx(M9,{className:"h-4 w-4 mr-1"}),i?"Refreshing...":"Refresh"]}),c.jsx(_e,{variant:"link",className:"p-0 h-auto",asChild:!0,children:c.jsx(jt,{to:"/subscription",children:"Manage Subscription"})})]})]})]});if(!e)return c.jsx(Fe,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:c.jsx(VC,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold mb-1",children:"Upgrade to Premium"}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Unlock advanced features and accelerate your creator journey with Social AI Premium."}),c.jsx(_e,{size:"sm",asChild:!0,children:c.jsxs(jt,{to:"/subscription",children:["Upgrade Now ",c.jsx(Mr,{className:"ml-1 h-4 w-4"})]})})]})]})})});const l=new Date(t.currentPeriodEnd),u=Cse(l,new Date);return c.jsx(Fe,{className:"bg-gradient-to-r from-amber-50 to-amber-100 border-amber-200",children:c.jsx(Ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-amber-100 p-2 rounded-full",children:c.jsx(VC,{className:"h-6 w-6 text-amber-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h3",{className:"font-bold mb-1",children:"Premium Active"}),c.jsx(_e,{size:"sm",variant:"ghost",className:"text-amber-600",asChild:!0,children:c.jsx(jt,{to:"/subscription",children:"Manage"})})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[c.jsx(lh,{className:"h-4 w-4 mr-1"}),t.cancelAtPeriodEnd?c.jsxs("span",{children:["Expires in ",u," days"]}):c.jsxs("span",{children:["Renews on ",ub(l,"PPP")]})]}),t.cancelAtPeriodEnd&&c.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"Your subscription is set to cancel at the end of the current period."})]})]})})})}function kie(){const[t,e]=m.useState(null),[n,r]=m.useState(!0),[s,i]=m.useState(null),{currentUser:o,isOffline:a}=Zr(),l=Pr();if(hi(),m.useEffect(()=>{(async()=>{if(o)try{if(r(!0),i(null),a){console.log("Using offline user data"),e({name:o.displayName||"Creator",platforms:["tiktok","youtube","instagram","shopify"],courseProgress:{}}),r(!1);return}try{const f=z_(Hp,"users",o.uid),p=await lJ(f);p.exists()?e(p.data()):e({name:o.displayName||"Creator",platforms:["tiktok","youtube","instagram","shopify"],courseProgress:{}})}catch(f){console.error("Firestore error:",f),e({name:o.displayName||"Creator",platforms:["tiktok","youtube","instagram","shopify"],courseProgress:{}})}}catch(f){console.error("Error fetching user data:",f),i("Could not load your profile data. Using default values."),e({name:o.displayName||"Creator",platforms:["tiktok","youtube","instagram","shopify"],courseProgress:{}})}finally{r(!1)}})()},[o,a]),n)return c.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-4rem)]",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})});const u=[{title:"Analyze Stats",description:"Upload screenshots of your social media analytics for AI insights",icon:qj,color:"bg-purple-100 text-purple-600",path:"/analyze-stats"},{title:"Video Planner",description:"Get AI-powered video ideas and content strategies",icon:lh,color:"bg-blue-100 text-blue-600",path:"/video-planner"},{title:"AI Coach",description:"Chat with your personal AI social media growth coach",icon:Jj,color:"bg-green-100 text-green-600",path:"/ai-coach"},{title:"Courses",description:"Learn growth strategies for every platform",icon:Hj,color:"bg-amber-100 text-amber-600",path:"/courses"}],d=[{name:"TikTok",icon:Vo,color:"bg-black text-white",path:"/courses/tiktok"},{name:"YouTube",icon:Vo,color:"bg-red-600 text-white",path:"/courses/youtube"},{name:"Instagram",icon:L1,color:"bg-pink-600 text-white",path:"/courses/instagram"},{name:"Shopify",icon:F1,color:"bg-green-600 text-white",path:"/courses/shopify"}];return c.jsxs("div",{className:"space-y-8 animate-fade-in",children:[a&&c.jsxs(ra,{variant:"destructive",children:[c.jsx(Y0,{className:"h-4 w-4"}),c.jsx(ru,{children:"You're currently offline"}),c.jsx(sa,{children:"Some features may be limited until your connection is restored."})]}),s&&c.jsxs(ra,{variant:"destructive",children:[c.jsx(Y0,{className:"h-4 w-4"}),c.jsx(ru,{children:"Error"}),c.jsx(sa,{children:s})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["Welcome, ",(t==null?void 0:t.name)||(o==null?void 0:o.displayName)||"Creator","!"]}),c.jsx("p",{className:"text-muted-foreground",children:"Grow your social media presence with AI-powered tools and strategies."})]}),c.jsx(Cie,{}),c.jsxs("section",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Tools & Features"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(h=>c.jsxs(Fe,{className:"overflow-hidden",children:[c.jsxs(at,{className:"space-y-1 pb-2",children:[c.jsx("div",{className:`w-10 h-10 rounded-md ${h.color} flex items-center justify-center`,children:c.jsx(h.icon,{className:"h-5 w-5"})}),c.jsx(lt,{className:"text-lg",children:h.title}),c.jsx(ft,{children:h.description})]}),c.jsx(Jt,{className:"pt-2",children:c.jsxs(_e,{variant:"ghost",className:"w-full justify-between hover:bg-secondary",onClick:()=>l(h.path),children:["Open",c.jsx(Mr,{className:"ml-2 h-4 w-4"})]})})]},h.title))})]}),c.jsx(Zc,{}),c.jsxs("section",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Platform Courses"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(h=>c.jsx(Fe,{className:"overflow-hidden hover:shadow-md transition-shadow",children:c.jsx(Ze,{className:"p-0",children:c.jsxs(_e,{variant:"ghost",className:"w-full h-full p-6 flex flex-col items-center justify-center space-y-4 rounded-none hover:bg-secondary",onClick:()=>l(h.path),children:[c.jsx("div",{className:`w-14 h-14 ${h.color} rounded-full flex items-center justify-center`,children:c.jsx(h.icon,{className:"h-8 w-8"})}),c.jsx("span",{className:"font-medium",children:h.name})]})})},h.name))})]}),c.jsxs("section",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(Fe,{children:[c.jsxs(at,{children:[c.jsx(lt,{className:"text-lg",children:"Analyze Your Stats"}),c.jsx(ft,{children:"Upload screenshots of your analytics for AI-powered insights"})]}),c.jsx(Jt,{children:c.jsx(_e,{className:"w-full bg-social-purple hover:bg-social-darkpurple",onClick:()=>l("/analyze-stats"),children:"Analyze Stats"})})]}),c.jsxs(Fe,{children:[c.jsxs(at,{children:[c.jsx(lt,{className:"text-lg",children:"Plan Your Content"}),c.jsx(ft,{children:"Get AI-generated video ideas tailored to your channel"})]}),c.jsx(Jt,{children:c.jsx(_e,{className:"w-full bg-social-purple hover:bg-social-darkpurple",onClick:()=>l("/video-planner"),children:"Video Planner"})})]}),c.jsxs(Fe,{children:[c.jsxs(at,{children:[c.jsx(lt,{className:"text-lg",children:"Need Help?"}),c.jsx(ft,{children:"Join our Discord community for support and resources"})]}),c.jsx(Jt,{children:c.jsxs(_e,{className:"w-full bg-indigo-600 hover:bg-indigo-700",onClick:()=>window.open("https://discord.gg/Qnyu5m78z8","_blank"),children:[c.jsx(G0,{className:"mr-2 h-5 w-5"}),"  ","Join Discord"]})})]})]})]})]})}const mV=[{id:"tiktok-growth",platform:"tiktok",title:"How to Quickly Earn Money on TikTok",description:"Learn proven strategies to monetize your TikTok account fast, even without showing your face.",thumbnail:"https://images.unsplash.com/photo-1611162618071-b39a2ec055fb?q=80&w=1674&auto=format&fit=crop",featured:!0,enrolled:3450,duration:"4 hours",date:"2025-03-15",lessons:[{id:"tiktok-1",title:"Creating Your Account",duration:"15 min",description:"Learn how to set up a compelling TikTok account for monetization.",content:`
# Creating Your Account

Creating a compelling TikTok account is essential for monetizing quickly. Follow these steps:

## Choose a Clear Username
Select a memorable and niche-related username. For example, if your niche is football quizzes, go for something catchy like @FootballQuizKing.

## Use an Attractive Profile Picture
Ensure your profile picture clearly relates to your content niche. For a football quiz channel, an eye-catching football or team logo works best.
        `},{id:"tiktok-2",title:"Writing an Engaging Bio",duration:"10 min",description:"Craft a bio that converts viewers to followers.",content:`
# Writing an Engaging Bio

Your bio should clearly convey your content focus and motivate followers to join your community. A proven method is using a growth challenge (0 to X followers) paired with niche-specific emojis.

## Example: 
⚽ Football Quiz Daily! Test your knowledge & learn! 🏆

🚀 Follow for daily quizzes! 0/10,000 🎯

## Other Niche Examples:

### Fitness Niche: 
💪 Daily Fitness Tips & Challenges 🔥

🌟 Follow for motivation! 0/20,000 🏋️‍♂️

### Cooking Niche: 
🍳 Easy Recipes & Cooking Hacks 🍕

👩‍🍳 Join our cooking family! 0/15,000 🍴

### Fashion Niche: 
👗 Trendy Fashion Advice & Outfits 🌟

✨ Join the style crew! 0/10,000 👠
        `},{id:"tiktok-3",title:"Finding Your Niche",duration:"25 min",description:"Discover profitable niches that don't require showing your face.",content:`
# Finding Your Niche

Finding the right niche is crucial for quickly building an audience without showing your face. Here's a step-by-step approach:

## Step 1: Create a Fresh TikTok Account
- Set up a new TikTok account specifically for niche research.
- You don't need fancy setups; just a simple profile to get started.

## Step 2: Scroll Through Your "For You Page" (FYP)
- Spend some time scrolling through TikTok's algorithmically-curated content.
- Interact (like, comment, share) with videos you find engaging, particularly those without face visibility.

## Step 3: Identify Interesting Niches
- Pay attention to videos that consistently appear with engaging content and high views but without creators showing their faces.

Examples of faceless niches:
- Football Quizzes ⚽ (e.g., "Guess the player from the club logos!")
- Tech Unboxing/Reviews 📱 (hands-only tech product reviews)
- Motivational Quotes 💡 (animated text quotes with music)
- Gaming Clips 🎮 (short gameplay highlights)
- Educational Facts 📚 (short animated explanations)

## Step 4: Research Your Chosen Niche
- Once a niche catches your interest, use TikTok's search feature.
- Look at how many creators are actively using this niche.
- Check video views, engagement rates, and follower counts to gauge competition.

## Step 5: Evaluate Competition Level
- Choose niches with low to moderate competition.
- A lower number of creators with high views indicates a valuable niche.

Example:
If you notice few creators making faceless "football trivia" content but videos have good views (10k-100k+ per video), this indicates potential.

## Step 6: Enhance Your Videos with Editing
- If you choose a niche with potential, stand out by improving your video quality through engaging editing:
  - Text animations
  - Engaging transitions
  - High-quality background music
  - Interactive visuals or challenges

Following these steps will set you up for rapid growth in a profitable niche without needing to appear on camera!
        `},{id:"tiktok-4",title:"Warming Up Your Account",duration:"20 min",description:"Strategies to quickly boost your new account's algorithm recognition.",content:`
# 🔥 How to Quickly "Warm Up" Your TikTok Account (1–3 Days)

Before posting your own videos, it's crucial to "warm up" your new TikTok account. This helps TikTok understand your niche and boosts initial engagement.

Follow these fast-track steps over 1–3 days:

## 📱 Day 1: Engage with Your Niche
- Search relevant keywords in your niche (e.g., "football quiz", "soccer trivia").
- Like and comment on 15–30 niche-specific videos to signal to TikTok what content interests you.
  - Comments should be authentic and engaging:
    - "Great quiz! Got 5/5 right! 🔥"
    - "Loved this question, more like this please! ⚽️"
- Follow around 10–20 niche-related creators.

## 💬 Day 2: Increase Your Interaction
- Again, engage with 20–40 videos in your niche.
- Leave meaningful comments, not just emojis—make it conversational:
  - "This was tricky, I guessed Ronaldo! 😅⚽️"
- Interact with comments from other users under popular niche-related videos.
- Follow 5–10 additional niche-related accounts.

## 🎯 Day 3: Start Posting Reactions & Duets
- Post 1–2 reaction videos (faceless is totally fine!) to popular niche-related content:
  - Duet or Stitch popular videos.
  - Add your unique opinion or fun twist to the original video.
- Continue commenting on another 10–20 niche videos.

## 🚨 Important Tips for Quick Warm-Up:
- Don't spam; genuine engagement is key.
- Stay niche-specific so TikTok's algorithm clearly understands your interests.
- This quick warm-up positions your new account strongly for your first original posts.

🎉 Now you're ready—go dominate your niche! 🚀
        `},{id:"tiktok-5",title:"Powerful Call-to-Actions",duration:"15 min",description:"Learn effective CTAs to boost engagement and followers.",content:`
# 🚀 How to Add Powerful Call-to-Actions (CTA) to Your TikTok Videos

Adding a strong Call-to-Action (CTA) is key to turning viewers into followers and growing your account quickly. Here's how you can easily integrate CTAs into your TikTok content:

## ✅ 1. Include CTAs in the Last Few Seconds
At the end of each video, clearly tell your audience exactly what to do next.

Examples:
- "Follow for daily football quizzes!"
- "Like and follow if you got it right!"
- "Comment your score below!"

## 🎯 2. Add On-Screen Text
Make your CTAs stand out visually by using TikTok's built-in text tools.

Examples:
- "🔥 Follow for more!"
- "👇 Comment your favourite!"
- "❤️ Like if you enjoyed!"

## 🗣️ 3. Use Your Voice (even without showing your face!)
Voiceovers are powerful. A clear, enthusiastic voiceover can significantly boost your CTA's effectiveness.

Examples:
- "Did you know the answer? Follow for tomorrow's challenge!"
- "Join our community—hit follow now!"

## 🎬 4. Utilize Captions and Descriptions
Always reinforce your CTA in your captions and video descriptions.

Examples:
- "Want more quizzes? Follow and test yourself daily!"
- "Did you score 5/5? Let me know in the comments 👇"

## 🔥 5. Encourage Engagement with Questions
Ask open-ended or trivia questions that encourage viewers to comment or share.

Examples:
- "How many of these football players did you guess right?"
- "Do you agree with this ranking? Tell me below!"

## 🚨 CTA Quick Checklist for Your Videos:
- ✅ Include a CTA visually (on-screen text).
- ✅ Reinforce with audio (voiceover or music cues).
- ✅ Always add a CTA in your description.
- ✅ Be specific and clear: tell viewers exactly what action to take.

🎉 Remember:
An effective CTA will boost your engagement and grow your audience much faster.

👉 So go ahead, level up your videos, and watch your followers skyrocket! 🚀
        `},{id:"tiktok-6",title:"Advanced Growth Strategies",duration:"30 min",description:"Master hashtags, analytics, and algorithm techniques.",content:`
# 🚀 Advanced TikTok Growth Strategies

## #️⃣ 1. Mastering TikTok Hashtags
Hashtags help TikTok categorize your videos and show them to the right audience.

- Use niche-specific hashtags:
Select hashtags directly related to your content.

Example for Football Quiz:
#footballquiz #footballtrivia #soccerfacts #sportsquiz

- Mix Popular & Niche Hashtags:
Use a balance between popular (trending) and niche-specific hashtags.

Example:
#FYP #ViralQuiz #FootballFacts #QuizTime

- Optimal Hashtag Count:
Aim for 3–6 hashtags per video. Overloading hashtags can confuse TikTok's algorithm.

## 📊 2. Analyzing & Measuring Your TikTok Growth
Use TikTok's built-in analytics (available after switching to a Creator or Business account):

Key Metrics to Track:
- Views: Total number of views per video.
- Watch Time: Indicates how engaging your videos are.
- Engagement (Likes, Comments, Shares): Shows how actively people interact with your content.
- Follower Growth: Measure daily and weekly growth.

What to do with analytics:
- Analyze your most successful videos. Ask yourself: "Why did this work? Can I replicate this success?"
- Identify patterns like video length, posting time, hashtags, or topics that consistently perform well.

## ⚙️ 3. Understanding the TikTok Algorithm
TikTok's algorithm promotes videos based on viewer engagement. Videos are boosted by:

- Watch time (retention):
Aim to capture your audience in the first 3 seconds of your videos.

- Engagement Rate:
Likes, comments, shares, and followers gained after viewing your videos.

- Rewatch Rate:
Videos people watch more than once get significantly boosted.

Pro Tips:
- Always start with an engaging "hook" to increase retention.
- Ask viewers to interact: "Comment your score!", "Share with friends!".
- Use trending sounds and hashtags to boost visibility.

## 📆 4. Posting Frequency: How Often Should You Post?
Consistency is key to rapid growth:

- Recommended Frequency: Post at least 1 video daily.
- Don't Spam: Posting excessively (5+ videos a day) can negatively impact engagement and audience retention. Quality over quantity is vital.

Ideal Balance:
👉 1–3 videos per day ensures you stay relevant without overwhelming your audience.

🎯 Action Step:
Start applying these strategies today and watch your account skyrocket! 🚀
        `}]},{id:"youtube-basics",platform:"youtube",title:"YouTube Growth Fundamentals",description:"Coming Soon: Essential strategies for growing your YouTube channel from scratch.",thumbnail:"https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0?q=80&w=1674&auto=format&fit=crop",featured:!1,enrolled:1200,duration:"Coming Soon",date:"2025-04-30"},{id:"instagram-growth",platform:"instagram",title:"Instagram Engagement Mastery",description:"Coming Soon: Learn how to boost your Instagram presence and engagement.",thumbnail:"https://images.unsplash.com/photo-1611162618479-ee4a2f0f50a7?q=80&w=1674&auto=format&fit=crop",featured:!1,enrolled:980,duration:"Coming Soon",date:"2025-05-15"},{id:"shopify-basics",platform:"shopify",title:"Shopify Store Creation",description:"Coming Soon: Build your first Shopify store and start selling products online.",thumbnail:"https://images.unsplash.com/photo-1556740758-90de374c12ad?q=80&w=1740&auto=format&fit=crop",featured:!1,enrolled:750,duration:"Coming Soon",date:"2025-06-01"}],Iie=()=>mV,Aie=t=>mV.find(e=>e.id===t);var VS="Tabs",[Nie,whe]=fi(VS,[Gv]),gV=Gv(),[Pie,$S]=Nie(VS),yV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=Hv(a),[h,f]=si({prop:r,onChange:s,defaultProp:i});return c.jsx(Pie,{scope:n,baseId:qr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:l,children:c.jsx(xe.div,{dir:d,"data-orientation":o,...u,ref:e})})});yV.displayName=VS;var vV="TabsList",wV=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=$S(vV,n),o=gV(n);return c.jsx(D4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:c.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});wV.displayName=vV;var xV="TabsTrigger",_V=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=$S(xV,n),a=gV(n),l=SV(o.baseId,r),u=TV(o.baseId,r),d=r===o.value;return c.jsx(M4,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Z(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Z(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Z(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});_V.displayName=xV;var bV="TabsContent",EV=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=$S(bV,n),l=SV(a.baseId,r),u=TV(a.baseId,r),d=r===a.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(ur,{present:s||d,children:({present:f})=>c.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});EV.displayName=bV;function SV(t,e){return`${t}-trigger-${e}`}function TV(t,e){return`${t}-content-${e}`}var Rie=yV,CV=wV,kV=_V,IV=EV;const US=Rie,tw=m.forwardRef(({className:t,...e},n)=>c.jsx(CV,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));tw.displayName=CV.displayName;const ji=m.forwardRef(({className:t,...e},n)=>c.jsx(kV,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ji.displayName=kV.displayName;const Di=m.forwardRef(({className:t,...e},n)=>c.jsx(IV,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Di.displayName=IV.displayName;const jie=gl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oa({className:t,variant:e,...n}){return c.jsx("div",{className:re(jie({variant:e}),t),...n})}var BS="Popover",[AV,xhe]=fi(BS,[la]),Tf=la(),[Die,pa]=AV(BS),NV=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Tf(e),l=m.useRef(null),[u,d]=m.useState(!1),[h=!1,f]=si({prop:r,defaultProp:s,onChange:i});return c.jsx(Wy,{...a,children:c.jsx(Die,{scope:e,contentId:qr(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:n})})};NV.displayName=BS;var PV="PopoverAnchor",Mie=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=pa(PV,n),i=Tf(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),c.jsx(Zh,{...i,...r,ref:e})});Mie.displayName=PV;var RV="PopoverTrigger",jV=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=pa(RV,n),i=Tf(n),o=Je(e,s.triggerRef),a=c.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":FV(s.open),...r,ref:o,onClick:Z(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(Zh,{asChild:!0,...i,children:a})});jV.displayName=RV;var zS="PopoverPortal",[Oie,Lie]=AV(zS,{forceMount:void 0}),DV=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=pa(zS,e);return c.jsx(Oie,{scope:e,forceMount:n,children:c.jsx(ur,{present:n||i.open,children:c.jsx(cu,{asChild:!0,container:s,children:r})})})};DV.displayName=zS;var su="PopoverContent",MV=m.forwardRef((t,e)=>{const n=Lie(su,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=pa(su,t.__scopePopover);return c.jsx(ur,{present:r||i.open,children:i.modal?c.jsx(Fie,{...s,ref:e}):c.jsx(Vie,{...s,ref:e})})});MV.displayName=su;var Fie=m.forwardRef((t,e)=>{const n=pa(su,t.__scopePopover),r=m.useRef(null),s=Je(e,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return zv(o)},[]),c.jsx(_f,{as:Gn,allowPinchZoom:!0,children:c.jsx(OV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Z(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Z(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Z(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vie=m.forwardRef((t,e)=>{const n=pa(su,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(OV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OV=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,f=pa(su,n),p=Tf(n);return Uv(),c.jsx(xf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ml,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(Hy,{"data-state":FV(f.open),role:"dialog",id:f.contentId,...p,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),LV="PopoverClose",$ie=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=pa(LV,n);return c.jsx(xe.button,{type:"button",...r,ref:e,onClick:Z(t.onClick,()=>s.onOpenChange(!1))})});$ie.displayName=LV;var Uie="PopoverArrow",Bie=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Tf(n);return c.jsx(qy,{...s,...r,ref:e})});Bie.displayName=Uie;function FV(t){return t?"open":"closed"}var zie=NV,Wie=jV,Hie=DV,VV=MV;const qie=zie,Gie=Wie,$V=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>c.jsx(Hie,{children:c.jsx(VV,{ref:s,align:e,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));$V.displayName=VV.displayName;const $A=[{value:"tiktok",label:"TikTok"},{value:"youtube",label:"YouTube"},{value:"instagram",label:"Instagram"},{value:"shopify",label:"Shopify"}];function nw({selectedPlatforms:t,selectedPlatform:e,onSelectPlatform:n,onSelect:r}){var l;const s=u=>{t&&n&&(t.includes(u)?n(t.filter(d=>d!==u)):n([...t,u]))},i=u=>{r&&r(u)},o=()=>{n&&t&&n([])},a=e!==void 0&&r!==void 0;return c.jsxs(qie,{children:[c.jsx(Gie,{asChild:!0,children:c.jsxs(_e,{variant:"outline",className:"flex items-center justify-between w-full",children:[a?c.jsx("span",{className:"text-sm",children:((l=$A.find(u=>u.value===e))==null?void 0:l.label)||"Select Platform"}):t&&t.length>0?c.jsxs("span",{className:"text-sm",children:[t.length," selected"]}):c.jsx("span",{className:"text-sm text-muted-foreground",children:"Platform Filter"}),c.jsx(b9,{className:"ml-2 h-4 w-4 text-muted-foreground"})]})}),c.jsx($V,{className:"w-[200px] p-0",align:"end",children:c.jsxs("div",{className:"p-2",children:[$A.map(u=>c.jsxs("div",{className:"relative flex items-center justify-between rounded-md px-2.5 py-2 cursor-pointer hover:bg-muted",onClick:()=>a?i(u.value):s(u.value),children:[c.jsx("span",{children:u.label}),a?e===u.value&&c.jsx(dn,{className:"h-4 w-4 text-primary"}):(t==null?void 0:t.includes(u.value))&&c.jsx(dn,{className:"h-4 w-4 text-primary"})]},u.value)),!a&&t&&t.length>0&&c.jsx(_e,{variant:"ghost",className:"w-full mt-2 text-xs text-muted-foreground",onClick:o,children:"Clear filters"})]})})]})}function UA(){const t=Iie(),e=Pr(),[n,r]=m.useState(""),[s,i]=m.useState([]),o=t.filter(f=>{const p=f.title.toLowerCase().includes(n.toLowerCase())||f.description.toLowerCase().includes(n.toLowerCase()),y=s.length===0||s.includes(f.platform);return p&&y}),a=t.filter(f=>f.featured),l=[...t].sort((f,p)=>(p.enrolled||0)-(f.enrolled||0)).slice(0,6),u=[...t].sort((f,p)=>new Date(p.date||0).getTime()-new Date(f.date||0).getTime()).slice(0,6),d=f=>{i(f)},h=f=>{e(`/courses/${f.platform}/${f.id}`)};return c.jsxs("div",{className:"container max-w-6xl pb-8 animate-fade-in",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Courses"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Learn from the best and boost your social media presence"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(O9,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(Ks,{placeholder:"Search courses...",className:"pl-9 w-full sm:w-[250px]",value:n,onChange:f=>r(f.target.value)})]}),c.jsx(nw,{selectedPlatforms:s,onSelectPlatform:d})]})]}),c.jsxs(US,{defaultValue:"all",className:"w-full",children:[c.jsxs(tw,{className:"mb-6",children:[c.jsx(ji,{value:"all",children:"All Courses"}),c.jsx(ji,{value:"featured",children:"Featured"}),c.jsx(ji,{value:"popular",children:"Popular"}),c.jsx(ji,{value:"newest",children:"Newest"})]}),c.jsx(Di,{value:"all",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.length>0?o.map(f=>c.jsx(pp,{course:f,onClick:()=>h(f)},`${f.platform}-${f.id}`)):c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx("h3",{className:"text-lg font-medium",children:"No courses found"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Try adjusting your search or filters"})]})})}),c.jsx(Di,{value:"featured",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map(f=>c.jsx(pp,{course:f,onClick:()=>h(f)},`featured-${f.platform}-${f.id}`)):c.jsxs("div",{className:"col-span-full text-center py-12",children:[c.jsx("h3",{className:"text-lg font-medium",children:"No featured courses available"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Check back soon for new featured content"})]})})}),c.jsx(Di,{value:"popular",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(f=>c.jsx(pp,{course:f,onClick:()=>h(f)},`popular-${f.platform}-${f.id}`))})}),c.jsx(Di,{value:"newest",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>c.jsx(pp,{course:f,onClick:()=>h(f)},`newest-${f.platform}-${f.id}`))})})]})]})}function pp({course:t,onClick:e}){var n;return c.jsxs(Fe,{className:"overflow-hidden transition-all hover:shadow-md",children:[c.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[c.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-full h-full object-cover transition-transform hover:scale-105"}),c.jsx("div",{className:"absolute top-2 left-2",children:c.jsx(Oa,{variant:"secondary",className:"text-xs capitalize",children:t.platform})}),t.featured&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsx(Oa,{variant:"default",className:"bg-gradient-to-r from-social-purple to-social-darkpurple text-xs",children:"Featured"})})]}),c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold line-clamp-1",children:t.title}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1 mb-2 line-clamp-2",children:t.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ch,{className:"mr-1 h-3 w-3"}),t.duration||"4.5 hours"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(t2,{className:"mr-1 h-3 w-3"}),((n=t.enrolled)==null?void 0:n.toLocaleString())||"1,200","+ enrolled"]})]})]}),c.jsx(Jt,{className:"p-4 pt-0",children:c.jsx(_e,{className:"w-full bg-gradient-to-r from-social-purple to-social-darkpurple hover:opacity-90",onClick:e,children:"View Course"})})]})}function Kie(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Qie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xie={};function BA(t,e){return(Xie.jsx?Yie:Qie).test(t)}const Jie=/[ \t\n\f\r]/g;function Zie(t){return typeof t=="object"?t.type==="text"?zA(t.value):!1:zA(t)}function zA(t){return t.replace(Jie,"")===""}class Cf{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Cf.prototype.normal={};Cf.prototype.property={};Cf.prototype.space=void 0;function UV(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Cf(n,r,e)}function db(t){return t.toLowerCase()}class dr{constructor(e,n){this.attribute=n,this.property=e}}dr.prototype.attribute="";dr.prototype.booleanish=!1;dr.prototype.boolean=!1;dr.prototype.commaOrSpaceSeparated=!1;dr.prototype.commaSeparated=!1;dr.prototype.defined=!1;dr.prototype.mustUseProperty=!1;dr.prototype.number=!1;dr.prototype.overloadedBoolean=!1;dr.prototype.property="";dr.prototype.spaceSeparated=!1;dr.prototype.space=void 0;let eoe=0;const Le=Tl(),zt=Tl(),BV=Tl(),X=Tl(),mt=Tl(),xc=Tl(),fr=Tl();function Tl(){return 2**++eoe}const hb=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:zt,commaOrSpaceSeparated:fr,commaSeparated:xc,number:X,overloadedBoolean:BV,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),jx=Object.keys(hb);class WS extends dr{constructor(e,n,r,s){let i=-1;if(super(e,n),WA(this,"space",s),typeof r=="number")for(;++i<jx.length;){const o=jx[i];WA(this,jx[i],(r&hb[o])===hb[o])}}}WS.prototype.defined=!0;function WA(t,e,n){n&&(t[e]=n)}function Eu(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const i=new WS(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),e[r]=i,n[db(r)]=r,n[db(i.attribute)]=r}return new Cf(e,n,t.space)}const zV=Eu({properties:{ariaActiveDescendant:null,ariaAtomic:zt,ariaAutoComplete:null,ariaBusy:zt,ariaChecked:zt,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:zt,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:zt,ariaFlowTo:mt,ariaGrabbed:zt,ariaHasPopup:null,ariaHidden:zt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:X,ariaLive:null,ariaModal:zt,ariaMultiLine:zt,ariaMultiSelectable:zt,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:zt,ariaReadOnly:zt,ariaRelevant:null,ariaRequired:zt,ariaRoleDescription:mt,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:zt,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function WV(t,e){return e in t?t[e]:e}function HV(t,e){return WV(t,e.toLowerCase())}const toe=Eu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xc,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:mt,autoFocus:Le,autoPlay:Le,blocking:mt,capture:null,charSet:null,checked:Le,cite:null,className:mt,cols:X,colSpan:null,content:null,contentEditable:zt,controls:Le,controlsList:mt,coords:X|xc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:BV,draggable:zt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:mt,height:X,hidden:Le,high:X,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:mt,itemRef:mt,itemScope:Le,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:X,pattern:null,ping:mt,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:mt,required:Le,reversed:Le,rows:X,rowSpan:X,sandbox:mt,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:zt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:zt,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:zt,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:HV}),noe=Eu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:fr,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xc,g2:xc,glyphName:xc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:fr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fr,rev:fr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fr,requiredFeatures:fr,requiredFonts:fr,requiredFormats:fr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:fr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fr,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WV}),qV=Eu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),GV=Eu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:HV}),KV=Eu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),roe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},soe=/[A-Z]/g,HA=/-[a-z]/g,ioe=/^data[-\w.:]+$/i;function ooe(t,e){const n=db(e);let r=e,s=dr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ioe.test(e)){if(e.charAt(4)==="-"){const i=e.slice(5).replace(HA,loe);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=e.slice(4);if(!HA.test(i)){let o=i.replace(soe,aoe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}s=WS}return new s(r,e)}function aoe(t){return"-"+t.toLowerCase()}function loe(t){return t.charAt(1).toUpperCase()}const coe=UV([zV,toe,qV,GV,KV],"html"),HS=UV([zV,noe,qV,GV,KV],"svg");function uoe(t){return t.join(" ").trim()}var qS={},qA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,doe=/\n/g,hoe=/^\s*/,foe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,poe=/^:\s*/,moe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,goe=/^[;\s]*/,yoe=/^\s+|\s+$/g,voe=`
`,GA="/",KA="*",Sa="",woe="comment",xoe="declaration",_oe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(y){var v=y.match(doe);v&&(n+=v.length);var _=y.lastIndexOf(voe);r=~_?y.length-_:r+y.length}function i(){var y={line:n,column:r};return function(v){return v.position=new o(y),u(),v}}function o(y){this.start=y,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(y){var v=new Error(e.source+":"+n+":"+r+": "+y);if(v.reason=y,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(y){var v=y.exec(t);if(v){var _=v[0];return s(_),t=t.slice(_.length),v}}function u(){l(hoe)}function d(y){var v;for(y=y||[];v=h();)v!==!1&&y.push(v);return y}function h(){var y=i();if(!(GA!=t.charAt(0)||KA!=t.charAt(1))){for(var v=2;Sa!=t.charAt(v)&&(KA!=t.charAt(v)||GA!=t.charAt(v+1));)++v;if(v+=2,Sa===t.charAt(v-1))return a("End of comment missing");var _=t.slice(2,v-2);return r+=2,s(_),t=t.slice(v),r+=2,y({type:woe,comment:_})}}function f(){var y=i(),v=l(foe);if(v){if(h(),!l(poe))return a("property missing ':'");var _=l(moe),w=y({type:xoe,property:QA(v[0].replace(qA,Sa)),value:_?QA(_[0].replace(qA,Sa)):Sa});return l(goe),w}}function p(){var y=[];d(y);for(var v;v=f();)v!==!1&&(y.push(v),d(y));return y}return u(),p()};function QA(t){return t?t.replace(yoe,Sa):Sa}var boe=dm&&dm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qS,"__esModule",{value:!0});qS.default=Soe;var Eoe=boe(_oe);function Soe(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Eoe.default)(t),s=typeof e=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,a=i.value;s?e(o,a,i):a&&(n=n||{},n[o]=a)}}),n}var rw={};Object.defineProperty(rw,"__esModule",{value:!0});rw.camelCase=void 0;var Toe=/^--[a-zA-Z0-9_-]+$/,Coe=/-([a-z])/g,koe=/^[^-]+$/,Ioe=/^-(webkit|moz|ms|o|khtml)-/,Aoe=/^-(ms)-/,Noe=function(t){return!t||koe.test(t)||Toe.test(t)},Poe=function(t,e){return e.toUpperCase()},YA=function(t,e){return"".concat(e,"-")},Roe=function(t,e){return e===void 0&&(e={}),Noe(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Aoe,YA):t=t.replace(Ioe,YA),t.replace(Coe,Poe))};rw.camelCase=Roe;var joe=dm&&dm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Doe=joe(qS),Moe=rw;function fb(t,e){var n={};return!t||typeof t!="string"||(0,Doe.default)(t,function(r,s){r&&s&&(n[(0,Moe.camelCase)(r,e)]=s)}),n}fb.default=fb;var Ooe=fb;const Loe=wy(Ooe),QV=YV("end"),GS=YV("start");function YV(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Foe(t){const e=GS(t),n=QV(t);if(e&&n)return{start:e,end:n}}function $d(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?XA(t.position):"start"in t||"end"in t?XA(t):"line"in t||"column"in t?pb(t):""}function pb(t){return JA(t&&t.line)+":"+JA(t&&t.column)}function XA(t){return pb(t&&t.start)+"-"+pb(t&&t.end)}function JA(t){return t&&typeof t=="number"?t:1}class Ln extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?s=e:!i.cause&&e&&(o=!0,s=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const a=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=a?a.line:void 0,this.name=$d(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ln.prototype.file="";Ln.prototype.name="";Ln.prototype.reason="";Ln.prototype.message="";Ln.prototype.stack="";Ln.prototype.column=void 0;Ln.prototype.line=void 0;Ln.prototype.ancestors=void 0;Ln.prototype.cause=void 0;Ln.prototype.fatal=void 0;Ln.prototype.place=void 0;Ln.prototype.ruleId=void 0;Ln.prototype.source=void 0;const KS={}.hasOwnProperty,Voe=new Map,$oe=/[A-Z]/g,Uoe=new Set(["table","tbody","thead","tfoot","tr"]),Boe=new Set(["td","th"]),XV="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zoe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Xoe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Yoe(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?HS:coe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},i=JV(s,t,void 0);return i&&typeof i!="string"?i:s.create(t,s.Fragment,{children:i||void 0},void 0)}function JV(t,e,n){if(e.type==="element")return Woe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Hoe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Goe(t,e,n);if(e.type==="mdxjsEsm")return qoe(t,e);if(e.type==="root")return Koe(t,e,n);if(e.type==="text")return Qoe(t,e)}function Woe(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=HS,t.schema=s),t.ancestors.push(e);const i=e5(t,e.tagName,!1),o=Joe(t,e);let a=YS(t,e);return Uoe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Zie(l):!0})),ZV(t,o,i,e),QS(o,a),t.ancestors.pop(),t.schema=r,t.create(e,i,o,n)}function Hoe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Uh(t,e.position)}function qoe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Uh(t,e.position)}function Goe(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=HS,t.schema=s),t.ancestors.push(e);const i=e.name===null?t.Fragment:e5(t,e.name,!0),o=Zoe(t,e),a=YS(t,e);return ZV(t,o,i,e),QS(o,a),t.ancestors.pop(),t.schema=r,t.create(e,i,o,n)}function Koe(t,e,n){const r={};return QS(r,YS(t,e)),t.create(e,t.Fragment,r,n)}function Qoe(t,e){return e.value}function ZV(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function QS(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Yoe(t,e,n){return r;function r(s,i,o,a){const u=Array.isArray(o.children)?n:e;return a?u(i,o,a):u(i,o)}}function Xoe(t,e){return n;function n(r,s,i,o){const a=Array.isArray(i.children),l=GS(r);return e(s,i,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Joe(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&KS.call(e.properties,s)){const i=eae(t,s,e.properties[s]);if(i){const[o,a]=i;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Boe.has(e.tagName)?r=a:n[o]=a}}if(r){const i=n.style||(n.style={});i[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Zoe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Uh(t,e.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,i=t.evaluater.evaluateExpression(a.expression)}else Uh(t,e.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function YS(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:Voe;for(;++r<e.children.length;){const i=e.children[r];let o;if(t.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=s.get(l)||0;o=l+"-"+u,s.set(l,u+1)}}const a=JV(t,i,o);a!==void 0&&n.push(a)}return n}function eae(t,e,n){const r=ooe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Kie(n):uoe(n)),r.property==="style"){let s=typeof n=="object"?n:tae(t,String(n));return t.stylePropertyNameCase==="css"&&(s=nae(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?roe[r.property]||r.property:r.attribute,n]}}function tae(t,e){try{return Loe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Ln("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=XV+"#cannot-parse-style-attribute",s}}function e5(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let i=-1,o;for(;++i<s.length;){const a=BA(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(i&&a.type==="Literal"),optional:!1}:a}r=o}else r=BA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return KS.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Uh(t)}function Uh(t,e){const n=new Ln("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=XV+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nae(t){const e={};let n;for(n in t)KS.call(t,n)&&(e[rae(n)]=t[n]);return e}function rae(t){let e=t.replace($oe,sae);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function sae(t){return"-"+t.toLowerCase()}const Dx={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iae={};function oae(t,e){const n=iae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return t5(t,r,s)}function t5(t,e,n){if(aae(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ZA(t.children,e,n)}return Array.isArray(t)?ZA(t,e,n):""}function ZA(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=t5(t[s],e,n);return r.join("")}function aae(t){return!!(t&&typeof t=="object")}const eN=document.createElement("i");function XS(t){const e="&"+t+";";eN.innerHTML=e;const n=eN.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function di(t,e,n,r){const s=t.length;let i=0,o;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(e,0),t.splice(...o),i+=1e4,e+=1e4}function Ur(t,e){return t.length>0?(di(t,t.length,0,e),t):e}const tN={}.hasOwnProperty;function lae(t){const e={};let n=-1;for(;++n<t.length;)cae(e,t[n]);return e}function cae(t,e){let n;for(n in e){const s=(tN.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let o;if(i)for(o in i){tN.call(s,o)||(s[o]=[]);const a=i[o];uae(s[o],Array.isArray(a)?a:a?[a]:[])}}}function uae(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);di(t,0,0,r)}function n5(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function _c(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hs=ma(/[A-Za-z]/),xr=ma(/[\dA-Za-z]/),dae=ma(/[#-'*+\--9=?A-Z^-~]/);function mb(t){return t!==null&&(t<32||t===127)}const gb=ma(/\d/),hae=ma(/[\dA-Fa-f]/),fae=ma(/[!-/:-@[-`{-~]/);function Ce(t){return t!==null&&t<-2}function lr(t){return t!==null&&(t<0||t===32)}function st(t){return t===-2||t===-1||t===32}const pae=ma(new RegExp("\\p{P}|\\p{S}","u")),mae=ma(/\s/);function ma(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Su(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const i=t.charCodeAt(n);let o="";if(i===37&&xr(t.charCodeAt(n+1))&&xr(t.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const a=t.charCodeAt(n+1);i<56320&&a>56319&&a<57344?(o=String.fromCharCode(i,a),s=1):o="�"}else o=String.fromCharCode(i);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function yt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return st(l)?(t.enter(n),a(l)):e(l)}function a(l){return st(l)&&i++<s?(t.consume(l),a):(t.exit(n),e(l))}}const gae={tokenize:yae};function yae(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),yt(t,e,"linePrefix")}function s(a){return t.enter("paragraph"),i(a)}function i(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Ce(a)?(t.consume(a),t.exit("chunkText"),i):(t.consume(a),o)}}const vae={tokenize:wae},nN={tokenize:xae};function wae(t){const e=this,n=[];let r=0,s,i,o;return a;function a(x){if(r<n.length){const b=n[r];return e.containerState=b[1],t.attempt(b[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&g();const b=e.events.length;let E=b,S;for(;E--;)if(e.events[E][0]==="exit"&&e.events[E][1].type==="chunkFlow"){S=e.events[E][1].end;break}w(r);let k=b;for(;k<e.events.length;)e.events[k][1].end={...S},k++;return di(e.events,E+1,0,e.events.slice(b)),e.events.length=k,u(x)}return a(x)}function u(x){if(r===n.length){if(!s)return f(x);if(s.currentConstruct&&s.currentConstruct.concrete)return y(x);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nN,d,h)(x)}function d(x){return s&&g(),w(r),f(x)}function h(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(x)}function f(x){return e.containerState={},t.attempt(nN,p,y)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function y(x){if(x===null){s&&g(),w(0),t.consume(x);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),v(x)}function v(x){if(x===null){_(t.exit("chunkFlow"),!0),w(0),t.consume(x);return}return Ce(x)?(t.consume(x),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),v)}function _(x,b){const E=e.sliceStream(x);if(b&&E.push(null),x.previous=i,i&&(i.next=x),i=x,s.defineSkip(x.start),s.write(E),e.parser.lazy[x.start.line]){let S=s.events.length;for(;S--;)if(s.events[S][1].start.offset<o&&(!s.events[S][1].end||s.events[S][1].end.offset>o))return;const k=e.events.length;let A=k,j,M;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(j){M=e.events[A][1].end;break}j=!0}for(w(r),S=k;S<e.events.length;)e.events[S][1].end={...M},S++;di(e.events,A+1,0,e.events.slice(k)),e.events.length=S}}function w(x){let b=n.length;for(;b-- >x;){const E=n[b];e.containerState=E[1],E[0].exit.call(e,t)}n.length=x}function g(){s.write([null]),i=void 0,s=void 0,e.containerState._closeFlow=void 0}}function xae(t,e,n){return yt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rN(t){if(t===null||lr(t)||mae(t))return 1;if(pae(t))return 2}function JS(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const i=t[s].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}const yb={name:"attention",resolveAll:_ae,tokenize:bae};function _ae(t,e){let n=-1,r,s,i,o,a,l,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};sN(h,-l),sN(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},i={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Ur(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Ur(u,[["enter",s,e],["enter",o,e],["exit",o,e],["enter",i,e]]),u=Ur(u,JS(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Ur(u,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Ur(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,di(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function bae(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=rN(r);let i;return o;function o(l){return i=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===i)return t.consume(l),a;const u=t.exit("attentionSequence"),d=rN(l),h=!d||d===2&&s||n.includes(l),f=!s||s===2&&d||n.includes(r);return u._open=!!(i===42?h:h&&(s||!f)),u._close=!!(i===42?f:f&&(d||!h)),e(l)}}function sN(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Eae={name:"autolink",tokenize:Sae};function Sae(t,e,n){let r=0;return s;function s(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(p){return Hs(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||xr(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||xr(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||mb(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),d):dae(p)?(t.consume(p),u):n(p)}function d(p){return xr(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||xr(p))&&r++<63){const y=p===45?f:h;return t.consume(p),y}return n(p)}}const sw={partial:!0,tokenize:Tae};function Tae(t,e,n){return r;function r(i){return st(i)?yt(t,s,"linePrefix")(i):s(i)}function s(i){return i===null||Ce(i)?e(i):n(i)}}const r5={continuation:{tokenize:kae},exit:Iae,name:"blockQuote",tokenize:Cae};function Cae(t,e,n){const r=this;return s;function s(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),i}return n(o)}function i(o){return st(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function kae(t,e,n){const r=this;return s;function s(o){return st(o)?yt(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return t.attempt(r5,e,n)(o)}}function Iae(t){t.exit("blockQuote")}const s5={name:"characterEscape",tokenize:Aae};function Aae(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),s}function s(i){return fae(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const i5={name:"characterReference",tokenize:Nae};function Nae(t,e,n){const r=this;let s=0,i,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),i=31,o=xr,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=hae,d):(t.enter("characterReferenceValue"),i=7,o=gb,d(h))}function d(h){if(h===59&&s){const f=t.exit("characterReferenceValue");return o===xr&&!XS(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&s++<i?(t.consume(h),d):n(h)}}const iN={partial:!0,tokenize:Rae},oN={concrete:!0,name:"codeFenced",tokenize:Pae};function Pae(t,e,n){const r=this,s={partial:!0,tokenize:E};let i=0,o=0,a;return l;function l(S){return u(S)}function u(S){const k=r.events[r.events.length-1];return i=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===a?(o++,t.consume(S),d):o<3?n(S):(t.exit("codeFencedFenceSequence"),st(S)?yt(t,h,"whitespace")(S):h(S))}function h(S){return S===null||Ce(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(iN,v,b)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Ce(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):st(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),yt(t,p,"whitespace")(S)):S===96&&S===a?n(S):(t.consume(S),f)}function p(S){return S===null||Ce(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||Ce(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===a?n(S):(t.consume(S),y)}function v(S){return t.attempt(s,b,_)(S)}function _(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),w}function w(S){return i>0&&st(S)?yt(t,g,"linePrefix",i+1)(S):g(S)}function g(S){return S===null||Ce(S)?t.check(iN,v,b)(S):(t.enter("codeFlowValue"),x(S))}function x(S){return S===null||Ce(S)?(t.exit("codeFlowValue"),g(S)):(t.consume(S),x)}function b(S){return t.exit("codeFenced"),e(S)}function E(S,k,A){let j=0;return M;function M(q){return S.enter("lineEnding"),S.consume(q),S.exit("lineEnding"),L}function L(q){return S.enter("codeFencedFence"),st(q)?yt(S,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):P(q)}function P(q){return q===a?(S.enter("codeFencedFenceSequence"),B(q)):A(q)}function B(q){return q===a?(j++,S.consume(q),B):j>=o?(S.exit("codeFencedFenceSequence"),st(q)?yt(S,V,"whitespace")(q):V(q)):A(q)}function V(q){return q===null||Ce(q)?(S.exit("codeFencedFence"),k(q)):A(q)}}}function Rae(t,e,n){const r=this;return s;function s(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Mx={name:"codeIndented",tokenize:Dae},jae={partial:!0,tokenize:Mae};function Dae(t,e,n){const r=this;return s;function s(u){return t.enter("codeIndented"),yt(t,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Ce(u)?t.attempt(jae,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||Ce(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function Mae(t,e,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):Ce(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):yt(t,i,"linePrefix",5)(o)}function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Ce(o)?s(o):n(o)}}const Oae={name:"codeText",previous:Fae,resolve:Lae,tokenize:Vae};function Lae(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function Fae(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Vae(t,e,n){let r=0,s,i;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(i=t.enter("codeTextSequence"),s=0,d(h)):Ce(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Ce(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),s++,d):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(i.type="codeTextData",u(h))}}class $ae{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Wu(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Wu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Wu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Wu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Wu(this.left,n.reverse())}}}function Wu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function o5(t){const e={};let n=-1,r,s,i,o,a,l,u;const d=new $ae(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Uae(d,n)),n=e[n],u=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return di(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Uae(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let d,h,f=-1,p=n,y=0,v=0;const _=[v];for(;p;){for(;t.get(++s)[1]!==p;);i.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(v=f+1,_.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):_.pop(),f=_.length;f--;){const w=a.slice(_[f],_[f+1]),g=i.pop();l.push([g,g+w.length-1]),t.splice(g,2,w)}for(l.reverse(),f=-1;++f<l.length;)u[y+l[f][0]]=y+l[f][1],y+=l[f][1]-l[f][0]-1;return u}const Bae={resolve:Wae,tokenize:Hae},zae={partial:!0,tokenize:qae};function Wae(t){return o5(t),t}function Hae(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?i(a):Ce(a)?t.check(zae,o,i)(a):(t.consume(a),s)}function i(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function qae(t,e,n){const r=this;return s;function s(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),yt(t,i,"linePrefix")}function i(o){if(o===null||Ce(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function a5(t,e,n,r,s,i,o,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(w){return w===60?(t.enter(r),t.enter(s),t.enter(i),t.consume(w),t.exit(i),f):w===null||w===32||w===41||mb(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),v(w))}function f(w){return w===62?(t.enter(i),t.consume(w),t.exit(i),t.exit(s),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(t.exit("chunkString"),t.exit(a),f(w)):w===null||w===60||Ce(w)?n(w):(t.consume(w),w===92?y:p)}function y(w){return w===60||w===62||w===92?(t.consume(w),p):p(w)}function v(w){return!d&&(w===null||w===41||lr(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):d<u&&w===40?(t.consume(w),d++,v):w===41?(t.consume(w),d--,v):w===null||w===32||w===40||mb(w)?n(w):(t.consume(w),w===92?_:v)}function _(w){return w===40||w===41||w===92?(t.consume(w),v):v(w)}}function l5(t,e,n,r,s,i){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(s),t.consume(p),t.exit(s),t.enter(i),d}function d(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(i),t.enter(s),t.consume(p),t.exit(s),t.exit(r),e):Ce(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||Ce(p)||a++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!st(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,h):h(p)}}function c5(t,e,n,r,s,i){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(s),t.consume(f),t.exit(s),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(s),t.consume(f),t.exit(s),t.exit(r),e):(t.enter(i),u(f))}function u(f){return f===o?(t.exit(i),l(o)):f===null?n(f):Ce(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),yt(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||Ce(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(t.consume(f),d):d(f)}}function Ud(t,e){let n;return r;function r(s){return Ce(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):st(s)?yt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const Gae={name:"definition",tokenize:Qae},Kae={partial:!0,tokenize:Yae};function Qae(t,e,n){const r=this;let s;return i;function i(p){return t.enter("definition"),o(p)}function o(p){return l5.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return s=_c(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return lr(p)?Ud(t,u)(p):u(p)}function u(p){return a5(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(Kae,h,h)(p)}function h(p){return st(p)?yt(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Ce(p)?(t.exit("definition"),r.parser.defined.push(s),e(p)):n(p)}}function Yae(t,e,n){return r;function r(a){return lr(a)?Ud(t,s)(a):n(a)}function s(a){return c5(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function i(a){return st(a)?yt(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Ce(a)?e(a):n(a)}}const Xae={name:"hardBreakEscape",tokenize:Jae};function Jae(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),s}function s(i){return Ce(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const Zae={name:"headingAtx",resolve:ele,tokenize:tle};function ele(t,e){let n=t.length-2,r=3,s,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},di(t,r,n-r+1,[["enter",s,e],["enter",i,e],["exit",i,e],["exit",s,e]])),t}function tle(t,e,n){let r=0;return s;function s(d){return t.enter("atxHeading"),i(d)}function i(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||lr(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||Ce(d)?(t.exit("atxHeading"),e(d)):st(d)?yt(t,a,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||lr(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),u)}}const nle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],aN=["pre","script","style","textarea"],rle={concrete:!0,name:"htmlFlow",resolveTo:ole,tokenize:ale},sle={partial:!0,tokenize:cle},ile={partial:!0,tokenize:lle};function ole(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function ale(t,e,n){const r=this;let s,i,o,a,l;return u;function u(C){return d(C)}function d(C){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(C),h}function h(C){return C===33?(t.consume(C),f):C===47?(t.consume(C),i=!0,v):C===63?(t.consume(C),s=3,r.interrupt?e:T):Hs(C)?(t.consume(C),o=String.fromCharCode(C),_):n(C)}function f(C){return C===45?(t.consume(C),s=2,p):C===91?(t.consume(C),s=5,a=0,y):Hs(C)?(t.consume(C),s=4,r.interrupt?e:T):n(C)}function p(C){return C===45?(t.consume(C),r.interrupt?e:T):n(C)}function y(C){const Ee="CDATA[";return C===Ee.charCodeAt(a++)?(t.consume(C),a===Ee.length?r.interrupt?e:P:y):n(C)}function v(C){return Hs(C)?(t.consume(C),o=String.fromCharCode(C),_):n(C)}function _(C){if(C===null||C===47||C===62||lr(C)){const Ee=C===47,nt=o.toLowerCase();return!Ee&&!i&&aN.includes(nt)?(s=1,r.interrupt?e(C):P(C)):nle.includes(o.toLowerCase())?(s=6,Ee?(t.consume(C),w):r.interrupt?e(C):P(C)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):i?g(C):x(C))}return C===45||xr(C)?(t.consume(C),o+=String.fromCharCode(C),_):n(C)}function w(C){return C===62?(t.consume(C),r.interrupt?e:P):n(C)}function g(C){return st(C)?(t.consume(C),g):M(C)}function x(C){return C===47?(t.consume(C),M):C===58||C===95||Hs(C)?(t.consume(C),b):st(C)?(t.consume(C),x):M(C)}function b(C){return C===45||C===46||C===58||C===95||xr(C)?(t.consume(C),b):E(C)}function E(C){return C===61?(t.consume(C),S):st(C)?(t.consume(C),E):x(C)}function S(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(t.consume(C),l=C,k):st(C)?(t.consume(C),S):A(C)}function k(C){return C===l?(t.consume(C),l=null,j):C===null||Ce(C)?n(C):(t.consume(C),k)}function A(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||lr(C)?E(C):(t.consume(C),A)}function j(C){return C===47||C===62||st(C)?x(C):n(C)}function M(C){return C===62?(t.consume(C),L):n(C)}function L(C){return C===null||Ce(C)?P(C):st(C)?(t.consume(C),L):n(C)}function P(C){return C===45&&s===2?(t.consume(C),G):C===60&&s===1?(t.consume(C),ee):C===62&&s===4?(t.consume(C),K):C===63&&s===3?(t.consume(C),T):C===93&&s===5?(t.consume(C),D):Ce(C)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(sle,se,B)(C)):C===null||Ce(C)?(t.exit("htmlFlowData"),B(C)):(t.consume(C),P)}function B(C){return t.check(ile,V,se)(C)}function V(C){return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),q}function q(C){return C===null||Ce(C)?B(C):(t.enter("htmlFlowData"),P(C))}function G(C){return C===45?(t.consume(C),T):P(C)}function ee(C){return C===47?(t.consume(C),o="",N):P(C)}function N(C){if(C===62){const Ee=o.toLowerCase();return aN.includes(Ee)?(t.consume(C),K):P(C)}return Hs(C)&&o.length<8?(t.consume(C),o+=String.fromCharCode(C),N):P(C)}function D(C){return C===93?(t.consume(C),T):P(C)}function T(C){return C===62?(t.consume(C),K):C===45&&s===2?(t.consume(C),T):P(C)}function K(C){return C===null||Ce(C)?(t.exit("htmlFlowData"),se(C)):(t.consume(C),K)}function se(C){return t.exit("htmlFlow"),e(C)}}function lle(t,e,n){const r=this;return s;function s(o){return Ce(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function cle(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(sw,e,n)}}const ule={name:"htmlText",tokenize:dle};function dle(t,e,n){const r=this;let s,i,o;return a;function a(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),l}function l(T){return T===33?(t.consume(T),u):T===47?(t.consume(T),E):T===63?(t.consume(T),x):Hs(T)?(t.consume(T),A):n(T)}function u(T){return T===45?(t.consume(T),d):T===91?(t.consume(T),i=0,y):Hs(T)?(t.consume(T),g):n(T)}function d(T){return T===45?(t.consume(T),p):n(T)}function h(T){return T===null?n(T):T===45?(t.consume(T),f):Ce(T)?(o=h,ee(T)):(t.consume(T),h)}function f(T){return T===45?(t.consume(T),p):h(T)}function p(T){return T===62?G(T):T===45?f(T):h(T)}function y(T){const K="CDATA[";return T===K.charCodeAt(i++)?(t.consume(T),i===K.length?v:y):n(T)}function v(T){return T===null?n(T):T===93?(t.consume(T),_):Ce(T)?(o=v,ee(T)):(t.consume(T),v)}function _(T){return T===93?(t.consume(T),w):v(T)}function w(T){return T===62?G(T):T===93?(t.consume(T),w):v(T)}function g(T){return T===null||T===62?G(T):Ce(T)?(o=g,ee(T)):(t.consume(T),g)}function x(T){return T===null?n(T):T===63?(t.consume(T),b):Ce(T)?(o=x,ee(T)):(t.consume(T),x)}function b(T){return T===62?G(T):x(T)}function E(T){return Hs(T)?(t.consume(T),S):n(T)}function S(T){return T===45||xr(T)?(t.consume(T),S):k(T)}function k(T){return Ce(T)?(o=k,ee(T)):st(T)?(t.consume(T),k):G(T)}function A(T){return T===45||xr(T)?(t.consume(T),A):T===47||T===62||lr(T)?j(T):n(T)}function j(T){return T===47?(t.consume(T),G):T===58||T===95||Hs(T)?(t.consume(T),M):Ce(T)?(o=j,ee(T)):st(T)?(t.consume(T),j):G(T)}function M(T){return T===45||T===46||T===58||T===95||xr(T)?(t.consume(T),M):L(T)}function L(T){return T===61?(t.consume(T),P):Ce(T)?(o=L,ee(T)):st(T)?(t.consume(T),L):j(T)}function P(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),s=T,B):Ce(T)?(o=P,ee(T)):st(T)?(t.consume(T),P):(t.consume(T),V)}function B(T){return T===s?(t.consume(T),s=void 0,q):T===null?n(T):Ce(T)?(o=B,ee(T)):(t.consume(T),B)}function V(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||lr(T)?j(T):(t.consume(T),V)}function q(T){return T===47||T===62||lr(T)?j(T):n(T)}function G(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):n(T)}function ee(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),N}function N(T){return st(T)?yt(t,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):D(T)}function D(T){return t.enter("htmlTextData"),o(T)}}const ZS={name:"labelEnd",resolveAll:mle,resolveTo:gle,tokenize:yle},hle={tokenize:vle},fle={tokenize:wle},ple={tokenize:xle};function mle(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&di(t,0,t.length,n),t}function gle(t,e){let n=t.length,r=0,s,i,o,a;for(;n--;)if(s=t[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const l={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[i][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Ur(a,t.slice(i+1,i+r+3)),a=Ur(a,[["enter",d,e]]),a=Ur(a,JS(e.parser.constructs.insideSpan.null,t.slice(i+r+4,o-3),e)),a=Ur(a,[["exit",d,e],t[o-2],t[o-1],["exit",u,e]]),a=Ur(a,t.slice(o+1)),a=Ur(a,[["exit",l,e]]),di(t,i,t.length,a),t}function yle(t,e,n){const r=this;let s=r.events.length,i,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return a;function a(f){return i?i._inactive?h(f):(o=r.parser.defined.includes(_c(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(hle,d,o?d:h)(f):f===91?t.attempt(fle,d,o?u:h)(f):o?d(f):h(f)}function u(f){return t.attempt(ple,d,h)(f)}function d(f){return e(f)}function h(f){return i._balanced=!0,n(f)}}function vle(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),s}function s(h){return lr(h)?Ud(t,i)(h):i(h)}function i(h){return h===41?d(h):a5(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return lr(h)?Ud(t,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?c5(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return lr(h)?Ud(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function wle(t,e,n){const r=this;return s;function s(a){return l5.call(r,t,i,o,"reference","referenceMarker","referenceString")(a)}function i(a){return r.parser.defined.includes(_c(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function xle(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),s}function s(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const _le={name:"labelStartImage",resolveAll:ZS.resolveAll,tokenize:ble};function ble(t,e,n){const r=this;return s;function s(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),i}function i(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Ele={name:"labelStartLink",resolveAll:ZS.resolveAll,tokenize:Sle};function Sle(t,e,n){const r=this;return s;function s(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Ox={name:"lineEnding",tokenize:Tle};function Tle(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),yt(t,e,"linePrefix")}}const Yp={name:"thematicBreak",tokenize:Cle};function Cle(t,e,n){let r=0,s;return i;function i(u){return t.enter("thematicBreak"),o(u)}function o(u){return s=u,a(u)}function a(u){return u===s?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ce(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===s?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),st(u)?yt(t,a,"whitespace")(u):a(u))}}const Jn={continuation:{tokenize:Nle},exit:Rle,name:"list",tokenize:Ale},kle={partial:!0,tokenize:jle},Ile={partial:!0,tokenize:Ple};function Ale(t,e,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return a;function a(p){const y=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gb(p)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Yp,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gb(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(sw,r.interrupt?n:d,t.attempt(kle,f,h))}function d(p){return r.containerState.initialBlankLine=!0,i++,f(p)}function h(p){return st(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Nle(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(sw,s,i);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(t,e,"listItemIndent",r.containerState.size+1)(a)}function i(a){return r.containerState.furtherBlankLines||!st(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Ile,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(t,t.attempt(Jn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Ple(t,e,n){const r=this;return yt(t,s,"listItemIndent",r.containerState.size+1);function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(i):n(i)}}function Rle(t){t.exit(this.containerState.type)}function jle(t,e,n){const r=this;return yt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const o=r.events[r.events.length-1];return!st(i)&&o&&o[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const lN={name:"setextUnderline",resolveTo:Dle,tokenize:Mle};function Dle(t,e){let n=t.length,r,s,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",i?(t.splice(s,0,["enter",o,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Mle(t,e,n){const r=this;let s;return i;function i(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),s=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===s?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),st(u)?yt(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ce(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Ole={tokenize:Lle};function Lle(t){const e=this,n=t.attempt(sw,r,t.attempt(this.parser.constructs.flowInitial,s,yt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Bae,s)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Fle={resolveAll:d5()},Vle=u5("string"),$le=u5("text");function u5(t){return{resolveAll:d5(t==="text"?Ule:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],i=n.attempt(s,o,a);return o;function o(d){return u(d)?i(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=s[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function d5(t){return e;function e(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return t?t(n,r):n}}function Ule(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let i=s.length,o=-1,a=0,l;for(;i--;){const u=s[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){i++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const Ble={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:r5},zle={91:Gae},Wle={[-2]:Mx,[-1]:Mx,32:Mx},Hle={35:Zae,42:Yp,45:[lN,Yp],60:rle,61:lN,95:Yp,96:oN,126:oN},qle={38:i5,92:s5},Gle={[-5]:Ox,[-4]:Ox,[-3]:Ox,33:_le,38:i5,42:yb,60:[Eae,ule],91:Ele,92:[Xae,s5],93:ZS,95:yb,96:Oae},Kle={null:[yb,Fle]},Qle={null:[42,95]},Yle={null:[]},Xle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Qle,contentInitial:zle,disable:Yle,document:Ble,flow:Hle,flowInitial:Wle,insideSpan:Kle,string:qle,text:Gle},Symbol.toStringTag,{value:"Module"}));function Jle(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let o=[],a=[];const l={attempt:k(E),check:k(S),consume:g,enter:x,exit:b,interrupt:k(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:y,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&i.push(e),u;function h(L){return o=Ur(o,L),_(),o[o.length-1]!==null?[]:(A(e,0),u.events=JS(i,u.events,u),u.events)}function f(L,P){return ece(p(L),P)}function p(L){return Zle(o,L)}function y(){const{_bufferIndex:L,_index:P,line:B,column:V,offset:q}=r;return{_bufferIndex:L,_index:P,line:B,column:V,offset:q}}function v(L){s[L.line]=L.column,M()}function _(){let L;for(;r._index<o.length;){const P=o[r._index];if(typeof P=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<P.length;)w(P.charCodeAt(r._bufferIndex));else w(P)}}function w(L){d=d(L)}function g(L){Ce(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,M()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function x(L,P){const B=P||{};return B.type=L,B.start=y(),u.events.push(["enter",B,u]),a.push(B),B}function b(L){const P=a.pop();return P.end=y(),u.events.push(["exit",P,u]),P}function E(L,P){A(L,P.from)}function S(L,P){P.restore()}function k(L,P){return B;function B(V,q,G){let ee,N,D,T;return Array.isArray(V)?se(V):"tokenize"in V?se([V]):K(V);function K(fe){return ce;function ce(Te){const Oe=Te!==null&&fe[Te],Pe=Te!==null&&fe.null,Be=[...Array.isArray(Oe)?Oe:Oe?[Oe]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return se(Be)(Te)}}function se(fe){return ee=fe,N=0,fe.length===0?G:C(fe[N])}function C(fe){return ce;function ce(Te){return T=j(),D=fe,fe.partial||(u.currentConstruct=fe),fe.name&&u.parser.constructs.disable.null.includes(fe.name)?nt():fe.tokenize.call(P?Object.assign(Object.create(u),P):u,l,Ee,nt)(Te)}}function Ee(fe){return L(D,T),q}function nt(fe){return T.restore(),++N<ee.length?C(ee[N]):G}}}function A(L,P){L.resolveAll&&!i.includes(L)&&i.push(L),L.resolve&&di(u.events,P,u.events.length-P,L.resolve(u.events.slice(P),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function j(){const L=y(),P=u.previous,B=u.currentConstruct,V=u.events.length,q=Array.from(a);return{from:V,restore:G};function G(){r=L,u.previous=P,u.currentConstruct=B,u.events.length=V,a=q,M()}}function M(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Zle(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,i=e.end._bufferIndex;let o;if(n===s)o=[t[n].slice(r,i)];else{if(o=t.slice(n,s),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}i>0&&o.push(t[s].slice(0,i))}return o}function ece(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const i=t[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&s)continue;o=" ";break}default:o=String.fromCharCode(i)}s=i===-2,r.push(o)}return r.join("")}function tce(t){const r={constructs:lae([Xle,...(t||{}).extensions||[]]),content:s(gae),defined:[],document:s(vae),flow:s(Ole),lazy:{},string:s(Vle),text:s($le)};return r;function s(i){return o;function o(a){return Jle(r,i,a)}}}function nce(t){for(;!o5(t););return t}const cN=/[\0\t\n\r]/g;function rce(){let t=1,e="",n=!0,r;return s;function s(i,o,a){const l=[];let u,d,h,f,p;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),h=0,e="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(cN.lastIndex=h,u=cN.exec(i),f=u&&u.index!==void 0?u.index:i.length,p=i.charCodeAt(f),!u){e=i.slice(h);break}if(p===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(i.slice(h,f)),t+=f-h),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const sce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ice(t){return t.replace(sce,oce)}function oce(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return n5(n.slice(i?2:1),i?16:10)}return XS(n)||t}const h5={}.hasOwnProperty;function ace(t,e,n){return typeof e!="string"&&(n=e,e=void 0),lce(n)(nce(tce(n).document().write(rce()(t,e,!0))))}function lce(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(R),autolinkProtocol:j,autolinkEmail:j,atxHeading:i(Rr),blockQuote:i(Pe),characterEscape:j,characterReference:j,codeFenced:i(Be),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Be,o),codeText:i(qe,o),codeTextData:j,data:j,codeFlowValue:j,definition:i(Ut),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(tn),hardBreakEscape:i(bn),hardBreakTrailing:i(bn),htmlFlow:i(es,o),htmlFlowData:j,htmlText:i(es,o),htmlTextData:j,image:i(I),label:o,link:i(R),listItem:i(ae),listItemValue:f,listOrdered:i(F,h),listUnordered:i(F),paragraph:i(te),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Rr),strong:i(Y),thematicBreak:i(De)},exit:{atxHeading:l(),atxHeadingSequence:E,autolink:l(),autolinkEmail:Oe,autolinkProtocol:Te,blockQuote:l(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:nt,characterReferenceMarkerNumeric:nt,characterReferenceValue:fe,characterReference:ce,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:y,codeFlowValue:M,codeIndented:l(w),codeText:l(q),codeTextData:M,data:M,definition:l(),definitionDestinationString:b,definitionLabelString:g,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(P),hardBreakTrailing:l(P),htmlFlow:l(B),htmlFlowData:M,htmlText:l(V),htmlTextData:M,image:l(ee),label:D,labelText:N,lineEnding:L,link:l(G),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ee,resourceDestinationString:T,resourceTitleString:K,resource:se,setextHeading:l(A),setextHeadingLineSequence:k,setextHeadingText:S,strong:l(),thematicBreak:l()}};f5(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(O){let H={type:"root",children:[]};const ve={stack:[H],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:d,data:n},Re=[];let Qe=-1;for(;++Qe<O.length;)if(O[Qe][1].type==="listOrdered"||O[Qe][1].type==="listUnordered")if(O[Qe][0]==="enter")Re.push(Qe);else{const cn=Re.pop();Qe=s(O,cn,Qe)}for(Qe=-1;++Qe<O.length;){const cn=e[O[Qe][0]];h5.call(cn,O[Qe][1].type)&&cn[O[Qe][1].type].call(Object.assign({sliceSerialize:O[Qe][2].sliceSerialize},ve),O[Qe][1])}if(ve.tokenStack.length>0){const cn=ve.tokenStack[ve.tokenStack.length-1];(cn[1]||uN).call(ve,void 0,cn[0])}for(H.position={start:oo(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:oo(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<e.transforms.length;)H=e.transforms[Qe](H)||H;return H}function s(O,H,ve){let Re=H-1,Qe=-1,cn=!1,jr,Fn,yi,Dr;for(;++Re<=ve;){const Pt=O[Re];switch(Pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pt[0]==="enter"?Qe++:Qe--,Dr=void 0;break}case"lineEndingBlank":{Pt[0]==="enter"&&(jr&&!Dr&&!Qe&&!yi&&(yi=Re),Dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dr=void 0}if(!Qe&&Pt[0]==="enter"&&Pt[1].type==="listItemPrefix"||Qe===-1&&Pt[0]==="exit"&&(Pt[1].type==="listUnordered"||Pt[1].type==="listOrdered")){if(jr){let eo=Re;for(Fn=void 0;eo--;){const be=O[eo];if(be[1].type==="lineEnding"||be[1].type==="lineEndingBlank"){if(be[0]==="exit")continue;Fn&&(O[Fn][1].type="lineEndingBlank",cn=!0),be[1].type="lineEnding",Fn=eo}else if(!(be[1].type==="linePrefix"||be[1].type==="blockQuotePrefix"||be[1].type==="blockQuotePrefixWhitespace"||be[1].type==="blockQuoteMarker"||be[1].type==="listItemIndent"))break}yi&&(!Fn||yi<Fn)&&(jr._spread=!0),jr.end=Object.assign({},Fn?O[Fn][1].start:Pt[1].end),O.splice(Fn||Re,0,["exit",jr,Pt[2]]),Re++,ve++}if(Pt[1].type==="listItemPrefix"){const eo={type:"listItem",_spread:!1,start:Object.assign({},Pt[1].start),end:void 0};jr=eo,O.splice(Re,0,["enter",eo,Pt[2]]),Re++,ve++,yi=void 0,Dr=!0}}}return O[H][1]._spread=cn,ve}function i(O,H){return ve;function ve(Re){a.call(this,O(Re),Re),H&&H.call(this,Re)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(O,H,ve){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([H,ve||void 0]),O.position={start:oo(H.start),end:void 0}}function l(O){return H;function H(ve){O&&O.call(this,ve),u.call(this,ve)}}function u(O,H){const ve=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==O.type&&(H?H.call(this,O,Re[0]):(Re[1]||uN).call(this,O,Re[0]));else throw new Error("Cannot close `"+O.type+"` ("+$d({start:O.start,end:O.end})+"): it’s not open");ve.position.end=oo(O.end)}function d(){return oae(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(O){if(this.data.expectingFirstListItemValue){const H=this.stack[this.stack.length-2];H.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function p(){const O=this.resume(),H=this.stack[this.stack.length-1];H.lang=O}function y(){const O=this.resume(),H=this.stack[this.stack.length-1];H.meta=O}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const O=this.resume(),H=this.stack[this.stack.length-1];H.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const O=this.resume(),H=this.stack[this.stack.length-1];H.value=O.replace(/(\r?\n|\r)$/g,"")}function g(O){const H=this.resume(),ve=this.stack[this.stack.length-1];ve.label=H,ve.identifier=_c(this.sliceSerialize(O)).toLowerCase()}function x(){const O=this.resume(),H=this.stack[this.stack.length-1];H.title=O}function b(){const O=this.resume(),H=this.stack[this.stack.length-1];H.url=O}function E(O){const H=this.stack[this.stack.length-1];if(!H.depth){const ve=this.sliceSerialize(O).length;H.depth=ve}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k(O){const H=this.stack[this.stack.length-1];H.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function j(O){const ve=this.stack[this.stack.length-1].children;let Re=ve[ve.length-1];(!Re||Re.type!=="text")&&(Re=ye(),Re.position={start:oo(O.start),end:void 0},ve.push(Re)),this.stack.push(Re)}function M(O){const H=this.stack.pop();H.value+=this.sliceSerialize(O),H.position.end=oo(O.end)}function L(O){const H=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=H.children[H.children.length-1];ve.position.end=oo(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(H.type)&&(j.call(this,O),M.call(this,O))}function P(){this.data.atHardBreak=!0}function B(){const O=this.resume(),H=this.stack[this.stack.length-1];H.value=O}function V(){const O=this.resume(),H=this.stack[this.stack.length-1];H.value=O}function q(){const O=this.resume(),H=this.stack[this.stack.length-1];H.value=O}function G(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=H,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function ee(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=H,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function N(O){const H=this.sliceSerialize(O),ve=this.stack[this.stack.length-2];ve.label=ice(H),ve.identifier=_c(H).toLowerCase()}function D(){const O=this.stack[this.stack.length-1],H=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Re=O.children;ve.children=Re}else ve.alt=H}function T(){const O=this.resume(),H=this.stack[this.stack.length-1];H.url=O}function K(){const O=this.resume(),H=this.stack[this.stack.length-1];H.title=O}function se(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function Ee(O){const H=this.resume(),ve=this.stack[this.stack.length-1];ve.label=H,ve.identifier=_c(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function nt(O){this.data.characterReferenceType=O.type}function fe(O){const H=this.sliceSerialize(O),ve=this.data.characterReferenceType;let Re;ve?(Re=n5(H,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=XS(H);const Qe=this.stack[this.stack.length-1];Qe.value+=Re}function ce(O){const H=this.stack.pop();H.position.end=oo(O.end)}function Te(O){M.call(this,O);const H=this.stack[this.stack.length-1];H.url=this.sliceSerialize(O)}function Oe(O){M.call(this,O);const H=this.stack[this.stack.length-1];H.url="mailto:"+this.sliceSerialize(O)}function Pe(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function Ut(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function tn(){return{type:"emphasis",children:[]}}function Rr(){return{type:"heading",depth:0,children:[]}}function bn(){return{type:"break"}}function es(){return{type:"html",value:""}}function I(){return{type:"image",title:null,url:"",alt:null}}function R(){return{type:"link",title:null,url:"",children:[]}}function F(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function ae(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function te(){return{type:"paragraph",children:[]}}function Y(){return{type:"strong",children:[]}}function ye(){return{type:"text",value:""}}function De(){return{type:"thematicBreak"}}}function oo(t){return{line:t.line,column:t.column,offset:t.offset}}function f5(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?f5(t,r):cce(t,r)}}function cce(t,e){let n;for(n in e)if(h5.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function uN(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$d({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$d({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$d({start:e.start,end:e.end})+") is still open")}function uce(t){const e=this;e.parser=n;function n(r){return ace(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function dce(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function hce(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function fce(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function pce(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mce(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gce(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Su(r.toLowerCase()),i=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=i+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function yce(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vce(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function p5(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function wce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return p5(t,e);const s={src:Su(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,i),t.applyData(e,i)}function xce(t,e){const n={src:Su(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function _ce(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function bce(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return p5(t,e);const s={href:Su(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function Ece(t,e){const n={href:Su(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Sce(t,e,n){const r=t.all(e),s=n?Tce(n):m5(e),i={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return t.patch(e,u),t.applyData(e,u)}function Tce(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=m5(n[r])}return e}function m5(t){const e=t.spread;return e??t.children.length>1}function Cce(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,i),t.applyData(e,i)}function kce(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ice(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ace(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Nce(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=GS(e.children[1]),l=QV(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),s.push(o)}const i={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,i),t.applyData(e,i)}function Pce(t,e,n){const r=n?n.children:void 0,i=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const h=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let y={type:"element",tagName:i,properties:f,children:[]};h&&(y.children=t.all(h),t.patch(h,y),y=t.applyData(h,y)),u.push(y)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function Rce(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const dN=9,hN=32;function jce(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const i=[];for(;r;)i.push(fN(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return i.push(fN(e.slice(s),s>0,!1)),i.join("")}function fN(t,e,n){let r=0,s=t.length;if(e){let i=t.codePointAt(r);for(;i===dN||i===hN;)r++,i=t.codePointAt(r)}if(n){let i=t.codePointAt(s-1);for(;i===dN||i===hN;)s--,i=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function Dce(t,e){const n={type:"text",value:jce(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Mce(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Oce={blockquote:dce,break:hce,code:fce,delete:pce,emphasis:mce,footnoteReference:gce,heading:yce,html:vce,imageReference:wce,image:xce,inlineCode:_ce,linkReference:bce,link:Ece,listItem:Sce,list:Cce,paragraph:kce,root:Ice,strong:Ace,table:Nce,tableCell:Rce,tableRow:Pce,text:Dce,thematicBreak:Mce,toml:mp,yaml:mp,definition:mp,footnoteDefinition:mp};function mp(){}const g5=-1,iw=0,Bd=1,Fg=2,eT=3,tT=4,nT=5,rT=6,y5=7,v5=8,pN=typeof self=="object"?self:globalThis,Lce=(t,e)=>{const n=(s,i)=>(t.set(i,s),s),r=s=>{if(t.has(s))return t.get(s);const[i,o]=e[s];switch(i){case iw:case g5:return n(o,s);case Bd:{const a=n([],s);for(const l of o)a.push(r(l));return a}case Fg:{const a=n({},s);for(const[l,u]of o)a[r(l)]=r(u);return a}case eT:return n(new Date(o),s);case tT:{const{source:a,flags:l}=o;return n(new RegExp(a,l),s)}case nT:{const a=n(new Map,s);for(const[l,u]of o)a.set(r(l),r(u));return a}case rT:{const a=n(new Set,s);for(const l of o)a.add(r(l));return a}case y5:{const{name:a,message:l}=o;return n(new pN[a](l),s)}case v5:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new pN[i](o),s)};return r},mN=t=>Lce(new Map,t)(0),Dl="",{toString:Fce}={},{keys:Vce}=Object,Hu=t=>{const e=typeof t;if(e!=="object"||!t)return[iw,e];const n=Fce.call(t).slice(8,-1);switch(n){case"Array":return[Bd,Dl];case"Object":return[Fg,Dl];case"Date":return[eT,Dl];case"RegExp":return[tT,Dl];case"Map":return[nT,Dl];case"Set":return[rT,Dl];case"DataView":return[Bd,n]}return n.includes("Array")?[Bd,n]:n.includes("Error")?[y5,n]:[Fg,n]},gp=([t,e])=>t===iw&&(e==="function"||e==="symbol"),$ce=(t,e,n,r)=>{const s=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},i=o=>{if(n.has(o))return n.get(o);let[a,l]=Hu(o);switch(a){case iw:{let d=o;switch(l){case"bigint":a=v5,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([g5],o)}return s([a,d],o)}case Bd:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),s([l,[...f]],o)}const d=[],h=s([a,d],o);for(const f of o)d.push(i(f));return h}case Fg:{if(l)switch(l){case"BigInt":return s([l,o.toString()],o);case"Boolean":case"Number":case"String":return s([l,o.valueOf()],o)}if(e&&"toJSON"in o)return i(o.toJSON());const d=[],h=s([a,d],o);for(const f of Vce(o))(t||!gp(Hu(o[f])))&&d.push([i(f),i(o[f])]);return h}case eT:return s([a,o.toISOString()],o);case tT:{const{source:d,flags:h}=o;return s([a,{source:d,flags:h}],o)}case nT:{const d=[],h=s([a,d],o);for(const[f,p]of o)(t||!(gp(Hu(f))||gp(Hu(p))))&&d.push([i(f),i(p)]);return h}case rT:{const d=[],h=s([a,d],o);for(const f of o)(t||!gp(Hu(f)))&&d.push(i(f));return h}}const{message:u}=o;return s([a,{name:l,message:u}],o)};return i},gN=(t,{json:e,lossy:n}={})=>{const r=[];return $ce(!(e||n),!!e,new Map,r)(t),r},Vg=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?mN(gN(t,e)):structuredClone(t):(t,e)=>mN(gN(t,e));function Uce(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Bce(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function zce(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Uce,r=t.options.footnoteBackLabel||Bce,s=t.options.footnoteLabel||"Footnotes",i=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),f=Su(h.toLowerCase());let p=0;const y=[],v=t.footnoteCounts.get(h);for(;v!==void 0&&++p<=v;){y.length>0&&y.push({type:"text",value:" "});let g=typeof n=="string"?n:n(l,p);typeof g=="string"&&(g={type:"text",value:g}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const _=d[d.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const g=_.children[_.children.length-1];g&&g.type==="text"?g.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...y)}else d.push(...y);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(d,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Vg(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const w5=function(t){if(t==null)return Gce;if(typeof t=="function")return ow(t);if(typeof t=="object")return Array.isArray(t)?Wce(t):Hce(t);if(typeof t=="string")return qce(t);throw new Error("Expected function, string, or object as test")};function Wce(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=w5(t[n]);return ow(r);function r(...s){let i=-1;for(;++i<e.length;)if(e[i].apply(this,s))return!0;return!1}}function Hce(t){const e=t;return ow(n);function n(r){const s=r;let i;for(i in t)if(s[i]!==e[i])return!1;return!0}}function qce(t){return ow(e);function e(n){return n&&n.type===t}}function ow(t){return e;function e(n,r,s){return!!(Kce(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Gce(){return!0}function Kce(t){return t!==null&&typeof t=="object"&&"type"in t}const x5=[],Qce=!0,yN=!1,Yce="skip";function Xce(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const i=w5(s),o=r?-1:1;a(t,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=x5,y,v,_;if((!e||i(l,u,d[d.length-1]||void 0))&&(p=Jce(n(l,d)),p[0]===yN))return p;if("children"in l&&l.children){const w=l;if(w.children&&p[0]!==Yce)for(v=(r?w.children.length:-1)+o,_=d.concat(w);v>-1&&v<w.children.length;){const g=w.children[v];if(y=a(g,v,_)(),y[0]===yN)return y;v=typeof y[1]=="number"?y[1]:v+o}}return p}}}function Jce(t){return Array.isArray(t)?t:typeof t=="number"?[Qce,t]:t==null?x5:[t]}function _5(t,e,n,r){let s,i,o;typeof e=="function"&&typeof n!="function"?(i=void 0,o=e,s=n):(i=e,o=n,s=r),Xce(t,i,a,s);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const vb={}.hasOwnProperty,Zce={};function eue(t,e){const n=e||Zce,r=new Map,s=new Map,i=new Map,o={...Oce,...n.handlers},a={all:u,applyData:nue,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:tue,wrap:sue};return _5(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),a;function l(d,h){const f=d.type,p=a.handlers[f];if(vb.call(a.handlers,f)&&p)return p(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in d){const{children:v,..._}=d,w=Vg(_);return w.children=a.all(d),w}return Vg(d)}return(a.options.unknownHandler||rue)(a,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const y=a.one(f[p],d);if(y){if(p&&f[p-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=vN(y.value)),!Array.isArray(y)&&y.type==="element")){const v=y.children[0];v&&v.type==="text"&&(v.value=vN(v.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function tue(t,e){t.position&&(e.position=Foe(t))}function nue(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,i=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Vg(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function rue(t,e){const n=e.data||{},r="value"in e&&!(vb.call(n,"hProperties")||vb.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sue(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function vN(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wN(t,e){const n=eue(t,e),r=n.one(t,void 0),s=zce(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function iue(t,e){return t&&"run"in t?async function(n,r){const s=wN(n,{file:r,...e});await t.run(s,r)}:function(n,r){return wN(n,{file:r,...t||e})}}function xN(t){if(t)throw t}var Xp=Object.prototype.hasOwnProperty,b5=Object.prototype.toString,_N=Object.defineProperty,bN=Object.getOwnPropertyDescriptor,EN=function(e){return typeof Array.isArray=="function"?Array.isArray(e):b5.call(e)==="[object Array]"},SN=function(e){if(!e||b5.call(e)!=="[object Object]")return!1;var n=Xp.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Xp.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var s;for(s in e);return typeof s>"u"||Xp.call(e,s)},TN=function(e,n){_N&&n.name==="__proto__"?_N(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},CN=function(e,n){if(n==="__proto__")if(Xp.call(e,n)){if(bN)return bN(e,n).value}else return;return e[n]},oue=function t(){var e,n,r,s,i,o,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=CN(a,n),s=CN(e,n),a!==s&&(d&&s&&(SN(s)||(i=EN(s)))?(i?(i=!1,o=r&&EN(r)?r:[]):o=r&&SN(r)?r:{},TN(a,{name:n,newValue:t(d,o,s)})):typeof s<"u"&&TN(a,{name:n,newValue:s}));return a};const Lx=wy(oue);function wb(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function aue(){const t=[],e={run:n,use:r};return e;function n(...s){let i=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...s);function a(l,...u){const d=t[++i];let h=-1;if(l){o(l);return}for(;++h<s.length;)(u[h]===null||u[h]===void 0)&&(u[h]=s[h]);s=u,d?lue(d,a)(...u):o(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function lue(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(s);try{l=t.apply(this,o)}catch(u){const d=u;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(i,s):l instanceof Error?s(l):i(l))}function s(o,...a){n||(n=!0,e(o,...a))}function i(o){s(null,o)}}const Ms={basename:cue,dirname:uue,extname:due,join:hue,sep:"/"};function cue(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');kf(t);let n=0,r=-1,s=t.length,i;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(i){n=s+1;break}}else o<0&&(i=!0,o=s+1),a>-1&&(t.codePointAt(s)===e.codePointAt(a--)?a<0&&(r=s):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function uue(t){if(kf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function due(t){kf(t);let e=t.length,n=-1,r=0,s=-1,i=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?s<0?s=e:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function hue(...t){let e=-1,n;for(;++e<t.length;)kf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":fue(n)}function fue(t){kf(t);const e=t.codePointAt(0)===47;let n=pue(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function pue(t,e){let n="",r=0,s=-1,i=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(s===o-1||i===1))if(s!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=o,i=0;continue}}else if(n.length>0){n="",r=0,s=o,i=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,o):n=t.slice(s+1,o),r=o-s-1;s=o,i=0}else a===46&&i>-1?i++:i=-1}return n}function kf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const mue={cwd:gue};function gue(){return"/"}function xb(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function yue(t){if(typeof t=="string")t=new URL(t);else if(!xb(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return vue(t)}function vue(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Fx=["history","path","basename","stem","extname","dirname"];class E5{constructor(e){let n;e?xb(e)?n={path:e}:typeof e=="string"||wue(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":mue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fx.length;){const i=Fx[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)Fx.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ms.basename(this.path):void 0}set basename(e){$x(e,"basename"),Vx(e,"basename"),this.path=Ms.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ms.dirname(this.path):void 0}set dirname(e){kN(this.basename,"dirname"),this.path=Ms.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ms.extname(this.path):void 0}set extname(e){if(Vx(e,"extname"),kN(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ms.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){xb(e)&&(e=yue(e)),$x(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ms.basename(this.path,this.extname):void 0}set stem(e){$x(e,"stem"),Vx(e,"stem"),this.path=Ms.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Ln(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Vx(t,e){if(t&&t.includes(Ms.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ms.sep+"`")}function $x(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function kN(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function wue(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xue=function(t){const r=this.constructor.prototype,s=r[t],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},_ue={}.hasOwnProperty;class sT extends xue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=aue()}copy(){const e=new sT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Lx(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(zx("data",this.frozen),this.namespace[e]=n,this):_ue.call(this.namespace,e)&&this.namespace[e]||void 0:e?(zx("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=yp(e),r=this.parser||this.Parser;return Ux("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ux("process",this.parser||this.Parser),Bx("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,o){const a=yp(e),l=r.parse(a);r.run(l,a,function(d,h,f){if(d||!h||!f)return u(d);const p=h,y=r.stringify(p,f);Sue(y)?f.value=y:f.result=y,u(d,f)});function u(d,h){d||!h?o(d):i?i(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),Ux("processSync",this.parser||this.Parser),Bx("processSync",this.compiler||this.Compiler),this.process(e,s),AN("processSync","process",n),r;function s(i,o){n=!0,xN(i),r=o}}run(e,n,r){IN(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,a){const l=yp(n);s.run(e,l,u);function u(d,h,f){const p=h||e;d?a(d):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,s;return this.run(e,n,i),AN("runSync","run",r),s;function i(o,a){xN(o),s=a,r=!0}}stringify(e,n){this.freeze();const r=yp(n),s=this.compiler||this.Compiler;return Bx("stringify",s),IN(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(zx("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(s.settings=Lx(!0,s.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];i(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[p,...y]=d;const v=r[f][1];wb(v)&&wb(p)&&(p=Lx(!0,v,p)),r[f]=[u,p,...y]}}}}const bue=new sT().freeze();function Ux(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Bx(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function zx(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function IN(t){if(!wb(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function AN(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function yp(t){return Eue(t)?t:new E5(t)}function Eue(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Sue(t){return typeof t=="string"||Tue(t)}function Tue(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Cue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",NN=[],PN={allowDangerousHtml:!0},kue=/^(https?|ircs?|mailto|xmpp)$/i,Iue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Aue(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",s=t.className,i=t.components,o=t.disallowedElements,a=t.rehypePlugins||NN,l=t.remarkPlugins||NN,u=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...PN}:PN,d=t.skipHtml,h=t.unwrapDisallowed,f=t.urlTransform||Nue,p=bue().use(uce).use(l).use(iue,u).use(a),y=new E5;typeof r=="string"&&(y.value=r);for(const g of Iue)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Cue+g.id,void 0);const v=p.parse(y);let _=p.runSync(v,y);return s&&(_={type:"element",tagName:"div",properties:{className:s},children:_.type==="root"?_.children:[_]}),_5(_,w),zoe(_,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function w(g,x,b){if(g.type==="raw"&&b&&typeof x=="number")return d?b.children.splice(x,1):b.children[x]={type:"text",value:g.value},x;if(g.type==="element"){let E;for(E in Dx)if(Object.hasOwn(Dx,E)&&Object.hasOwn(g.properties,E)){const S=g.properties[E],k=Dx[E];(k===null||k.includes(g.tagName))&&(g.properties[E]=f(String(S||""),E,g))}}if(g.type==="element"){let E=e?!e.includes(g.tagName):o?o.includes(g.tagName):!1;if(!E&&n&&typeof x=="number"&&(E=!n(g,x,b)),E&&b&&typeof x=="number")return h&&g.children?b.children.splice(x,1,...g.children):b.children.splice(x,1),x}}}function Nue(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e<0||s>-1&&e>s||n>-1&&e>n||r>-1&&e>r||kue.test(t.slice(0,e))?t:""}function Pue({lesson:t,isLocked:e=!1,isActive:n,onClick:r}){const[s,i]=m.useState(n),o=()=>{e||(n||r(),i(!s))};return c.jsxs(Fe,{className:`mb-4 overflow-hidden transition-all ${n?"border-social-purple":""}`,children:[c.jsx(at,{className:"p-4 cursor-pointer",onClick:o,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[e?c.jsx(Xj,{className:"h-5 w-5 text-muted-foreground"}):t.completed?c.jsx(Aa,{className:"h-5 w-5 text-green-500"}):t.videoUrl?c.jsx(BC,{className:"h-5 w-5 text-social-purple"}):c.jsx("div",{className:"h-5 w-5 border border-muted-foreground rounded-full flex items-center justify-center text-xs",children:t.id.split("-")[1]}),c.jsx(lt,{className:"text-base font-medium",children:t.title})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:t.duration}),e?null:s?c.jsx(Kj,{className:"h-4 w-4"}):c.jsx($y,{className:"h-4 w-4"})]})]})}),s&&!e&&c.jsxs(Ze,{className:"px-4 pb-4 pt-0",children:[t.description&&c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),t.videoUrl&&c.jsx("div",{className:"aspect-video bg-muted mb-4 rounded-md flex items-center justify-center",children:c.jsxs(_e,{variant:"outline",size:"sm",className:"gap-2",children:[c.jsx(BC,{className:"h-4 w-4"}),"Play Video"]})}),t.content&&c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx(Aue,{children:t.content})})]})]})}function Rue(){var v;const{platform:t,courseId:e}=k7(),[n,r]=m.useState(null),[s,i]=m.useState(null),[o,a]=m.useState(!0),{toast:l}=hi(),u=Pr(),{hasActiveSubscription:d}=bl();if(m.useEffect(()=>{if(e){const _=Aie(e);_?(r(_),_.lessons&&_.lessons.length>0&&i(_.lessons[0].id)):(l({title:"Course not found",description:"The course you're looking for doesn't exist.",variant:"destructive"}),u("/courses")),a(!1)}},[e,u,l]),o)return c.jsxs("div",{className:"container mx-auto max-w-6xl py-6 space-y-8 animate-fade-in",children:[c.jsx("div",{className:"flex items-center gap-2 mb-6",children:c.jsx(Un,{className:"h-9 w-24"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsx(Un,{className:"h-8 w-3/4"}),c.jsx(Un,{className:"h-4 w-full"}),c.jsx(Un,{className:"h-4 w-full"}),c.jsx(Un,{className:"h-4 w-2/3"}),c.jsxs("div",{className:"space-y-4 mt-8",children:[c.jsx(Un,{className:"h-16 w-full"}),c.jsx(Un,{className:"h-16 w-full"}),c.jsx(Un,{className:"h-16 w-full"})]})]}),c.jsx("div",{children:c.jsx(Un,{className:"h-64 w-full rounded-lg"})})]})]});if(!n)return c.jsx("div",{className:"container mx-auto max-w-6xl py-6",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Course Not Found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"The course you're looking for doesn't exist or has been removed."}),c.jsxs(_e,{onClick:()=>u("/courses"),children:[c.jsx(FC,{className:"mr-2 h-4 w-4"}),"Back to Courses"]})]})});const h=_=>{i(_)},p=(()=>{if(!n.lessons||!s)return null;const _=n.lessons.find(w=>w.id===s);return _||null})(),y=()=>{navigator.share?navigator.share({title:n.title,text:n.description,url:window.location.href}).then(()=>{l({title:"Shared successfully",description:"The course has been shared."})}).catch(_=>{console.error("Error sharing:",_)}):(navigator.clipboard.writeText(window.location.href),l({title:"Link copied!",description:"Course link copied to clipboard."}))};return c.jsxs("div",{className:"container mx-auto max-w-6xl py-6 animate-fade-in",children:[c.jsxs(_e,{variant:"ghost",className:"mb-6 gap-2",onClick:()=>u("/courses"),children:[c.jsx(FC,{className:"h-4 w-4"}),"Back to Courses"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:n.title}),c.jsx("p",{className:"text-lg text-muted-foreground",children:n.description}),c.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(k9,{className:"mr-1 h-4 w-4"}),n.lessons?n.lessons.length:0," Lessons"]}),c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(t2,{className:"mr-1 h-4 w-4"}),((v=n.enrolled)==null?void 0:v.toLocaleString())||0," Students"]}),c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(ch,{className:"mr-1 h-4 w-4"}),n.duration||"TBD"]})]})]}),c.jsxs(US,{defaultValue:"lessons",className:"w-full mb-8",children:[c.jsxs(tw,{children:[c.jsx(ji,{value:"lessons",children:"Lessons"}),c.jsx(ji,{value:"overview",children:"Overview"})]}),c.jsx(Di,{value:"lessons",className:"mt-6",children:c.jsxs("div",{className:"space-y-1",children:[n.lessons&&n.lessons.map((_,w)=>c.jsx(Pue,{lesson:_,isActive:s===_.id,isLocked:!d&&w>0,onClick:()=>h(_.id)},_.id)),(!n.lessons||n.lessons.length===0)&&c.jsx("div",{className:"text-center py-12 border rounded-lg",children:c.jsx("p",{className:"text-muted-foreground",children:"This course has no lessons yet."})})]})}),c.jsx(Di,{value:"overview",className:"mt-6",children:c.jsx(Fe,{children:c.jsxs(Ze,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Course Overview"}),c.jsx("p",{className:"mb-4",children:"This comprehensive course will teach you how to monetize your TikTok account quickly, even without showing your face. You'll learn proven strategies from account setup to advanced growth techniques."}),c.jsx("h4",{className:"font-semibold mt-6 mb-2",children:"What You'll Learn"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1 mb-6",children:[c.jsx("li",{children:"How to create an optimized TikTok account for maximum growth"}),c.jsx("li",{children:"Crafting a compelling bio that converts viewers to followers"}),c.jsx("li",{children:"Finding profitable niches that don't require showing your face"}),c.jsx("li",{children:"Warming up your account to quickly gain algorithm recognition"}),c.jsx("li",{children:"Creating powerful call-to-actions that boost engagement"}),c.jsx("li",{children:"Advanced growth strategies including hashtag optimization"})]}),c.jsx("h4",{className:"font-semibold mt-6 mb-2",children:"Requirements"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"No prior experience required - suitable for beginners"}),c.jsx("li",{children:"A smartphone to create and manage your TikTok account"}),c.jsx("li",{children:"Willingness to apply the strategies consistently"})]})]})})})]})]}),c.jsx("div",{children:c.jsxs("div",{className:"sticky top-20",children:[c.jsx("div",{className:"relative aspect-video overflow-hidden rounded-lg mb-4",children:c.jsx("img",{src:n.thumbnail,alt:n.title,className:"w-full h-full object-cover"})}),!d&&c.jsx(Fe,{className:"mb-4",children:c.jsxs(Ze,{className:"p-4",children:[c.jsxs("p",{className:"text-sm mb-3",children:[c.jsx("strong",{children:"Note:"})," Only the first lesson is available with a free account. Upgrade to access all lessons."]}),c.jsx(_e,{className:"w-full bg-gradient-to-r from-social-purple to-social-darkpurple hover:opacity-90",onClick:()=>u("/subscription"),children:"Upgrade to Premium"})]})}),c.jsxs(_e,{variant:"outline",className:"w-full mb-4 gap-2",onClick:y,children:[c.jsx(F9,{className:"h-4 w-4"}),"Share Course"]}),p&&c.jsx(Fe,{className:"mb-4",children:c.jsxs(Ze,{className:"p-4",children:[c.jsx("h3",{className:"font-medium mb-2",children:"Currently Viewing"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:p.title}),c.jsxs("div",{className:"mt-3 text-xs text-muted-foreground flex items-center",children:[c.jsx(ch,{className:"h-3 w-3 mr-1"}),p.duration]})]})})]})})]})]})}const aw=m.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));aw.displayName="Textarea";var iT="Avatar",[jue,_he]=fi(iT),[Due,S5]=jue(iT),T5=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return c.jsx(Due,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:c.jsx(xe.span,{...r,ref:e})})});T5.displayName=iT;var C5="AvatarImage",k5=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=S5(C5,n),a=Mue(r,i.referrerPolicy),l=xn(u=>{s(u),o.onImageLoadingStatusChange(u)});return on(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?c.jsx(xe.img,{...i,ref:e,src:r}):null});k5.displayName=C5;var I5="AvatarFallback",A5=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=S5(I5,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?c.jsx(xe.span,{...s,ref:e}):null});A5.displayName=I5;function Mue(t,e){const[n,r]=m.useState("idle");return on(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var N5=T5,P5=k5,R5=A5;const j5=m.forwardRef(({className:t,...e},n)=>c.jsx(N5,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));j5.displayName=N5.displayName;const Oue=m.forwardRef(({className:t,...e},n)=>c.jsx(P5,{ref:n,className:re("aspect-square h-full w-full",t),...e}));Oue.displayName=P5.displayName;const D5=m.forwardRef(({className:t,...e},n)=>c.jsx(R5,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));D5.displayName=R5.displayName;const $l="4.53.0";let RN=!1,zd,M5,O5,_b,L5,F5,V5,$5,U5;function Lue(t,e={auto:!1}){if(RN)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(zd)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${zd}'\``);RN=e.auto,zd=t.kind,M5=t.fetch,O5=t.FormData,_b=t.File,L5=t.ReadableStream,F5=t.getMultipartRequestOptions,V5=t.getDefaultAgent,$5=t.fileFromPath,U5=t.isFsReadStream}class Fue{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Vue({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,s,i;try{n=fetch,r=Request,s=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new Fue(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}zd||Lue(Vue(),{auto:!0});class Ys{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of $ue(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new _n(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new _n(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Ys(s,n)}static fromReadableStream(e,n){let r=!1;async function*s(){const o=new ul,a=B5(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of s())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Ys(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new Ys(()=>s(e),this.controller),new Ys(()=>s(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new L5({async start(){n=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:o}=await n.next();if(o)return s.close();const a=r.encode(JSON.stringify(i)+`
`);s.enqueue(a)}catch(i){s.error(i)}},async cancel(){var s;await((s=n.return)==null?void 0:s.call(n))}})}}async function*$ue(t,e){if(!t.body)throw e.abort(),new Xe("Attempted to iterate over a response with no body");const n=new zue,r=new ul,s=B5(t.body);for await(const i of Uue(s))for(const o of r.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*Uue(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let s=new Uint8Array(e.length+r.length);s.set(e),s.set(r,e.length),e=s;let i;for(;(i=Bue(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function Bue(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class zue{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=Wue(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}class ul{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=ul.NEWLINE_CHARS.has(n[n.length-1]||"");let s=n.split(ul.NEWLINE_REGEXP);return r&&s.pop(),s.length===1&&!r?(this.buffer.push(s[0]),[]):(this.buffer.length>0&&(s=[this.buffer.join("")+s[0],...s.slice(1)],this.buffer=[]),r||(this.buffer=[s.pop()||""]),s)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Xe(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Xe(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Xe("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}ul.NEWLINE_CHARS=new Set([`
`,"\r"]);ul.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Wue(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function B5(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const z5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",W5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&oT(t),oT=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Hue=t=>W5(t)||z5(t)||U5(t);async function H5(t,e,n){var s;if(t=await t,n??(n=W5(t)?{lastModified:t.lastModified,type:t.type}:{}),z5(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new _b([i],e,n)}const r=await que(t);if(e||(e=Kue(t)??"unknown_file"),!n.type){const i=(s=r[0])==null?void 0:s.type;typeof i=="string"&&(n={...n,type:i})}return new _b(r,e,n)}async function que(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(oT(t))e.push(await t.arrayBuffer());else if(Que(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Gue(t)}`);return e}function Gue(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Kue(t){var e;return Wx(t.name)||Wx(t.filename)||((e=Wx(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Wx=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},Que=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",jN=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",iu=async t=>{const e=await Yue(t.body);return F5(e,t)},Yue=async t=>{const e=new O5;return await Promise.all(Object.entries(t||{}).map(([n,r])=>bb(e,n,r))),e},bb=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Hue(n)){const r=await H5(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>bb(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>bb(t,`${e}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var bc={},Xue=function(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Jue=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},vp;async function q5(t){const{response:e}=t;if(t.options.stream)return Ec("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ys.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Ec("response",e.status,e.url,e.headers,i),i}const s=await e.text();return Ec("response",e.status,e.url,e.headers,s),s}class lw extends Promise{constructor(e,n=q5){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new lw(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Zue{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Hx("maxRetries",n),this.timeout=Hx("timeout",r),this.httpAgent=s,this.fetch=i??M5}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ide(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${cde()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async s=>{const i=s&&oT(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:n,...s,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){var y;const{method:n,path:r,query:s,headers:i={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:jN(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(r,s);"timeout"in e&&Hx("timeout",e.timeout);const u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??V5(l),h=u+1e3;typeof((y=d==null?void 0:d.options)==null?void 0:y.timeout)=="number"&&h>(d.options.timeout??0)&&(d.options.timeout=h),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:i,contentLength:a});return{req:{method:n,...o&&{body:o},headers:f,...d&&{agent:d},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const s={};r&&(s["content-length"]=r);const i=this.defaultHeaders(e);return LN(s,i),LN(s,n),jN(e.body)&&zd!=="node"&&delete s["content-type"],this.validateHeaders(s,n),s}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,s){return _n.generate(e,n,r,s)}request(e,n=null){return new lw(this.makeRequest(e,n))}async makeRequest(e,n){var d,h;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:s,url:i,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(s,{url:i,options:r}),Ec("request",i,r,s.headers),(d=r.signal)!=null&&d.aborted)throw new _r;const a=new AbortController,l=await this.fetchWithTimeout(i,s,o,a).catch(Eb);if(l instanceof Error){if((h=r.signal)!=null&&h.aborted)throw new _r;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new aT:new cw({cause:l})}const u=tde(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const w=`retrying, ${n} attempts remaining`;return Ec(`response (error; ${w})`,l.status,i,u),this.retryRequest(r,n,u)}const f=await l.text().catch(w=>Eb(w).message),p=ode(f),y=p?void 0:f;throw Ec(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,y),this.makeStatusError(l.status,p,y,u)}return{response:l,options:r,controller:a}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new ede(this,r,e)}buildURL(e,n){const r=lde(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return K5(s)||(n={...s,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Xe(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,s){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const a=setTimeout(()=>s.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:s.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let s;const i=r==null?void 0:r["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(s=a)}const o=r==null?void 0:r["retry-after"];if(o&&!s){const a=parseFloat(o);Number.isNaN(a)?s=Date.parse(o)-Date.now():s=a*1e3}if(!(s&&0<=s&&s<60*1e3)){const a=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,a)}return await If(s),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${$l}`}}class G5{constructor(e,n,r,s){vp.set(this,void 0),Xue(this,vp,e),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Xe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[s,i]of r)e.url.searchParams.set(s,i);n.query=void 0,n.path=e.url.toString()}return await Jue(this,vp,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(vp=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class ede extends lw{constructor(e,n,r){super(n,async s=>new r(e,s.response,await q5(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const tde=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),nde={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Ir=t=>typeof t=="object"&&t!==null&&!K5(t)&&Object.keys(t).every(e=>Q5(nde,e)),rde=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":MN(Deno.build.os),"X-Stainless-Arch":DN(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":MN(process.platform),"X-Stainless-Arch":DN(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=sde();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sde(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const DN=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",MN=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ON;const ide=()=>ON??(ON=rde()),ode=t=>{try{return JSON.parse(t)}catch{return}},ade=new RegExp("^(?:[a-z]+:)?//","i"),lde=t=>ade.test(t),If=t=>new Promise(e=>setTimeout(e,t)),Hx=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Xe(`${t} must be an integer`);if(e<0)throw new Xe(`${t} must be a positive integer`);return e},Eb=t=>t instanceof Error?t:new Error(t),wp=t=>{var e,n,r,s;if(typeof process<"u")return((e=bc==null?void 0:bc[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:s.trim()};function K5(t){if(!t)return!0;for(const e in t)return!1;return!0}function Q5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function LN(t,e){for(const n in e){if(!Q5(e,n))continue;const r=n.toLowerCase();if(!r)continue;const s=e[n];s===null?delete t[r]:s!==void 0&&(t[r]=s)}}function Ec(t,...e){typeof process<"u"&&(bc==null?void 0:bc.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const cde=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),ude=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function FN(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Xe extends Error{}class _n extends Xe{constructor(e,n,r,s){super(`${_n.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e)return new cw({cause:Eb(n)});const i=n==null?void 0:n.error;return e===400?new Y5(e,i,r,s):e===401?new X5(e,i,r,s):e===403?new J5(e,i,r,s):e===404?new Z5(e,i,r,s):e===409?new e$(e,i,r,s):e===422?new t$(e,i,r,s):e===429?new n$(e,i,r,s):e>=500?new r$(e,i,r,s):new _n(e,i,r,s)}}class _r extends _n{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class cw extends _n{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class aT extends cw{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Y5 extends _n{constructor(){super(...arguments),this.status=400}}class X5 extends _n{constructor(){super(...arguments),this.status=401}}class J5 extends _n{constructor(){super(...arguments),this.status=403}}class Z5 extends _n{constructor(){super(...arguments),this.status=404}}class e$ extends _n{constructor(){super(...arguments),this.status=409}}class t$ extends _n{constructor(){super(...arguments),this.status=422}}class n$ extends _n{constructor(){super(...arguments),this.status=429}}class r$ extends _n{}class lT extends G5{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class As extends G5{constructor(e,n,r,s){super(e,n,r,s),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class ht{constructor(e){this._client=e}}let $g=class extends ht{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};$g||($g={});let Ug=class extends ht{constructor(){super(...arguments),this.completions=new $g(this._client)}};(function(t){t.Completions=$g})(Ug||(Ug={}));class Bg extends ht{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}Bg||(Bg={});class zg extends ht{create(e,n){return this._client.post("/audio/transcriptions",iu({body:e,...n}))}}zg||(zg={});class Wg extends ht{create(e,n){return this._client.post("/audio/translations",iu({body:e,...n}))}}Wg||(Wg={});class Hg extends ht{constructor(){super(...arguments),this.transcriptions=new zg(this._client),this.translations=new Wg(this._client),this.speech=new Bg(this._client)}}(function(t){t.Transcriptions=zg,t.Translations=Wg,t.Speech=Bg})(Hg||(Hg={}));class qg extends ht{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return Ir(e)?this.list({},e):this._client.getAPIList("/batches",cT,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class cT extends As{}(function(t){t.BatchesPage=cT})(qg||(qg={}));class Gg extends ht{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ir(e)?this.list({},e):this._client.getAPIList("/assistants",uT,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class uT extends As{}(function(t){t.AssistantsPage=uT})(Gg||(Gg={}));function VN(t){return typeof t.parse=="function"}const Sc=t=>(t==null?void 0:t.role)==="assistant",s$=t=>(t==null?void 0:t.role)==="function",i$=t=>(t==null?void 0:t.role)==="tool";var ns=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},ze=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},In,Jp,Zp,ad,ld,em,cd,bi,ud,tm,nm,Ul,Sb,Kg,Tb,Cb,kb,Ib,o$,Ab;const $N=10;class a${constructor(){In.add(this),this.controller=new AbortController,Jp.set(this,void 0),Zp.set(this,()=>{}),ad.set(this,()=>{}),ld.set(this,void 0),em.set(this,()=>{}),cd.set(this,()=>{}),bi.set(this,{}),this._chatCompletions=[],this.messages=[],ud.set(this,!1),tm.set(this,!1),nm.set(this,!1),Ul.set(this,!1),Ib.set(this,e=>{if(ns(this,tm,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new _r),e instanceof _r)return ns(this,nm,!0,"f"),this._emit("abort",e);if(e instanceof Xe)return this._emit("error",e);if(e instanceof Error){const n=new Xe(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Xe(String(e)))}),ns(this,Jp,new Promise((e,n)=>{ns(this,Zp,e,"f"),ns(this,ad,n,"f")}),"f"),ns(this,ld,new Promise((e,n)=>{ns(this,em,e,"f"),ns(this,cd,n,"f")}),"f"),ze(this,Jp,"f").catch(()=>{}),ze(this,ld,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ze(this,Ib,"f"))},0)}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(s$(e)||i$(e))&&e.content)this._emit("functionCallResult",e.content);else if(Sc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Sc(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(ze(this,Zp,"f").call(this),this._emit("connect"))}get ended(){return ze(this,ud,"f")}get errored(){return ze(this,tm,"f")}get aborted(){return ze(this,nm,"f")}abort(){this.controller.abort()}on(e,n){return(ze(this,bi,"f")[e]||(ze(this,bi,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ze(this,bi,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(ze(this,bi,"f")[e]||(ze(this,bi,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ns(this,Ul,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ns(this,Ul,!0,"f"),await ze(this,ld,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Xe("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),ze(this,In,"m",Sb).call(this)}async finalMessage(){return await this.done(),ze(this,In,"m",Kg).call(this)}async finalFunctionCall(){return await this.done(),ze(this,In,"m",Tb).call(this)}async finalFunctionCallResult(){return await this.done(),ze(this,In,"m",Cb).call(this)}async totalUsage(){return await this.done(),ze(this,In,"m",kb).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(ze(this,ud,"f"))return;e==="end"&&(ns(this,ud,!0,"f"),ze(this,em,"f").call(this));const r=ze(this,bi,"f")[e];if(r&&(ze(this,bi,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!ze(this,Ul,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ze(this,ad,"f").call(this,s),ze(this,cd,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!ze(this,Ul,"f")&&!(r!=null&&r.length)&&Promise.reject(s),ze(this,ad,"f").call(this,s),ze(this,cd,"f").call(this,s),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=ze(this,In,"m",Kg).call(this);n&&this._emit("finalMessage",n);const r=ze(this,In,"m",Sb).call(this);r&&this._emit("finalContent",r);const s=ze(this,In,"m",Tb).call(this);s&&this._emit("finalFunctionCall",s);const i=ze(this,In,"m",Cb).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",ze(this,In,"m",kb).call(this))}async _createChatCompletion(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ze(this,In,"m",o$).call(this,n);const i=await e.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(i)}async _runChatCompletion(e,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var f;const s="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=$N}=r||{},d={};for(const p of n.functions)d[p.name||p.function.name]=p;const h=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<u;++p){const v=(f=(await this._createChatCompletion(e,{...a,function_call:i,functions:h,messages:[...this.messages]},r)).choices[0])==null?void 0:f.message;if(!v)throw new Xe("missing message in ChatCompletion response");if(!v.function_call)return;const{name:_,arguments:w}=v.function_call,g=d[_];if(g){if(l&&l!==_){const S=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:_,content:S});continue}}else{const S=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${h.map(k=>JSON.stringify(k.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:_,content:S});continue}let x;try{x=VN(g)?await g.parse(w):w}catch(S){this._addMessage({role:s,name:_,content:S instanceof Error?S.message:String(S)});continue}const b=await g.function(x,this),E=ze(this,In,"m",Ab).call(this,b);if(this._addMessage({role:s,name:_,content:E}),l)return}}async _runTools(e,n,r){var f,p;const s="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((f=i==null?void 0:i.function)==null?void 0:f.name),{maxChatCompletions:u=$N}=r||{},d={};for(const y of n.tools)y.type==="function"&&(d[y.function.name||y.function.function.name]=y.function);const h="tools"in n?n.tools.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<u;++y){const _=(p=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:p.message;if(!_)throw new Xe("missing message in ChatCompletion response");if(!_.tool_calls)return;for(const w of _.tool_calls){if(w.type!=="function")continue;const g=w.id,{name:x,arguments:b}=w.function,E=d[x];if(E){if(l&&l!==x){const j=`Invalid tool_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:g,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(x)}. Available options are: ${h.map(M=>JSON.stringify(M.function.name)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:g,content:j});continue}let S;try{S=VN(E)?await E.parse(b):b}catch(j){const M=j instanceof Error?j.message:String(j);this._addMessage({role:s,tool_call_id:g,content:M});continue}const k=await E.function(S,this),A=ze(this,In,"m",Ab).call(this,k);if(this._addMessage({role:s,tool_call_id:g,content:A}),l)return}}}}Jp=new WeakMap,Zp=new WeakMap,ad=new WeakMap,ld=new WeakMap,em=new WeakMap,cd=new WeakMap,bi=new WeakMap,ud=new WeakMap,tm=new WeakMap,nm=new WeakMap,Ul=new WeakMap,Ib=new WeakMap,In=new WeakSet,Sb=function(){return ze(this,In,"m",Kg).call(this).content??null},Kg=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Sc(n)){const{function_call:r,...s}=n,i={...s,content:n.content??null};return r&&(i.function_call=r),i}}throw new Xe("stream ended without producing a ChatCompletionMessage with role=assistant")},Tb=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Sc(s)&&(s!=null&&s.function_call))return s.function_call;if(Sc(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(n=s.tool_calls.at(-1))==null?void 0:n.function}},Cb=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(s$(n)&&n.content!=null||i$(n)&&n.content!=null&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},kb=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},o$=function(e){if(e.n!=null&&e.n>1)throw new Xe("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ab=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Bh extends a${static runFunctions(e,n,r){const s=new Bh,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Bh,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}_addMessage(e){super._addMessage(e),Sc(e)&&e.content&&this._emit("content",e.content)}}var rs=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},qx=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},js,ao,Gx,Kx,xp,UN;class zh extends a${constructor(){super(...arguments),js.add(this),ao.set(this,void 0)}get currentChatCompletionSnapshot(){return rs(this,ao,"f")}static fromReadableStream(e){const n=new zh;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const s=new zh;return s._run(()=>s._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),rs(this,js,"m",Gx).call(this);const i=await e.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of i)rs(this,js,"m",Kx).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new _r;return this._addChatCompletion(rs(this,js,"m",xp).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),rs(this,js,"m",Gx).call(this),this._connected();const s=Ys.fromReadableStream(e,this.controller);let i;for await(const a of s)i&&i!==a.id&&this._addChatCompletion(rs(this,js,"m",xp).call(this)),rs(this,js,"m",Kx).call(this,a),i=a.id;if((o=s.controller.signal)!=null&&o.aborted)throw new _r;return this._addChatCompletion(rs(this,js,"m",xp).call(this))}[(ao=new WeakMap,js=new WeakSet,Gx=function(){this.ended||qx(this,ao,void 0,"f")},Kx=function(n){var o,a,l;if(this.ended)return;const r=rs(this,js,"m",UN).call(this,n);this._emit("chunk",n,r);const s=(a=(o=n.choices[0])==null?void 0:o.delta)==null?void 0:a.content,i=(l=r.choices[0])==null?void 0:l.message;s!=null&&(i==null?void 0:i.role)==="assistant"&&(i!=null&&i.content)&&this._emit("content",s,i.content)},xp=function(){if(this.ended)throw new Xe("stream has ended, this shouldn't happen");const n=rs(this,ao,"f");if(!n)throw new Xe("request ended without sending any chunks");return qx(this,ao,void 0,"f"),dde(n)},UN=function(n){var r,s,i;let o=rs(this,ao,"f");const{choices:a,...l}=n;o?Object.assign(o,l):o=qx(this,ao,{...l,choices:[]},"f");for(const{delta:u,finish_reason:d,index:h,logprobs:f=null,...p}of n.choices){let y=o.choices[h];if(y||(y=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:f,...p}),f)if(!y.logprobs)y.logprobs=Object.assign({},f);else{const{content:b,...E}=f;Object.assign(y.logprobs,E),b&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...b))}if(d&&(y.finish_reason=d),Object.assign(y,p),!u)continue;const{content:v,function_call:_,role:w,tool_calls:g,...x}=u;if(Object.assign(y.message,x),v&&(y.message.content=(y.message.content||"")+v),w&&(y.message.role=w),_&&(y.message.function_call?(_.name&&(y.message.function_call.name=_.name),_.arguments&&((s=y.message.function_call).arguments??(s.arguments=""),y.message.function_call.arguments+=_.arguments)):y.message.function_call=_),g){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:b,id:E,type:S,function:k,...A}of g){const j=(i=y.message.tool_calls)[b]??(i[b]={});Object.assign(j,A),E&&(j.id=E),S&&(j.type=S),k&&(j.function??(j.function={arguments:""})),k!=null&&k.name&&(j.function.name=k.name),k!=null&&k.arguments&&(j.function.arguments+=k.arguments)}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ys(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function dde(t){const{id:e,choices:n,created:r,model:s,system_fingerprint:i,...o}=t;return{...o,id:e,choices:n.map(({message:a,finish_reason:l,index:u,logprobs:d,...h})=>{if(!l)throw new Xe(`missing finish_reason for choice ${u}`);const{content:f=null,function_call:p,tool_calls:y,...v}=a,_=a.role;if(!_)throw new Xe(`missing role for choice ${u}`);if(p){const{arguments:w,name:g}=p;if(w==null)throw new Xe(`missing function_call.arguments for choice ${u}`);if(!g)throw new Xe(`missing function_call.name for choice ${u}`);return{...h,message:{content:f,function_call:{arguments:w,name:g},role:_},finish_reason:l,index:u,logprobs:d}}return y?{...h,index:u,finish_reason:l,logprobs:d,message:{...v,role:_,content:f,tool_calls:y.map((w,g)=>{const{function:x,type:b,id:E,...S}=w,{arguments:k,name:A,...j}=x||{};if(E==null)throw new Xe(`missing choices[${u}].tool_calls[${g}].id
${_p(t)}`);if(b==null)throw new Xe(`missing choices[${u}].tool_calls[${g}].type
${_p(t)}`);if(A==null)throw new Xe(`missing choices[${u}].tool_calls[${g}].function.name
${_p(t)}`);if(k==null)throw new Xe(`missing choices[${u}].tool_calls[${g}].function.arguments
${_p(t)}`);return{...S,id:E,type:b,function:{...j,name:A,arguments:k}}})}}:{...h,message:{...v,content:f,role:_},finish_reason:l,index:u,logprobs:d}}),created:r,model:s,object:"chat.completion",...i?{system_fingerprint:i}:{}}}function _p(t){return JSON.stringify(t)}class Tc extends zh{static fromReadableStream(e){const n=new Tc;return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const s=new Tc,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,n,i)),s}static runTools(e,n,r){const s=new Tc,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,n,i)),s}}let l$=class extends ht{runFunctions(e,n){return e.stream?Tc.runFunctions(this._client.chat.completions,e,n):Bh.runFunctions(this._client.chat.completions,e,n)}runTools(e,n){return e.stream?Tc.runTools(this._client.chat.completions,e,n):Bh.runTools(this._client.chat.completions,e,n)}stream(e,n){return zh.createChatCompletion(this._client.chat.completions,e,n)}};class Qg extends ht{constructor(){super(...arguments),this.completions=new l$(this._client)}}(function(t){t.Completions=l$})(Qg||(Qg={}));var ss=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Ct=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},rm,sm,dd,hd,im,fd,Ei,pd,om,am,Bl,Nb;class hde{constructor(){this.controller=new AbortController,rm.set(this,void 0),sm.set(this,()=>{}),dd.set(this,()=>{}),hd.set(this,void 0),im.set(this,()=>{}),fd.set(this,()=>{}),Ei.set(this,{}),pd.set(this,!1),om.set(this,!1),am.set(this,!1),Bl.set(this,!1),Nb.set(this,e=>{if(ss(this,om,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new _r),e instanceof _r)return ss(this,am,!0,"f"),this._emit("abort",e);if(e instanceof Xe)return this._emit("error",e);if(e instanceof Error){const n=new Xe(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Xe(String(e)))}),ss(this,rm,new Promise((e,n)=>{ss(this,sm,e,"f"),ss(this,dd,n,"f")}),"f"),ss(this,hd,new Promise((e,n)=>{ss(this,im,e,"f"),ss(this,fd,n,"f")}),"f"),Ct(this,rm,"f").catch(()=>{}),Ct(this,hd,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emit("end")},Ct(this,Nb,"f"))},0)}_addRun(e){return e}_connected(){this.ended||(Ct(this,sm,"f").call(this),this._emit("connect"))}get ended(){return Ct(this,pd,"f")}get errored(){return Ct(this,om,"f")}get aborted(){return Ct(this,am,"f")}abort(){this.controller.abort()}on(e,n){return(Ct(this,Ei,"f")[e]||(Ct(this,Ei,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=Ct(this,Ei,"f")[e];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(e,n){return(Ct(this,Ei,"f")[e]||(Ct(this,Ei,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ss(this,Bl,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ss(this,Bl,!0,"f"),await Ct(this,hd,"f")}_emit(e,...n){if(Ct(this,pd,"f"))return;e==="end"&&(ss(this,pd,!0,"f"),Ct(this,im,"f").call(this));const r=Ct(this,Ei,"f")[e];if(r&&(Ct(this,Ei,"f")[e]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),e==="abort"){const s=n[0];!Ct(this,Bl,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ct(this,dd,"f").call(this,s),Ct(this,fd,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=n[0];!Ct(this,Bl,"f")&&!(r!=null&&r.length)&&Promise.reject(s),Ct(this,dd,"f").call(this,s),Ct(this,fd,"f").call(this,s),this._emit("end")}}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,s){return await this._createAssistantStream(n,e,r,s)}async _runToolAssistantStream(e,n,r,s,i){return await this._createToolAssistantStream(r,e,n,s,i)}async _createThreadAssistantStream(e,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i=await e.createAndRun({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(i)}async _createToolAssistantStream(e,n,r,s,i){const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a=await e.submitToolOutputs(n,r,{...s,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(a)}async _createAssistantStream(e,n,r,s){const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o=await e.create(n,{...r,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(o)}}rm=new WeakMap,sm=new WeakMap,dd=new WeakMap,hd=new WeakMap,im=new WeakMap,fd=new WeakMap,Ei=new WeakMap,pd=new WeakMap,om=new WeakMap,am=new WeakMap,Bl=new WeakMap,Nb=new WeakMap;var ge=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},hr=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},hn,Pb,Os,lm,cs,La,rc,Ta,Yg,pr,cm,um,Wd,md,gd,BN,zN,WN,HN,qN,GN,KN;class vs extends hde{constructor(){super(...arguments),hn.add(this),Pb.set(this,[]),Os.set(this,{}),lm.set(this,{}),cs.set(this,void 0),La.set(this,void 0),rc.set(this,void 0),Ta.set(this,void 0),Yg.set(this,void 0),pr.set(this,void 0),cm.set(this,void 0),um.set(this,void 0),Wd.set(this,void 0)}[(Pb=new WeakMap,Os=new WeakMap,lm=new WeakMap,cs=new WeakMap,La=new WeakMap,rc=new WeakMap,Ta=new WeakMap,Yg=new WeakMap,pr=new WeakMap,cm=new WeakMap,um=new WeakMap,Wd=new WeakMap,hn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new vs;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Ys.fromReadableStream(e,this.controller);for await(const o of s)ge(this,hn,"m",md).call(this,o);if((i=s.controller.signal)!=null&&i.aborted)throw new _r;return this._addRun(ge(this,hn,"m",gd).call(this))}toReadableStream(){return new Ys(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,s,i){const o=new vs;return o._run(()=>o._runToolAssistantStream(e,n,r,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,s,i){var u;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},l=await e.submitToolOutputs(n,r,a,{...i,signal:this.controller.signal});this._connected();for await(const d of l)ge(this,hn,"m",md).call(this,d);if((u=l.controller.signal)!=null&&u.aborted)throw new _r;return this._addRun(ge(this,hn,"m",gd).call(this))}static createThreadAssistantStream(e,n,r){const s=new vs;return s._run(()=>s._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,n,r,s){const i=new vs;return i._run(()=>i._runAssistantStream(e,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return ge(this,cm,"f")}currentRun(){return ge(this,um,"f")}currentMessageSnapshot(){return ge(this,cs,"f")}currentRunStepSnapshot(){return ge(this,Wd,"f")}async finalRunSteps(){return await this.done(),Object.values(ge(this,Os,"f"))}async finalMessages(){return await this.done(),Object.values(ge(this,lm,"f"))}async finalRun(){if(await this.done(),!ge(this,La,"f"))throw Error("Final run was not received.");return ge(this,La,"f")}async _createThreadAssistantStream(e,n,r){var a;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of o)ge(this,hn,"m",md).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new _r;return this._addRun(ge(this,hn,"m",gd).call(this))}async _createAssistantStream(e,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of a)ge(this,hn,"m",md).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new _r;return this._addRun(ge(this,hn,"m",gd).call(this))}static accumulateDelta(e,n){for(const[r,s]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=s;continue}let i=e[r];if(i==null){e[r]=s;continue}if(r==="index"||r==="type"){e[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(FN(i)&&FN(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...s);continue}}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);e[r]=i}return e}}md=function(e){if(!this.ended)switch(hr(this,cm,e,"f"),ge(this,hn,"m",WN).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ge(this,hn,"m",KN).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ge(this,hn,"m",zN).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ge(this,hn,"m",BN).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},gd=function(){if(this.ended)throw new Xe("stream has ended, this shouldn't happen");if(!ge(this,La,"f"))throw Error("Final run has not been received");return ge(this,La,"f")},BN=function(e){const[n,r]=ge(this,hn,"m",qN).call(this,e,ge(this,cs,"f"));hr(this,cs,n,"f"),ge(this,lm,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=ge(this,rc,"f")){if(ge(this,Ta,"f"))switch(ge(this,Ta,"f").type){case"text":this._emit("textDone",ge(this,Ta,"f").text,ge(this,cs,"f"));break;case"image_file":this._emit("imageFileDone",ge(this,Ta,"f").image_file,ge(this,cs,"f"));break}hr(this,rc,s.index,"f")}hr(this,Ta,n.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ge(this,rc,"f")!==void 0){const s=e.data.content[ge(this,rc,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,ge(this,cs,"f"));break;case"text":this._emit("textDone",s.text,ge(this,cs,"f"));break}}ge(this,cs,"f")&&this._emit("messageDone",e.data),hr(this,cs,void 0,"f")}},zN=function(e){const n=ge(this,hn,"m",HN).call(this,e);switch(hr(this,Wd,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==ge(this,Yg,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(ge(this,pr,"f")&&this._emit("toolCallDone",ge(this,pr,"f")),hr(this,Yg,i.index,"f"),hr(this,pr,n.step_details.tool_calls[i.index],"f"),ge(this,pr,"f")&&this._emit("toolCallCreated",ge(this,pr,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":hr(this,Wd,void 0,"f"),e.data.step_details.type=="tool_calls"&&ge(this,pr,"f")&&(this._emit("toolCallDone",ge(this,pr,"f")),hr(this,pr,void 0,"f")),this._emit("runStepDone",e.data,n);break}},WN=function(e){ge(this,Pb,"f").push(e),this._emit("event",e)},HN=function(e){switch(e.event){case"thread.run.step.created":return ge(this,Os,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ge(this,Os,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const s=vs.accumulateDelta(n,r.delta);ge(this,Os,"f")[e.data.id]=s}return ge(this,Os,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ge(this,Os,"f")[e.data.id]=e.data;break}if(ge(this,Os,"f")[e.data.id])return ge(this,Os,"f")[e.data.id];throw new Error("No snapshot available")},qN=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=ge(this,hn,"m",GN).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},GN=function(e,n){return vs.accumulateDelta(n,e)},KN=function(e){switch(hr(this,um,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":hr(this,La,e.data,"f"),ge(this,pr,"f")&&(this._emit("toolCallDone",ge(this,pr,"f")),hr(this,pr,void 0,"f"));break}};class Xg extends ht{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ir(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,dT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class dT extends As{}(function(t){t.MessagesPage=dT})(Xg||(Xg={}));class Jg extends ht{retrieve(e,n,r,s){return this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n,r={},s){return Ir(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,hT,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class hT extends As{}(function(t){t.RunStepsPage=hT})(Jg||(Jg={}));class Zg extends ht{constructor(){super(...arguments),this.steps=new Jg(this._client)}create(e,n,r){return this._client.post(`/threads/${e}/runs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},r){return Ir(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,fT,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}createAndStream(e,n,r){return vs.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await If(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return vs.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,s){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,s){const i=await this.submitToolOutputs(e,n,r,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,n,r,s){return vs.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,s)}}class fT extends As{}(function(t){t.RunsPage=fT,t.Steps=Jg,t.RunStepsPage=hT})(Zg||(Zg={}));class ey extends ht{constructor(){super(...arguments),this.runs=new Zg(this._client),this.messages=new Xg(this._client)}create(e={},n){return Ir(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return vs.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=Zg,t.RunsPage=fT,t.Messages=Xg,t.MessagesPage=dT})(ey||(ey={}));const fde=async t=>{const e=await Promise.allSettled(t),n=e.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of e)s.status==="fulfilled"&&r.push(s.value);return r};let ty=class extends ht{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return Ir(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,uw,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n,r);return await this.poll(e,s.id,r)}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:s}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await If(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:s.id},r)}async uploadAndPoll(e,n,r){const s=await this.upload(e,n,r);return await this.poll(e,s.id,r)}};class uw extends As{}(function(t){t.VectorStoreFilesPage=uw})(ty||(ty={}));class ny extends ht{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const s=await this.create(e,n);return await this.poll(e,s.id,r)}listFiles(e,n,r={},s){return Ir(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,uw,{query:r,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,n,r){const s={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:s}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await If(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),u=[...r];async function d(f){for(let p of f){const y=await a.files.create({file:p,purpose:"assistants"},s);u.push(y.id)}}const h=Array(o).fill(l).map(d);return await fde(h),await this.createAndPoll(e,{file_ids:u})}}ny||(ny={});class ry extends ht{constructor(){super(...arguments),this.files=new ty(this._client),this.fileBatches=new ny(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return Ir(e)?this.list({},e):this._client.getAPIList("/vector_stores",pT,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class pT extends As{}(function(t){t.VectorStoresPage=pT,t.Files=ty,t.VectorStoreFilesPage=uw,t.FileBatches=ny})(ry||(ry={}));class sy extends ht{constructor(){super(...arguments),this.vectorStores=new ry(this._client),this.chat=new Qg(this._client),this.assistants=new Gg(this._client),this.threads=new ey(this._client)}}(function(t){t.VectorStores=ry,t.VectorStoresPage=pT,t.Chat=Qg,t.Assistants=Gg,t.AssistantsPage=uT,t.Threads=ey})(sy||(sy={}));class iy extends ht{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}iy||(iy={});class oy extends ht{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}oy||(oy={});class ay extends ht{create(e,n){return this._client.post("/files",iu({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return Ir(e)?this.list({},e):this._client.getAPIList("/files",mT,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!s.has(o.status);)if(await If(n),o=await this.retrieve(e),Date.now()-i>r)throw new aT({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class mT extends lT{}(function(t){t.FileObjectsPage=mT})(ay||(ay={}));class ly extends ht{list(e,n={},r){return Ir(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,gT,{query:n,...r})}}class gT extends As{}(function(t){t.FineTuningJobCheckpointsPage=gT})(ly||(ly={}));class cy extends ht{constructor(){super(...arguments),this.checkpoints=new ly(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return Ir(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",yT,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return Ir(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,vT,{query:n,...r})}}class yT extends As{}class vT extends As{}(function(t){t.FineTuningJobsPage=yT,t.FineTuningJobEventsPage=vT,t.Checkpoints=ly,t.FineTuningJobCheckpointsPage=gT})(cy||(cy={}));class uy extends ht{constructor(){super(...arguments),this.jobs=new cy(this._client)}}(function(t){t.Jobs=cy,t.FineTuningJobsPage=yT,t.FineTuningJobEventsPage=vT})(uy||(uy={}));class dy extends ht{createVariation(e,n){return this._client.post("/images/variations",iu({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",iu({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}dy||(dy={});class hy extends ht{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",wT,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class wT extends lT{}(function(t){t.ModelsPage=wT})(hy||(hy={}));class fy extends ht{create(e,n){return this._client.post("/moderations",{body:e,...n})}}fy||(fy={});class py extends ht{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,iu({body:n,...r}))}}py||(py={});class my extends ht{constructor(){super(...arguments),this.parts=new py(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}(function(t){t.Parts=py})(my||(my={}));var c$;class Qt extends Zue{constructor({baseURL:e=wp("OPENAI_BASE_URL"),apiKey:n=wp("OPENAI_API_KEY"),organization:r=wp("OPENAI_ORG_ID")??null,project:s=wp("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new Xe("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&ude())throw new Xe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new iy(this),this.chat=new Ug(this),this.embeddings=new oy(this),this.files=new ay(this),this.images=new dy(this),this.audio=new Hg(this),this.moderations=new fy(this),this.models=new hy(this),this.fineTuning=new uy(this),this.beta=new sy(this),this.batches=new qg(this),this.uploads=new my(this),this._options=o,this.apiKey=n,this.organization=r,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}c$=Qt;Qt.OpenAI=c$;Qt.OpenAIError=Xe;Qt.APIError=_n;Qt.APIConnectionError=cw;Qt.APIConnectionTimeoutError=aT;Qt.APIUserAbortError=_r;Qt.NotFoundError=Z5;Qt.ConflictError=e$;Qt.RateLimitError=n$;Qt.BadRequestError=Y5;Qt.AuthenticationError=X5;Qt.InternalServerError=r$;Qt.PermissionDeniedError=J5;Qt.UnprocessableEntityError=t$;Qt.toFile=H5;Qt.fileFromPath=$5;(function(t){t.Page=lT,t.CursorPage=As,t.Completions=iy,t.Chat=Ug,t.Embeddings=oy,t.Files=ay,t.FileObjectsPage=mT,t.Images=dy,t.Audio=Hg,t.Moderations=fy,t.Models=hy,t.ModelsPage=wT,t.FineTuning=uy,t.Beta=sy,t.Batches=qg,t.BatchesPage=cT,t.Uploads=my})(Qt||(Qt={}));const pde=new Qt({baseURL:"https://models.inference.ai.azure.com",apiKey:"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",dangerouslyAllowBrowser:!0,defaultQuery:{"api-version":"2023-12-01-preview"},defaultHeaders:{"Content-Type":"application/json"}}),dw=async(t,e=[])=>{try{const n=[{role:"system",content:"You are a social media strategist. Give realistic advice and ideas for creators trying to grow. No fantasies, no fake virality. Help the user create real, sustainable success."},{role:"user",content:e.length?[{type:"text",text:t},...e.map(s=>({type:"image_url",image_url:{url:s}}))]:t}];return(await pde.chat.completions.create({model:"gpt-4o",messages:n,temperature:.7,max_tokens:1e3})).choices[0].message.content}catch(n){throw console.error("Error generating AI response:",n),n}};function mde(){const[t,e]=m.useState([{id:"welcome",role:"assistant",content:"Hi there! I'm your AI social media coach. I can help with content strategy, growth tactics, and platform-specific advice. What would you like help with today?",timestamp:Date.now()}]),[n,r]=m.useState(""),[s,i]=m.useState(!1),o=m.useRef(null);Zr();const{toast:a}=hi();m.useEffect(()=>{l()},[t]);const l=()=>{var f;(f=o.current)==null||f.scrollIntoView({behavior:"smooth"})},u=async()=>{if(!n.trim())return;const f={id:Date.now().toString(),role:"user",content:n,timestamp:Date.now()};e(p=>[...p,f]),r(""),i(!0);try{const p=`
        You are a social media strategist. Give realistic advice and ideas for creators trying to grow. 
        No fantasies, no fake virality. Help the user create real, sustainable success.
        
        The user is asking: ${n}
      `,y=await dw(p);if(y){const v={id:(Date.now()+1).toString(),role:"assistant",content:y,timestamp:Date.now()};e(_=>[..._,v])}else throw new Error("No response received from AI")}catch(p){console.error("Error sending message:",p),a({title:"Message failed",description:"There was a problem getting a response. Please try again.",variant:"destructive"})}finally{i(!1)}},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())},h=f=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(f);return c.jsxs("div",{className:"h-[calc(100vh-10rem)] flex flex-col space-y-4 max-w-5xl mx-auto animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"AI Coach"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Chat with your personal AI social media growth strategist"})]}),c.jsxs(Fe,{className:"flex-1 flex flex-col",children:[c.jsx(at,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(j5,{children:c.jsx(D5,{className:"bg-primary text-primary-foreground",children:"AI"})}),c.jsxs("div",{children:[c.jsx(lt,{children:"Social Media Coach"}),c.jsx(ft,{children:"Powered by AI"})]})]})}),c.jsx(Zc,{}),c.jsx(Ze,{className:"flex-1 overflow-auto p-4",children:c.jsxs("div",{className:"space-y-4",children:[t.map(f=>c.jsx("div",{className:`flex ${f.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${f.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[c.jsx("div",{className:"whitespace-pre-wrap",children:f.content}),c.jsx("div",{className:`text-xs mt-1 ${f.role==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:h(f.timestamp)})]})},f.id)),c.jsx("div",{ref:o})]})}),c.jsx(Zc,{}),c.jsx(Jt,{className:"p-4",children:c.jsxs("div",{className:"flex w-full items-end gap-2",children:[c.jsx(aw,{value:n,onChange:f=>r(f.target.value),onKeyDown:d,placeholder:"Ask about content strategy, growth tactics, etc...",className:"flex-1 min-h-10 resize-none",rows:1,disabled:s}),c.jsx(_e,{size:"icon",className:`shrink-0 ${s?"":"bg-social-purple hover:bg-social-darkpurple"}`,onClick:u,disabled:s||!n.trim(),children:s?c.jsx(ii,{className:"h-5 w-5 animate-spin"}):c.jsx(L9,{className:"h-5 w-5"})})]})})]})]})}function gde({planId:t,containerId:e}){const{storeSubscription:n}=bl(),{toast:r}=hi(),s=m.useRef(null),i=m.useRef(!1);return m.useEffect(()=>i.current?void 0:((()=>{try{i.current=!0;const a=document.querySelector('script[src*="paypal.com/sdk/js"]');a&&a.remove();const l=document.createElement("script");l.src=`https://www.paypal.com/sdk/js?client-id=${aee}&vault=true&intent=subscription`,l.async=!0,l.onload=()=>{if(!window.paypal||!s.current){console.error("PayPal not loaded or button container not found");return}s.current.innerHTML="",window.paypal.Buttons({style:{shape:"rect",color:"gold",layout:"vertical",label:"subscribe"},createSubscription:function(u,d){return console.log("Creating PayPal subscription for plan:",t),d.subscription.create({plan_id:t})},onApprove:async function(u,d){console.log("Subscription approved:",u);try{await n({subscriptionId:u.subscriptionID,planId:t,status:"active",currentPeriodStart:new Date,currentPeriodEnd:new Date(Date.now()+30*24*60*60*1e3),paymentMethod:"paypal",price:20,currency:"USD"}),r({title:"Subscription successful!",description:"Your subscription has been activated."}),window.location.href="/dashboard"}catch(h){console.error("Error storing subscription:",h),r({variant:"destructive",title:"Error activating subscription",description:"There was a problem activating your subscription. Please try again."})}},onError:function(u){console.error("PayPal Error:",u),r({variant:"destructive",title:"PayPal Error",description:"There was a problem with PayPal. Please try again later."})}}).render(s.current)},l.onerror=()=>{console.error("Failed to load PayPal SDK"),r({variant:"destructive",title:"Payment System Error",description:"Failed to load payment system. Please try again later."})},document.body.appendChild(l)}catch(a){console.error("Error setting up PayPal:",a)}})(),()=>{}),[t,n,r]),c.jsx("div",{id:e,ref:s,className:"paypal-button-container"})}function yde(){const{subscription:t,hasActiveSubscription:e,cancelSubscription:n}=bl(),r=Pr(),[s,i]=m.useState(!1),o=async()=>{if(confirm("Are you sure you want to cancel your subscription? You'll still have access until the end of your billing period.")){i(!0);try{await n(),r("/dashboard")}catch(l){console.error("Error cancelling subscription:",l)}finally{i(!1)}}},a=[{name:"AI Coach Access",description:"Get personalized advice from our AI Coach",icon:c.jsx(X0,{className:"h-5 w-5 text-amber-500"})},{name:"Advanced Analytics",description:"In-depth performance metrics and insights",icon:c.jsx(qj,{className:"h-5 w-5 text-blue-500"})},{name:"Complete Course Access",description:"Access to all premium courses and modules",icon:c.jsx(P9,{className:"h-5 w-5 text-green-500"})},{name:"Unlimited Daily Videos",description:"Generate up to 3 custom videos every day",icon:c.jsx(Yj,{className:"h-5 w-5 text-purple-500"})},{name:"Priority Support",description:"Get faster responses to your questions",icon:c.jsx(UC,{className:"h-5 w-5 text-red-500"})}];return c.jsxs("div",{className:"container mx-auto max-w-5xl animate-fade-in",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Aifluence Premium"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Unlock all features to accelerate your creator journey"}),e?c.jsxs(Fe,{className:"bg-gradient-to-r from-background to-muted/30 mb-8",children:[c.jsx(at,{children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx(lt,{children:"Active Subscription"}),c.jsx(ft,{children:"Your premium subscription details"})]}),c.jsx(Oa,{variant:"default",className:"bg-gradient-to-r from-green-500 to-green-600",children:"Active"})]})}),c.jsx(Ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"border rounded-lg p-4 bg-card shadow-sm",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Plan"}),c.jsxs("div",{className:"text-xl font-bold mt-1 flex items-center",children:[c.jsx(Q0,{className:"h-5 w-5 text-amber-400 mr-2"}),t!=null&&t.planId.includes("MONTH")?"Monthly":"Quarterly"," Plan"]})]}),c.jsxs("div",{className:"border rounded-lg p-4 bg-card shadow-sm",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Price"}),c.jsxs("div",{className:"text-xl font-bold mt-1 flex items-center",children:[c.jsx(K0,{className:"h-5 w-5 text-social-purple mr-2"}),"$",(t==null?void 0:t.price)||"--","/",t!=null&&t.planId.includes("MONTH")?"month":"quarter"]})]}),c.jsxs("div",{className:"border rounded-lg p-4 bg-card shadow-sm",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Current Period"}),c.jsxs("div",{className:"text-lg font-medium mt-1 flex items-center",children:[c.jsx(lh,{className:"h-5 w-5 text-blue-500 mr-2"}),(t==null?void 0:t.currentPeriodStart)&&ub(new Date(t.currentPeriodStart),"PPP")," - ",(t==null?void 0:t.currentPeriodEnd)&&ub(new Date(t.currentPeriodEnd),"PPP")]})]}),c.jsxs("div",{className:"border rounded-lg p-4 bg-card shadow-sm",children:[c.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Status"}),c.jsx("div",{className:"text-lg font-medium mt-1 flex items-center",children:t!=null&&t.cancelAtPeriodEnd?c.jsxs(c.Fragment,{children:[c.jsx(S9,{className:"h-5 w-5 text-orange-500 mr-2"})," Cancels at period end"]}):c.jsxs(c.Fragment,{children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500 mr-2"})," Active"]})})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Premium Features Included"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map((l,u)=>c.jsxs("div",{className:"flex items-start p-3 bg-background rounded-lg border",children:[c.jsx("div",{className:"mr-3 mt-0.5",children:l.icon}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:l.name}),c.jsx("p",{className:"text-sm text-gray-500",children:l.description})]})]},u))})]})]})}),c.jsxs(Jt,{className:"flex justify-between",children:[c.jsx(_e,{variant:"outline",onClick:()=>r("/dashboard"),children:"Back to Dashboard"}),!(t!=null&&t.cancelAtPeriodEnd)&&c.jsx(_e,{variant:"destructive",disabled:s,onClick:o,children:s?"Processing...":"Cancel Subscription"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-12",children:[c.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-8",children:[c.jsxs(Oa,{variant:"outline",className:"mb-4 px-3 py-1",children:[c.jsx(Q0,{className:"h-4 w-4 text-amber-400 mr-2"})," Recommended"]}),c.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Upgrade Your Creator Journey"}),c.jsx("p",{className:"text-gray-500",children:"Join thousands of creators who are accelerating their growth with Aifluence Premium."})]}),c.jsxs(Fe,{className:"w-full max-w-md mx-auto bg-gradient-to-b from-background to-muted/30 border-2 border-social-purple/20 shadow-lg",children:[c.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:c.jsx(Oa,{className:"bg-gradient-to-r from-social-purple to-social-darkpurple px-3 py-1 text-white",children:"Most Popular"})}),c.jsxs(at,{className:"pb-0",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(lt,{children:"Monthly Subscription"}),c.jsx(Oa,{variant:"secondary",children:"Save 20%"})]}),c.jsx(ft,{children:"Billed monthly, cancel anytime"}),c.jsxs("div",{className:"mt-4 flex items-end",children:[c.jsxs("span",{className:"text-4xl font-bold",children:["$",oA.MONTHLY.price]}),c.jsx("span",{className:"text-gray-500 ml-1",children:"/month"})]})]}),c.jsx(Ze,{className:"pt-6",children:c.jsx("ul",{className:"space-y-3",children:a.map((l,u)=>c.jsxs("li",{className:"flex",children:[c.jsx(Aa,{className:"h-5 w-5 text-green-500 mr-2 shrink-0"}),c.jsx("span",{children:l.name})]},u))})}),c.jsxs(Jt,{className:"flex flex-col",children:[c.jsx("div",{className:"mb-4 w-full",children:c.jsx(gde,{planId:oA.MONTHLY.id,containerId:"paypal-button-container-P-5RB600433N7039434NABKAOI"})}),c.jsx("p",{className:"text-xs text-center text-gray-500",children:"Secure payment processed by PayPal. Cancel anytime."})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[c.jsx(Fe,{className:"bg-gradient-to-b from-background to-muted/20 shadow-sm",children:c.jsx(Ze,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx(lh,{className:"h-10 w-10 text-social-purple mb-4"}),c.jsx("h3",{className:"font-bold mb-2",children:"Cancel Anytime"}),c.jsx("p",{className:"text-sm text-gray-500",children:"No long-term contracts or commitments required."})]})})}),c.jsx(Fe,{className:"bg-gradient-to-b from-background to-muted/20 shadow-sm",children:c.jsx(Ze,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx(K0,{className:"h-10 w-10 text-social-purple mb-4"}),c.jsx("h3",{className:"font-bold mb-2",children:"Secure Payments"}),c.jsx("p",{className:"text-sm text-gray-500",children:"All payments are processed securely through PayPal."})]})})}),c.jsx(Fe,{className:"bg-gradient-to-b from-background to-muted/20 shadow-sm",children:c.jsx(Ze,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx(UC,{className:"h-10 w-10 text-social-purple mb-4"}),c.jsx("h3",{className:"font-bold mb-2",children:"24/7 Support"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Priority support for all your questions and needs."})]})})})]}),c.jsxs("div",{className:"text-center bg-gradient-to-r from-background to-muted/20 p-8 rounded-lg border shadow-sm",children:[c.jsx("h3",{className:"text-lg font-bold mb-3",children:"100% Satisfaction Guarantee"}),c.jsx("p",{className:"text-gray-600 mb-4 max-w-2xl mx-auto",children:"If you're not completely satisfied with your subscription, contact us within 14 days for a full refund. No questions asked."}),c.jsx(Zj,{className:"h-12 w-12 mx-auto text-social-purple"})]})]})]})}function QN(t,[e,n]){return Math.min(n,Math.max(e,t))}var vde=[" ","Enter","ArrowUp","ArrowDown"],wde=[" ","Enter"],Af="Select",[hw,fw,xde]=Ly(Af),[Tu,Nhe]=fi(Af,[xde,la]),pw=la(),[_de,ga]=Tu(Af),[bde,Ede]=Tu(Af),u$=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:y}=t,v=pw(e),[_,w]=m.useState(null),[g,x]=m.useState(null),[b,E]=m.useState(!1),S=Hv(u),[k=!1,A]=si({prop:r,defaultProp:s,onChange:i}),[j,M]=si({prop:o,defaultProp:a,onChange:l}),L=m.useRef(null),P=_?y||!!_.closest("form"):!0,[B,V]=m.useState(new Set),q=Array.from(B).map(G=>G.props.value).join(";");return c.jsx(Wy,{...v,children:c.jsxs(_de,{required:p,scope:e,trigger:_,onTriggerChange:w,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:b,onValueNodeHasChildrenChange:E,contentId:qr(),value:j,onValueChange:M,open:k,onOpenChange:A,dir:S,triggerPointerDownPosRef:L,disabled:f,children:[c.jsx(hw.Provider,{scope:e,children:c.jsx(bde,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(G=>{V(ee=>new Set(ee).add(G))},[]),onNativeOptionRemove:m.useCallback(G=>{V(ee=>{const N=new Set(ee);return N.delete(G),N})},[]),children:n})}),P?c.jsxs(M$,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:j,onChange:G=>M(G.target.value),disabled:f,form:y,children:[j===void 0?c.jsx("option",{value:""}):null,Array.from(B)]},q):null]})})};u$.displayName=Af;var d$="SelectTrigger",h$=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=pw(n),o=ga(d$,n),a=o.disabled||r,l=Je(e,o.onTriggerChange),u=fw(n),d=m.useRef("touch"),[h,f,p]=O$(v=>{const _=u().filter(x=>!x.disabled),w=_.find(x=>x.value===o.value),g=L$(_,v,w);g!==void 0&&o.onValueChange(g.value)}),y=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(Zh,{asChild:!0,...i,children:c.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D$(o.value)?"":void 0,...s,ref:l,onClick:Z(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:Z(s.onPointerDown,v=>{d.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:Z(s.onKeyDown,v=>{const _=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(_&&v.key===" ")&&vde.includes(v.key)&&(y(),v.preventDefault())})})})});h$.displayName=d$;var f$="SelectValue",p$=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ga(f$,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,h=Je(e,l.onValueNodeChange);return on(()=>{u(d)},[u,d]),c.jsx(xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:D$(l.value)?c.jsx(c.Fragment,{children:o}):i})});p$.displayName=f$;var Sde="SelectIcon",m$=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});m$.displayName=Sde;var Tde="SelectPortal",g$=t=>c.jsx(cu,{asChild:!0,...t});g$.displayName=Tde;var dl="SelectContent",y$=m.forwardRef((t,e)=>{const n=ga(dl,t.__scopeSelect),[r,s]=m.useState();if(on(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?pl.createPortal(c.jsx(v$,{scope:t.__scopeSelect,children:c.jsx(hw.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(w$,{...t,ref:e})});y$.displayName=dl;var os=10,[v$,ya]=Tu(dl),Cde="SelectContentImpl",w$=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:_,...w}=t,g=ga(dl,n),[x,b]=m.useState(null),[E,S]=m.useState(null),k=Je(e,ce=>b(ce)),[A,j]=m.useState(null),[M,L]=m.useState(null),P=fw(n),[B,V]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(x)return zv(x)},[x]),Uv();const G=m.useCallback(ce=>{const[Te,...Oe]=P().map(qe=>qe.ref.current),[Pe]=Oe.slice(-1),Be=document.activeElement;for(const qe of ce)if(qe===Be||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===Te&&E&&(E.scrollTop=0),qe===Pe&&E&&(E.scrollTop=E.scrollHeight),qe==null||qe.focus(),document.activeElement!==Be))return},[P,E]),ee=m.useCallback(()=>G([A,x]),[G,A,x]);m.useEffect(()=>{B&&ee()},[B,ee]);const{onOpenChange:N,triggerPointerDownPosRef:D}=g;m.useEffect(()=>{if(x){let ce={x:0,y:0};const Te=Pe=>{var Be,qe;ce={x:Math.abs(Math.round(Pe.pageX)-(((Be=D.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((qe=D.current)==null?void 0:qe.y)??0))}},Oe=Pe=>{ce.x<=10&&ce.y<=10?Pe.preventDefault():x.contains(Pe.target)||N(!1),document.removeEventListener("pointermove",Te),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[x,N,D]),m.useEffect(()=>{const ce=()=>N(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[N]);const[T,K]=O$(ce=>{const Te=P().filter(Be=>!Be.disabled),Oe=Te.find(Be=>Be.ref.current===document.activeElement),Pe=L$(Te,ce,Oe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),se=m.useCallback((ce,Te,Oe)=>{const Pe=!q.current&&!Oe;(g.value!==void 0&&g.value===Te||Pe)&&(j(ce),Pe&&(q.current=!0))},[g.value]),C=m.useCallback(()=>x==null?void 0:x.focus(),[x]),Ee=m.useCallback((ce,Te,Oe)=>{const Pe=!q.current&&!Oe;(g.value!==void 0&&g.value===Te||Pe)&&L(ce)},[g.value]),nt=r==="popper"?Rb:x$,fe=nt===Rb?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:_}:{};return c.jsx(v$,{scope:n,content:x,viewport:E,onViewportChange:S,itemRefCallback:se,selectedItem:A,onItemLeave:C,itemTextRefCallback:Ee,focusSelectedItem:ee,selectedItemText:M,position:r,isPositioned:B,searchRef:T,children:c.jsx(_f,{as:Gn,allowPinchZoom:!0,children:c.jsx(xf,{asChild:!0,trapped:g.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Z(s,ce=>{var Te;(Te=g.trigger)==null||Te.focus({preventScroll:!0}),ce.preventDefault()}),children:c.jsx(ml,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(nt,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:ce=>ce.preventDefault(),...w,...fe,onPlaced:()=>V(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Z(w.onKeyDown,ce=>{const Te=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Te&&ce.key.length===1&&K(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Pe=P().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Be=ce.target,qe=Pe.indexOf(Be);Pe=Pe.slice(qe+1)}setTimeout(()=>G(Pe)),ce.preventDefault()}})})})})})})});w$.displayName=Cde;var kde="SelectItemAlignedPosition",x$=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ga(dl,n),o=ya(dl,n),[a,l]=m.useState(null),[u,d]=m.useState(null),h=Je(e,k=>d(k)),f=fw(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:w,focusSelectedItem:g}=o,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&_&&w){const k=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(i.dir!=="rtl"){const Be=M.left-A.left,qe=j.left-Be,Ut=k.left-qe,tn=k.width+Ut,Rr=Math.max(tn,A.width),bn=window.innerWidth-os,es=QN(qe,[os,Math.max(os,bn-Rr)]);a.style.minWidth=tn+"px",a.style.left=es+"px"}else{const Be=A.right-M.right,qe=window.innerWidth-j.right-Be,Ut=window.innerWidth-k.right-qe,tn=k.width+Ut,Rr=Math.max(tn,A.width),bn=window.innerWidth-os,es=QN(qe,[os,Math.max(os,bn-Rr)]);a.style.minWidth=tn+"px",a.style.right=es+"px"}const L=f(),P=window.innerHeight-os*2,B=v.scrollHeight,V=window.getComputedStyle(u),q=parseInt(V.borderTopWidth,10),G=parseInt(V.paddingTop,10),ee=parseInt(V.borderBottomWidth,10),N=parseInt(V.paddingBottom,10),D=q+G+B+N+ee,T=Math.min(_.offsetHeight*5,D),K=window.getComputedStyle(v),se=parseInt(K.paddingTop,10),C=parseInt(K.paddingBottom,10),Ee=k.top+k.height/2-os,nt=P-Ee,fe=_.offsetHeight/2,ce=_.offsetTop+fe,Te=q+G+ce,Oe=D-Te;if(Te<=Ee){const Be=L.length>0&&_===L[L.length-1].ref.current;a.style.bottom="0px";const qe=u.clientHeight-v.offsetTop-v.offsetHeight,Ut=Math.max(nt,fe+(Be?C:0)+qe+ee),tn=Te+Ut;a.style.height=tn+"px"}else{const Be=L.length>0&&_===L[0].ref.current;a.style.top="0px";const Ut=Math.max(Ee,q+v.offsetTop+(Be?se:0)+fe)+Oe;a.style.height=Ut+"px",v.scrollTop=Te-Ee+v.offsetTop}a.style.margin=`${os}px 0`,a.style.minHeight=T+"px",a.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,u,v,_,w,i.dir,r]);on(()=>x(),[x]);const[b,E]=m.useState();on(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const S=m.useCallback(k=>{k&&y.current===!0&&(x(),g==null||g(),y.current=!1)},[x,g]);return c.jsx(Ade,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:c.jsx(xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x$.displayName=kde;var Ide="SelectPopperPosition",Rb=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=os,...i}=t,o=pw(n);return c.jsx(Hy,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rb.displayName=Ide;var[Ade,xT]=Tu(dl,{}),jb="SelectViewport",_$=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ya(jb,n),o=xT(jb,n),a=Je(e,i.onViewportChange),l=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(hw.Slot,{scope:n,children:c.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Z(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const y=window.innerHeight-os*2,v=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),w=Math.max(v,_);if(w<y){const g=w+p,x=Math.min(y,g),b=g-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});_$.displayName=jb;var b$="SelectGroup",[Nde,Pde]=Tu(b$),Rde=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qr();return c.jsx(Nde,{scope:n,id:s,children:c.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Rde.displayName=b$;var E$="SelectLabel",S$=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Pde(E$,n);return c.jsx(xe.div,{id:s.id,...r,ref:e})});S$.displayName=E$;var gy="SelectItem",[jde,T$]=Tu(gy),C$=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ga(gy,n),l=ya(gy,n),u=a.value===r,[d,h]=m.useState(i??""),[f,p]=m.useState(!1),y=Je(e,g=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,g,r,s)}),v=qr(),_=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(jde,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(g=>{h(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(hw.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:Z(o.onFocus,()=>p(!0)),onBlur:Z(o.onBlur,()=>p(!1)),onClick:Z(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:Z(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:Z(o.onPointerDown,g=>{_.current=g.pointerType}),onPointerMove:Z(o.onPointerMove,g=>{var x;_.current=g.pointerType,s?(x=l.onItemLeave)==null||x.call(l):_.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Z(o.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:Z(o.onKeyDown,g=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&g.key===" "||(wde.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});C$.displayName=gy;var yd="SelectItemText",k$=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ga(yd,n),a=ya(yd,n),l=T$(yd,n),u=Ede(yd,n),[d,h]=m.useState(null),f=Je(e,w=>h(w),l.onItemTextChange,w=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,w,l.value,l.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=u;return on(()=>(v(y),()=>_(y)),[v,_,y]),c.jsxs(c.Fragment,{children:[c.jsx(xe.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pl.createPortal(i.children,o.valueNode):null]})});k$.displayName=yd;var I$="SelectItemIndicator",A$=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return T$(I$,n).isSelected?c.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});A$.displayName=I$;var Db="SelectScrollUpButton",N$=m.forwardRef((t,e)=>{const n=ya(Db,t.__scopeSelect),r=xT(Db,t.__scopeSelect),[s,i]=m.useState(!1),o=Je(e,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(R$,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});N$.displayName=Db;var Mb="SelectScrollDownButton",P$=m.forwardRef((t,e)=>{const n=ya(Mb,t.__scopeSelect),r=xT(Mb,t.__scopeSelect),[s,i]=m.useState(!1),o=Je(e,r.onScrollButtonChange);return on(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(R$,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});P$.displayName=Mb;var R$=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ya("SelectScrollButton",n),o=m.useRef(null),a=fw(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),on(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Z(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Z(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Z(s.onPointerLeave,()=>{l()})})}),Dde="SelectSeparator",j$=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});j$.displayName=Dde;var Ob="SelectArrow",Mde=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=pw(n),i=ga(Ob,n),o=ya(Ob,n);return i.open&&o.position==="popper"?c.jsx(qy,{...s,...r,ref:e}):null});Mde.displayName=Ob;function D$(t){return t===""||t===void 0}var M$=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Je(e,s),o=sV(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),c.jsx(Xh,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});M$.displayName="BubbleSelect";function O$(t){const e=xn(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function L$(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Ode(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Ode(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Lde=u$,F$=h$,Fde=p$,Vde=m$,$de=g$,V$=y$,Ude=_$,$$=S$,U$=C$,Bde=k$,zde=A$,B$=N$,z$=P$,W$=j$;const Lb=Lde,Fb=Fde,yy=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(F$,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(Vde,{asChild:!0,children:c.jsx($y,{className:"h-4 w-4 opacity-50"})})]}));yy.displayName=F$.displayName;const H$=m.forwardRef(({className:t,...e},n)=>c.jsx(B$,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Kj,{className:"h-4 w-4"})}));H$.displayName=B$.displayName;const q$=m.forwardRef(({className:t,...e},n)=>c.jsx(z$,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx($y,{className:"h-4 w-4"})}));q$.displayName=z$.displayName;const vy=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx($de,{children:c.jsxs(V$,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(H$,{}),c.jsx(Ude,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(q$,{})]})}));vy.displayName=V$.displayName;const Wde=m.forwardRef(({className:t,...e},n)=>c.jsx($$,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Wde.displayName=$$.displayName;const sc=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(U$,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(zde,{children:c.jsx(dn,{className:"h-4 w-4"})})}),c.jsx(Bde,{children:e})]}));sc.displayName=U$.displayName;const Hde=m.forwardRef(({className:t,...e},n)=>c.jsx(W$,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",t),...e}));Hde.displayName=W$.displayName;const qde="https://discord.com/api/webhooks/1362097669597691914/TnUxouf9ws1JQ4wpRBtzZirxiXtJhbOg9TD9NOhlYUOVno4jr8UwVrl1698VtrlN7PLV",Qx=3,Ml=3,Gde=[{value:"motivation",label:"Motivation"},{value:"tutorial",label:"Tutorial (Coming Soon)"},{value:"educational",label:"Educational (Coming Soon)"}];function Kde(){const{currentUser:t}=Zr(),{hasActiveSubscription:e,checkFeatureAccess:n}=bl(),{toast:r}=hi(),[s,i]=m.useState("motivation"),[o,a]=m.useState("1"),[l,u]=m.useState(!1),[d,h]=m.useState(0),[f,p]=m.useState(0),[y,v]=m.useState(!1);m.useEffect(()=>{(async()=>{if(t){const{hasAccess:x}=await n("unlimited-videos");v(x);const b=localStorage.getItem(`totalRequests_${t.uid}`);if(p(b?parseInt(b):0),x||(b?parseInt(b):0)<Ml){const E=localStorage.getItem(`lastReset_${t.uid}`),S=new Date().toDateString();if(E!==S)localStorage.setItem(`lastReset_${t.uid}`,S),localStorage.setItem(`remainingRequests_${t.uid}`,Qx.toString()),h(Qx);else{const k=localStorage.getItem(`remainingRequests_${t.uid}`);h(k?parseInt(k):Qx)}}else h(0)}})()},[t,n,e]);const _=async()=>{if(!t){r({title:"Authentication required",description:"Please log in to request videos.",variant:"destructive"});return}if(!y&&f>=Ml){r({title:"Free limit reached",description:"You've used all your free video requests. Upgrade to premium for unlimited daily videos.",variant:"destructive"});return}if(d<=0){r({title:"Daily limit reached",description:"You have reached your daily limit of video requests.",variant:"destructive"});return}if(s!=="motivation"){r({title:"Coming Soon",description:"This video type is not available yet. Please select Motivation.",variant:"destructive"});return}u(!0);try{if((await fetch(qde,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:null,embeds:[{title:"New Video Request",color:5814783,fields:[{name:"User Email",value:t.email||"No email available"},{name:"User Type",value:y?"Premium":"Free"},{name:"Video Type",value:s},{name:"Video Count",value:o}],timestamp:new Date().toISOString()}]})})).ok){const x=d-1;if(h(x),localStorage.setItem(`remainingRequests_${t.uid}`,x.toString()),!y){const b=f+1;p(b),localStorage.setItem(`totalRequests_${t.uid}`,b.toString())}r({title:"Video request submitted!",description:"We'll send your custom videos to your email when they're ready."})}else throw new Error("Failed to send request")}catch(g){console.error("Error submitting video request:",g),r({title:"Error",description:"There was a problem submitting your request. Please try again later.",variant:"destructive"})}finally{u(!1)}},w=!y&&f>=Ml;return c.jsx("div",{className:"container max-w-5xl px-4 py-8",children:c.jsxs("div",{className:"flex flex-col space-y-6",children:[c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Free Custom Videos"}),c.jsx("p",{className:"text-muted-foreground",children:"Request free, custom-made videos tailored for your social media growth"})]}),w&&c.jsxs(ra,{variant:"destructive",className:"bg-amber-50 border-amber-200",children:[c.jsx(Qj,{className:"h-4 w-4 text-amber-600"}),c.jsxs(sa,{className:"flex justify-between items-center w-full",children:[c.jsx("span",{children:"You've used all your free video requests. Upgrade to premium for unlimited daily videos."}),c.jsx(_e,{size:"sm",className:"bg-social-purple hover:bg-social-darkpurple",asChild:!0,children:c.jsx(jt,{to:"/subscription",children:"Upgrade Now"})})]})]}),c.jsxs(Fe,{className:"border-2 shadow-sm",children:[c.jsxs(at,{className:"pb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Yj,{className:"h-5 w-5 text-social-purple"}),c.jsx(lt,{children:"Custom Video Generator"})]}),c.jsx(ft,{children:y?"Generate up to 3 custom videos per day with your premium subscription":`Create up to ${Ml} free videos total, or upgrade to premium for daily videos`})]}),c.jsx(Ze,{children:c.jsxs(US,{defaultValue:"generator",className:"w-full",children:[c.jsxs(tw,{className:"grid w-full grid-cols-2",children:[c.jsx(ji,{value:"generator",children:"Video Generator"}),c.jsx(ji,{value:"history",children:"Request History"})]}),c.jsxs(Di,{value:"generator",className:"pt-6 space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Video Type"}),c.jsxs(Lb,{value:s,onValueChange:i,disabled:w,children:[c.jsx(yy,{className:"w-full",children:c.jsx(Fb,{placeholder:"Select video type"})}),c.jsx(vy,{children:Gde.map(g=>c.jsx(sc,{value:g.value,disabled:g.value!=="motivation",children:g.label},g.value))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Number of Videos"}),c.jsxs(Lb,{value:o,onValueChange:a,disabled:w,children:[c.jsx(yy,{className:"w-full",children:c.jsx(Fb,{placeholder:"Select how many videos"})}),c.jsxs(vy,{children:[c.jsx(sc,{value:"1",children:"1 Video"}),c.jsx(sc,{value:"2",children:"2 Videos"}),c.jsx(sc,{value:"3",children:"3 Videos"})]})]})]})]}),c.jsx("div",{className:"rounded-lg bg-muted/50 p-4 flex items-center justify-between",children:w?c.jsx("div",{className:"w-full text-center",children:c.jsx(_e,{className:"bg-social-purple hover:bg-social-darkpurple",asChild:!0,children:c.jsx(jt,{to:"/subscription",children:"Upgrade to Premium"})})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ch,{className:"h-5 w-5 text-muted-foreground"}),c.jsxs("span",{className:"text-sm",children:[d," requests remaining today"]})]}),c.jsxs(_e,{onClick:_,disabled:l||d<=0||s!=="motivation",className:"bg-social-purple hover:bg-social-darkpurple",children:[l?"Submitting...":"Generate Videos",c.jsx(Mr,{className:"ml-2 h-4 w-4"})]})]})}),!y&&c.jsx("div",{className:"text-sm text-muted-foreground text-center",children:c.jsxs("p",{children:["Free tier: ",Ml-f," videos remaining of your ",Ml," total free videos"]})})]}),c.jsx(Di,{value:"history",className:"pt-6",children:c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center space-y-4",children:[c.jsx(Vo,{className:"h-16 w-16 text-muted-foreground/50"}),c.jsx("h3",{className:"text-lg font-medium",children:"Your Previous Requests"}),c.jsx("p",{className:"text-muted-foreground max-w-md",children:"Your video request history will appear here. We'll notify you via email when your videos are ready."})]})})]})}),c.jsx(Jt,{className:"bg-muted/30 px-6 py-4 text-sm text-muted-foreground",children:c.jsx("p",{children:y?"Your premium subscription includes 3 custom videos per day.":"Need more custom videos? Upgrade to premium for unlimited daily video generation."})})]}),c.jsxs(Fe,{className:"border shadow-sm",children:[c.jsx(at,{children:c.jsx(lt,{children:"How It Works"})}),c.jsx(Ze,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center text-center p-4 space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-social-purple/10 flex items-center justify-center mb-2",children:c.jsx("span",{className:"font-bold text-social-purple",children:"1"})}),c.jsx("h3",{className:"font-medium",children:"Select Video Type"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose from our available video types"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-4 space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-social-purple/10 flex items-center justify-center mb-2",children:c.jsx("span",{className:"font-bold text-social-purple",children:"2"})}),c.jsx("h3",{className:"font-medium",children:"Set Quantity"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select how many videos you need (1-3)"})]}),c.jsxs("div",{className:"flex flex-col items-center text-center p-4 space-y-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-social-purple/10 flex items-center justify-center mb-2",children:c.jsx("span",{className:"font-bold text-social-purple",children:"3"})}),c.jsx("h3",{className:"font-medium",children:"Receive Videos"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Get your custom videos delivered to your email"})]})]})})]})]})})}const Qde=[{id:"english",name:"English"},{id:"spanish",name:"Spanish"},{id:"french",name:"French"},{id:"german",name:"German"},{id:"italian",name:"Italian"},{id:"portuguese",name:"Portuguese"},{id:"japanese",name:"Japanese"},{id:"korean",name:"Korean"},{id:"chinese",name:"Chinese"}];function _T({selectedLanguage:t,onSelect:e}){return c.jsxs(Lb,{value:t,onValueChange:e,children:[c.jsx(yy,{className:"w-full",children:c.jsx(Fb,{placeholder:"Select a language"})}),c.jsx(vy,{children:Qde.map(n=>c.jsx(sc,{value:n.id,children:n.name},n.id))})]})}function Yde(){const[t,e]=m.useState("youtube"),[n,r]=m.useState("english"),[s,i]=m.useState(""),[o,a]=m.useState(!1),[l,u]=m.useState(""),{toast:d}=hi(),h=async()=>{if(!s.trim()){d({title:"Channel description required",description:"Please describe your channel to get relevant video ideas.",variant:"destructive"});return}try{a(!0),u("");const f=`
        I'm a content creator on ${t} and need ideas for new videos. Here's info about my channel:
        
        ${s}
        
        Based on this information, please generate:
        
        1. 3-5 realistic video ideas that could perform well
        2. For each idea, provide:
           - An engaging title
           - Brief structure outline (hook, main points, CTA)
           - Thumbnail suggestion
           - Best upload time (if relevant)
           - Recommended hashtags (5-7)
        
        My audience speaks ${n}. Please provide actionable, realistic ideas - no clickbait fantasies.
      `,p=await dw(f);if(p)u(p);else throw new Error("No response received from AI")}catch(f){console.error("Error generating video ideas:",f),d({title:"Generation failed",description:"There was a problem generating your video ideas. Please try again.",variant:"destructive"})}finally{a(!1)}};return c.jsx(wo,{featureName:"video-planner",children:c.jsx(is,{children:c.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Video Planner"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Get AI-generated video ideas tailored to your channel and audience"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs(Fe,{children:[c.jsxs(at,{children:[c.jsx(lt,{children:"Channel Information"}),c.jsx(ft,{children:"Tell us about your channel to get personalized video ideas"})]}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"platform",children:"Platform"}),c.jsx(nw,{selectedPlatform:t,onSelect:e})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"language",children:"Content Language"}),c.jsx(_T,{selectedLanguage:n,onSelect:r})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"channelDescription",children:"Describe Your Channel"}),c.jsx(aw,{id:"channelDescription",placeholder:"Describe your content niche, target audience, previous successful videos, current goals...",value:s,onChange:f=>i(f.target.value),rows:6}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"The more details you provide, the more relevant your video ideas will be."})]}),c.jsx(Zc,{}),c.jsx(_e,{onClick:h,disabled:o||!s.trim(),className:"w-full bg-social-purple hover:bg-social-darkpurple",children:o?c.jsxs(c.Fragment,{children:[c.jsx(ii,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Ideas..."]}):"Generate Video Ideas"})]})]})}),c.jsx("div",{children:c.jsxs(Fe,{className:"h-full",children:[c.jsxs(at,{children:[c.jsx(lt,{children:"Video Ideas"}),c.jsx(ft,{children:l?"AI-generated video concepts for your channel":"Your video ideas will appear here"})]}),c.jsx(Ze,{children:o?c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-12",children:[c.jsx(ii,{className:"h-8 w-8 animate-spin text-social-purple"}),c.jsx("p",{className:"text-muted-foreground",children:"Generating your video ideas..."})]}):l?c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap",children:l})}):c.jsx("div",{className:"flex flex-col items-center justify-center text-center space-y-4 py-12 text-muted-foreground",children:c.jsx("p",{children:'Describe your channel and click "Generate Video Ideas" to get started'})})})]})})]})]})})})}const Xde=t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{if(typeof r.result=="string"){const s=r.result.split(",")[1];e(s)}else n(new Error("Failed to convert file to base64"))},r.onerror=s=>{n(s)}}),Jde=async(t,e=1200,n=1200,r=.8)=>new Promise((s,i)=>{const o=new Image;o.onload=()=>{URL.revokeObjectURL(o.src);let a=o.width,l=o.height;a>l?a>e&&(l=Math.round(l*e/a),a=e):l>n&&(a=Math.round(a*n/l),l=n);const u=document.createElement("canvas");u.width=a,u.height=l;const d=u.getContext("2d");if(!d){i(new Error("Could not get canvas context"));return}d.drawImage(o,0,0,a,l),u.toBlob(h=>{h?s(h):i(new Error("Canvas toBlob failed"))},t.type,r)},o.onerror=()=>{URL.revokeObjectURL(o.src),i(new Error("Failed to load image"))},o.src=URL.createObjectURL(t)});function G$({onImagesUploaded:t,maxImages:e=5}){const[n,r]=m.useState([]),[s,i]=m.useState(!1),{toast:o}=hi(),a=async u=>{const d=u.target.files;if(!(!d||d.length===0)){if(n.length+d.length>e){o({title:"Too many images",description:`You can upload a maximum of ${e} images.`,variant:"destructive"});return}i(!0);try{const h=[];for(let p=0;p<d.length;p++){const y=d[p];if(y.size>5*1024*1024){o({title:"File too large",description:`${y.name} exceeds the 5MB limit.`,variant:"destructive"});continue}if(!y.type.startsWith("image/")){o({title:"Invalid file type",description:"Please upload only image files.",variant:"destructive"});continue}try{const v=await Jde(y),_=new File([v],y.name,{type:y.type}),w=await Xde(_),g=URL.createObjectURL(_);h.push({preview:g,base64:w})}catch(v){console.error("Error processing image:",v),o({title:"Processing error",description:`Failed to process ${y.name}`,variant:"destructive"})}}const f=[...n,...h];r(f),t(f.map(p=>p.base64))}catch(h){console.error("Error handling files:",h),o({title:"Upload failed",description:"There was a problem processing your images.",variant:"destructive"})}finally{i(!1),u.target&&(u.target.value="")}}},l=u=>{const d=[...n];URL.revokeObjectURL(d[u].preview),d.splice(u,1),r(d),t(d.map(h=>h.base64))};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-muted rounded-md p-6 relative",children:[c.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:a,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:s||n.length>=e}),c.jsxs("div",{className:"flex flex-col items-center space-y-2 pointer-events-none",children:[c.jsx(e2,{className:"h-10 w-10 text-muted-foreground mb-2"}),c.jsx("p",{className:"text-sm font-medium",children:s?"Uploading...":"Drop images here or click to upload"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Upload up to ",e," screenshots (max 5MB each)"]})]})]}),n.length>0&&c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium mb-2",children:["Uploaded images (",n.length,"/",e,")"]}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:n.map((u,d)=>c.jsx(Fe,{className:"relative group overflow-hidden",children:c.jsxs("div",{className:"aspect-video relative",children:[c.jsx("img",{src:u.preview,alt:`Uploaded image ${d+1}`,className:"w-full h-full object-cover"}),c.jsx(_e,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-6 w-6 opacity-80 hover:opacity-100",onClick:()=>l(d),children:c.jsx(V1,{className:"h-3 w-3"})})]})},d))})]}),n.length>0&&c.jsx(_e,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{n.forEach(u=>URL.revokeObjectURL(u.preview)),r([]),t([])},children:"Clear all images"})]})}function Zde(){const[t,e]=m.useState("tiktok"),[n,r]=m.useState("english"),[s,i]=m.useState(""),[o,a]=m.useState([]),[l,u]=m.useState(!1),[d,h]=m.useState(""),{toast:f}=hi(),p=v=>{a(v)},y=async()=>{if(o.length===0){f({title:"No images uploaded",description:"Please upload at least one screenshot to analyze.",variant:"destructive"});return}try{u(!0),h("");const v=`
        I have uploaded ${o.length} screenshot(s) of my ${t} analytics data. 
        ${s?`Additional context: ${s}`:""}
        Please analyze these images and provide:
        1. A summary of what the data shows
        2. Key insights about my performance
        3. Actionable recommendations to improve my metrics
        4. Specific content strategy advice for ${t}
        
        My preferred language is ${n}.
      `,_=await dw(v,o);if(_)h(_);else throw new Error("No response received from AI")}catch(v){console.error("Error analyzing stats:",v),f({title:"Analysis failed",description:"There was a problem analyzing your images. Please try again.",variant:"destructive"})}finally{u(!1)}};return c.jsx(wo,{featureName:"advanced-analytics",children:c.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto animate-fade-in",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analyze Stats"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Upload screenshots of your social media analytics for AI-powered insights and recommendations"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[c.jsx("div",{className:"space-y-6",children:c.jsxs(Fe,{children:[c.jsxs(at,{children:[c.jsx(lt,{children:"Upload Analytics Screenshots"}),c.jsx(ft,{children:"Upload screenshots from your analytics dashboard for the AI to analyze"})]}),c.jsxs(Ze,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"platform",children:"Platform"}),c.jsx(nw,{selectedPlatform:t,onSelect:e})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"language",children:"Language"}),c.jsx(_T,{selectedLanguage:n,onSelect:r})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ho,{htmlFor:"description",children:"Description (Optional)"}),c.jsx(aw,{id:"description",placeholder:"Describe what you'd like to know or add context about your content strategy...",value:s,onChange:v=>i(v.target.value),rows:4})]}),c.jsx(G$,{onImagesUploaded:p}),c.jsx(_e,{onClick:y,disabled:l||o.length===0,className:"w-full bg-social-purple hover:bg-social-darkpurple",children:l?c.jsxs(c.Fragment,{children:[c.jsx(ii,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):"Analyze with AI"})]})]})}),c.jsx("div",{children:c.jsxs(Fe,{className:"h-full",children:[c.jsxs(at,{children:[c.jsx(lt,{children:"Analysis Results"}),c.jsx(ft,{children:d?"AI-powered insights based on your analytics":"Your analysis results will appear here"})]}),c.jsx(Ze,{children:l?c.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 py-12",children:[c.jsx(ii,{className:"h-8 w-8 animate-spin text-social-purple"}),c.jsx("p",{className:"text-muted-foreground",children:"Analyzing your stats..."})]}):d?c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap",children:d})}):c.jsx("div",{className:"flex flex-col items-center justify-center text-center space-y-4 py-12 text-muted-foreground",children:c.jsx("p",{children:'Upload screenshots and click "Analyze with AI" to get insights'})})})]})})]})]})})}function ehe(){const[t,e]=m.useState(null),[n,r]=m.useState([]),[s,i]=m.useState(null),[o,a]=m.useState(!1),[l,u]=m.useState(null),[d,h]=m.useState("english");Pr(),Zr();const f=_=>{e(_)},p=_=>{r(_)},y=async _=>_,v=async()=>{if(!t){u("Please select a platform.");return}if(n.length===0){u("Please upload an image.");return}a(!0),u(null),i(null);try{const _=await y(n[0]);if(!_){u("Image processing failed."),a(!1);return}const w=`
        I have uploaded a screenshot of my ${t} analytics data.
        Please analyze this image and provide:
        1. A summary of what the data shows
        2. Actionable recommendations to improve my metrics
        
        My preferred language is ${d}.
      `,x=(await dw(w,[_])).split(`
`),b=x.slice(0,3).join(`
`),E=x.slice(3).filter(S=>S.trim()).map(S=>S.replace(/^-\s*/,""));i({summary:b,suggestions:E})}catch(_){console.error("AI Analysis Error:",_),u(_.message||"Failed to analyze image. Please try again.")}finally{a(!1)}};return c.jsx(wo,{featureName:"advanced-analytics",children:c.jsx("div",{className:"container mx-auto py-12 px-4 animate-fade-in",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-social-purple to-social-darkpurple bg-clip-text text-transparent mb-4",children:"Analytics Insights"}),c.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Upload your social media analytics screenshots and let our AI provide actionable insights to grow your audience."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsx(Fe,{className:"bg-gradient-to-br from-white to-gray-50 shadow-md hover:shadow-lg transition-all duration-300 border-t-4 border-t-social-purple",children:c.jsxs(at,{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-social-purple/10 mx-auto mb-2",children:c.jsx(e2,{className:"h-6 w-6 text-social-purple"})}),c.jsx(lt,{className:"text-center",children:"1. Upload"}),c.jsx(ft,{className:"text-center",children:"Select platform & upload your analytics screenshot"})]})}),c.jsx(Fe,{className:"bg-gradient-to-br from-white to-gray-50 shadow-md hover:shadow-lg transition-all duration-300 border-t-4 border-t-social-purple",children:c.jsxs(at,{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-social-purple/10 mx-auto mb-2",children:c.jsx(Id,{className:"h-6 w-6 text-social-purple"})}),c.jsx(lt,{className:"text-center",children:"2. Analyze"}),c.jsx(ft,{className:"text-center",children:"Our AI analyzes your metrics and performance"})]})}),c.jsx(Fe,{className:"bg-gradient-to-br from-white to-gray-50 shadow-md hover:shadow-lg transition-all duration-300 border-t-4 border-t-social-purple",children:c.jsxs(at,{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-social-purple/10 mx-auto mb-2",children:c.jsx(N9,{className:"h-6 w-6 text-social-purple"})}),c.jsx(lt,{className:"text-center",children:"3. Improve"}),c.jsx(ft,{className:"text-center",children:"Get actionable insights to improve your metrics"})]})})]}),c.jsxs(Fe,{className:"bg-white shadow-xl transition-all duration-300 overflow-hidden border-0 rounded-xl",children:[c.jsxs(at,{className:"bg-gradient-to-r from-social-purple/10 to-social-darkpurple/5 p-6",children:[c.jsxs(lt,{className:"flex items-center gap-2",children:[c.jsx(Id,{className:"h-5 w-5 text-social-purple"}),"Analytics Uploader",c.jsx(Oa,{variant:"outline",className:"ml-auto bg-white/50 text-social-purple",children:"Premium"})]}),c.jsx(ft,{children:"Upload a screenshot of your analytics to get AI-powered insights."})]}),c.jsxs(Ze,{className:"p-6 space-y-6",children:[l&&c.jsxs(ra,{variant:"destructive",className:"mb-4 animate-fade-in",children:[c.jsx(Y0,{className:"h-4 w-4"}),c.jsx(ru,{children:"Error"}),c.jsx(sa,{children:l})]}),c.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-100",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Step 1: Select Platform & Language"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Platform"}),c.jsx(nw,{onSelect:f,selectedPlatform:t})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Language"}),c.jsx(_T,{onSelect:h,selectedLanguage:d})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-100",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Step 2: Upload Analytics Screenshot"}),c.jsx(G$,{onImagesUploaded:p})]}),c.jsx(_e,{className:"w-full bg-gradient-to-r from-social-purple to-social-darkpurple hover:from-social-darkpurple hover:to-social-purple transition-all duration-300 py-6 text-lg group",onClick:v,disabled:o||!t||n.length===0,children:o?c.jsxs(c.Fragment,{children:["Analyzing...",c.jsx(C9,{className:"ml-2 h-5 w-5 animate-spin"})]}):c.jsxs(c.Fragment,{children:["Analyze Stats",c.jsx(Gj,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]}),s&&c.jsxs("div",{className:"mt-8 animate-fade-in bg-gradient-to-r from-social-purple/5 to-social-darkpurple/5 p-6 rounded-xl border border-social-purple/10",children:[c.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[c.jsx(Id,{className:"mr-2 h-5 w-5 text-social-purple"}),"Analysis Results"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"font-medium text-social-purple mb-2",children:"Summary"}),c.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.summary})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[c.jsx("h3",{className:"font-medium text-social-purple mb-2",children:"Suggestions"}),c.jsx("ul",{className:"space-y-2 text-gray-700",children:s.suggestions.map((_,w)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0 h-5 w-5 rounded-full bg-social-purple/10 flex items-center justify-center mr-2 mt-0.5",children:c.jsx("span",{className:"text-xs font-bold text-social-purple",children:w+1})}),c.jsx("span",{children:_})]},w))})]})]})]})]})]})]})})})}const the=new Y8,nhe=()=>c.jsx(J8,{client:the,children:c.jsx(oee,{children:c.jsx(cee,{children:c.jsxs(V2,{children:[c.jsx(SB,{}),c.jsx(ZB,{}),c.jsx(K7,{children:c.jsxs(U7,{children:[c.jsx(kn,{path:"/",element:c.jsx(gre,{})}),c.jsx(kn,{path:"/login",element:c.jsx(yse,{})}),c.jsx(kn,{path:"/register",element:c.jsx(mse,{})}),c.jsx(kn,{path:"/forgot-password",element:c.jsx(xse,{})}),c.jsx(kn,{path:"/dashboard",element:c.jsx(Vu,{children:c.jsx(is,{children:c.jsx(kie,{})})})}),c.jsx(kn,{path:"/subscription",element:c.jsx(Vu,{children:c.jsx(is,{children:c.jsx(yde,{})})})}),c.jsx(kn,{path:"/courses",element:c.jsx(Vu,{children:c.jsx(is,{children:c.jsx(UA,{})})})}),c.jsx(kn,{path:"/courses/:platform",element:c.jsx(Vu,{children:c.jsx(is,{children:c.jsx(UA,{})})})}),c.jsx(kn,{path:"/courses/:platform/:courseId",element:c.jsx(wo,{featureName:"course-content",children:c.jsx(is,{children:c.jsx(Rue,{})})})}),c.jsx(kn,{path:"/ai-coach",element:c.jsx(wo,{featureName:"ai-coach",children:c.jsx(is,{children:c.jsx(mde,{})})})}),c.jsx(kn,{path:"/free-videos",element:c.jsx(Vu,{children:c.jsx(is,{children:c.jsx(Kde,{})})})}),c.jsx(kn,{path:"/video-planner",element:c.jsx(wo,{featureName:"video-planner",children:c.jsx(is,{children:c.jsx(Yde,{})})})}),c.jsx(kn,{path:"/analyze-stats",element:c.jsx(wo,{featureName:"advanced-analytics",children:c.jsx(is,{children:c.jsx(Zde,{})})})}),c.jsx(kn,{path:"/analytics-upload",element:c.jsx(wo,{featureName:"advanced-analytics",children:c.jsx(is,{children:c.jsx(ehe,{})})})}),c.jsx(kn,{path:"*",element:c.jsx(yre,{})})]})})]})})})});vj(document.getElementById("root")).render(c.jsx(nhe,{}));
